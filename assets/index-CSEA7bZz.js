(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function wA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Fm={exports:{}},Xl={};var w0;function SA(){if(w0)return Xl;w0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:i,type:r,key:c,ref:o!==void 0?o:null,props:l}}return Xl.Fragment=e,Xl.jsx=t,Xl.jsxs=t,Xl}var S0;function AA(){return S0||(S0=1,Fm.exports=SA()),Fm.exports}var T=AA(),$m={exports:{}},xe={};var A0;function xA(){if(A0)return xe;A0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function C(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,U={};function H(O,J,ae){this.props=O,this.context=J,this.refs=U,this.updater=ae||V}H.prototype.isReactComponent={},H.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function B(){}B.prototype=H.prototype;function $(O,J,ae){this.props=O,this.context=J,this.refs=U,this.updater=ae||V}var re=$.prototype=new B;re.constructor=$,j(re,H.prototype),re.isPureReactComponent=!0;var he=Array.isArray;function fe(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(O,J,ae){var ue=ae.ref;return{$$typeof:i,type:O,key:J,ref:ue!==void 0?ue:null,props:ae}}function k(O,J){return I(O.type,J,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function z(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return J[ae]})}var N=/\/+/g;function Oe(O,J){return typeof O=="object"&&O!==null&&O.key!=null?z(""+O.key):J.toString(36)}function it(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(fe,fe):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function X(O,J,ae,ue,be){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var He=!1;if(O===null)He=!0;else switch(Ce){case"bigint":case"string":case"number":He=!0;break;case"object":switch(O.$$typeof){case i:case e:He=!0;break;case _:return He=O._init,X(He(O._payload),J,ae,ue,be)}}if(He)return be=be(O),He=ue===""?"."+Oe(O,0):ue,he(be)?(ae="",He!=null&&(ae=He.replace(N,"$&/")+"/"),X(be,J,ae,"",function(Ir){return Ir})):be!=null&&(M(be)&&(be=k(be,ae+(be.key==null||O&&O.key===be.key?"":(""+be.key).replace(N,"$&/")+"/")+He)),J.push(be)),1;He=0;var Vt=ue===""?".":ue+":";if(he(O))for(var ut=0;ut<O.length;ut++)ue=O[ut],Ce=Vt+Oe(ue,ut),He+=X(ue,J,ae,Ce,be);else if(ut=C(O),typeof ut=="function")for(O=ut.call(O),ut=0;!(ue=O.next()).done;)ue=ue.value,Ce=Vt+Oe(ue,ut++),He+=X(ue,J,ae,Ce,be);else if(Ce==="object"){if(typeof O.then=="function")return X(it(O),J,ae,ue,be);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return He}function oe(O,J,ae){if(O==null)return O;var ue=[],be=0;return X(O,ue,"","",function(Ce){return J.call(ae,Ce,be++)}),ue}function me(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var De=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ie={map:oe,forEach:function(O,J,ae){oe(O,function(){J.apply(this,arguments)},ae)},count:function(O){var J=0;return oe(O,function(){J++}),J},toArray:function(O){return oe(O,function(J){return J})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return xe.Activity=v,xe.Children=ie,xe.Component=H,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=$,xe.StrictMode=r,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,xe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},xe.cache=function(O){return function(){return O.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(O,J,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ue=j({},O.props),be=O.key;if(J!=null)for(Ce in J.key!==void 0&&(be=""+J.key),J)!x.call(J,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&J.ref===void 0||(ue[Ce]=J[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ae;else if(1<Ce){for(var He=Array(Ce),Vt=0;Vt<Ce;Vt++)He[Vt]=arguments[Vt+2];ue.children=He}return I(O.type,be,ue)},xe.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},xe.createElement=function(O,J,ae){var ue,be={},Ce=null;if(J!=null)for(ue in J.key!==void 0&&(Ce=""+J.key),J)x.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=J[ue]);var He=arguments.length-2;if(He===1)be.children=ae;else if(1<He){for(var Vt=Array(He),ut=0;ut<He;ut++)Vt[ut]=arguments[ut+2];be.children=Vt}if(O&&O.defaultProps)for(ue in He=O.defaultProps,He)be[ue]===void 0&&(be[ue]=He[ue]);return I(O,Ce,be)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(O){return{$$typeof:d,render:O}},xe.isValidElement=M,xe.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:me}},xe.memo=function(O,J){return{$$typeof:g,type:O,compare:J===void 0?null:J}},xe.startTransition=function(O){var J=R.T,ae={};R.T=ae;try{var ue=O(),be=R.S;be!==null&&be(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(fe,De)}catch(Ce){De(Ce)}finally{J!==null&&ae.types!==null&&(J.types=ae.types),R.T=J}},xe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},xe.use=function(O){return R.H.use(O)},xe.useActionState=function(O,J,ae){return R.H.useActionState(O,J,ae)},xe.useCallback=function(O,J){return R.H.useCallback(O,J)},xe.useContext=function(O){return R.H.useContext(O)},xe.useDebugValue=function(){},xe.useDeferredValue=function(O,J){return R.H.useDeferredValue(O,J)},xe.useEffect=function(O,J){return R.H.useEffect(O,J)},xe.useEffectEvent=function(O){return R.H.useEffectEvent(O)},xe.useId=function(){return R.H.useId()},xe.useImperativeHandle=function(O,J,ae){return R.H.useImperativeHandle(O,J,ae)},xe.useInsertionEffect=function(O,J){return R.H.useInsertionEffect(O,J)},xe.useLayoutEffect=function(O,J){return R.H.useLayoutEffect(O,J)},xe.useMemo=function(O,J){return R.H.useMemo(O,J)},xe.useOptimistic=function(O,J){return R.H.useOptimistic(O,J)},xe.useReducer=function(O,J,ae){return R.H.useReducer(O,J,ae)},xe.useRef=function(O){return R.H.useRef(O)},xe.useState=function(O){return R.H.useState(O)},xe.useSyncExternalStore=function(O,J,ae){return R.H.useSyncExternalStore(O,J,ae)},xe.useTransition=function(){return R.H.useTransition()},xe.version="19.2.0",xe}var x0;function mf(){return x0||(x0=1,$m.exports=xA()),$m.exports}var P=mf();const lt=wA(P);var Gm={exports:{}},Wl={},Km={exports:{}},Qm={};var R0;function RA(){return R0||(R0=1,(function(i){function e(X,oe){var me=X.length;X.push(oe);e:for(;0<me;){var De=me-1>>>1,ie=X[De];if(0<o(ie,oe))X[De]=oe,X[me]=ie,me=De;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var oe=X[0],me=X.pop();if(me!==oe){X[0]=me;e:for(var De=0,ie=X.length,O=ie>>>1;De<O;){var J=2*(De+1)-1,ae=X[J],ue=J+1,be=X[ue];if(0>o(ae,me))ue<ie&&0>o(be,ae)?(X[De]=be,X[ue]=me,De=ue):(X[De]=ae,X[J]=me,De=J);else if(ue<ie&&0>o(be,me))X[De]=be,X[ue]=me,De=ue;else break e}}return oe}function o(X,oe){var me=X.sortIndex-oe.sortIndex;return me!==0?me:X.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,v=null,w=3,C=!1,V=!1,j=!1,U=!1,H=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function re(X){for(var oe=t(g);oe!==null;){if(oe.callback===null)r(g);else if(oe.startTime<=X)r(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function he(X){if(j=!1,re(X),!V)if(t(p)!==null)V=!0,fe||(fe=!0,z());else{var oe=t(g);oe!==null&&it(he,oe.startTime-X)}}var fe=!1,R=-1,x=5,I=-1;function k(){return U?!0:!(i.unstable_now()-I<x)}function M(){if(U=!1,fe){var X=i.unstable_now();I=X;var oe=!0;try{e:{V=!1,j&&(j=!1,B(R),R=-1),C=!0;var me=w;try{t:{for(re(X),v=t(p);v!==null&&!(v.expirationTime>X&&k());){var De=v.callback;if(typeof De=="function"){v.callback=null,w=v.priorityLevel;var ie=De(v.expirationTime<=X);if(X=i.unstable_now(),typeof ie=="function"){v.callback=ie,re(X),oe=!0;break t}v===t(p)&&r(p),re(X)}else r(p);v=t(p)}if(v!==null)oe=!0;else{var O=t(g);O!==null&&it(he,O.startTime-X),oe=!1}}break e}finally{v=null,w=me,C=!1}oe=void 0}}finally{oe?z():fe=!1}}}var z;if(typeof $=="function")z=function(){$(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Oe=N.port2;N.port1.onmessage=M,z=function(){Oe.postMessage(null)}}else z=function(){H(M,0)};function it(X,oe){R=H(function(){X(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(X){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var me=w;w=oe;try{return X()}finally{w=me}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=w;w=X;try{return oe()}finally{w=me}},i.unstable_scheduleCallback=function(X,oe,me){var De=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?De+me:De):me=De,X){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=me+ie,X={id:_++,callback:oe,priorityLevel:X,startTime:me,expirationTime:ie,sortIndex:-1},me>De?(X.sortIndex=me,e(g,X),t(p)===null&&X===t(g)&&(j?(B(R),R=-1):j=!0,it(he,me-De))):(X.sortIndex=ie,e(p,X),V||C||(V=!0,fe||(fe=!0,z()))),X},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(X){var oe=w;return function(){var me=w;w=oe;try{return X.apply(this,arguments)}finally{w=me}}}})(Qm)),Qm}var C0;function CA(){return C0||(C0=1,Km.exports=RA()),Km.exports}var Ym={exports:{}},Zt={};var I0;function IA(){if(I0)return Zt;I0=1;var i=mf();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},Zt.flushSync=function(p){var g=c.T,_=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=_,r.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:C}):_==="script"&&r.d.X(p,{crossOrigin:v,integrity:w,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin);r.d.L(p,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Zt.requestFormReset=function(p){r.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},Zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var N0;function NA(){if(N0)return Ym.exports;N0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ym.exports=IA(),Ym.exports}var O0;function OA(){if(O0)return Wl;O0=1;var i=CA(),e=mf(),t=NA();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,u=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),n;if(m===u)return p(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==u.return)a=f,u=m;else{for(var E=!1,S=f.child;S;){if(S===a){E=!0,a=f,u=m;break}if(S===u){E=!0,u=f,a=m;break}S=S.sibling}if(!E){for(S=m.child;S;){if(S===a){E=!0,a=m,u=f;break}if(S===u){E=!0,u=m,a=f;break}S=S.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==u)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function _(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=_(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),$=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function Oe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case j:return"Fragment";case H:return"Profiler";case U:return"StrictMode";case he:return"Suspense";case fe:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case V:return"Portal";case $:return n.displayName||"Context";case B:return(n._context.displayName||"Context")+".Consumer";case re:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return s=n.displayName||null,s!==null?s:Oe(n.type)||"Memo";case x:s=n._payload,n=n._init;try{return Oe(n(s))}catch{}}return null}var it=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},De=[],ie=-1;function O(n){return{current:n}}function J(n){0>ie||(n.current=De[ie],De[ie]=null,ie--)}function ae(n,s){ie++,De[ie]=n.current,n.current=s}var ue=O(null),be=O(null),Ce=O(null),He=O(null);function Vt(n,s){switch(ae(Ce,s),ae(be,n),ae(ue,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Gv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Gv(s),n=Kv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(ue),ae(ue,n)}function ut(){J(ue),J(be),J(Ce)}function Ir(n){n.memoizedState!==null&&ae(He,n);var s=ue.current,a=Kv(s,n.type);s!==a&&(ae(be,n),ae(ue,a))}function Aa(n){be.current===n&&(J(ue),J(be)),He.current===n&&(J(He),Gl._currentValue=me)}var xa,Ra;function di(n){if(xa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);xa=s&&s[1]||"",Ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xa+n+Ra}var Go=!1;function Nr(n,s){if(!n||Go)return"";Go=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(W){var Q=W}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(W){Q=W}n.call(ne.prototype)}}else{try{throw Error()}catch(W){Q=W}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],S=m[1];if(E&&S){var D=E.split(`
`),K=S.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===K.length)for(u=D.length-1,f=K.length-1;1<=u&&0<=f&&D[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==K[f]){var Z=`
`+D[u].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=u&&0<=f);break}}}finally{Go=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?di(a):""}function Ko(n,s){switch(n.tag){case 26:case 27:case 5:return di(n.type);case 16:return di("Lazy");case 13:return n.child!==s&&s!==null?di("Suspense Fallback"):di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return Nr(n.type,!1);case 11:return Nr(n.type.render,!1);case 1:return Nr(n.type,!0);case 31:return di("Activity");default:return""}}function Qo(n){try{var s="",a=null;do s+=Ko(n,a),a=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Tt=Object.prototype.hasOwnProperty,Lt=i.unstable_scheduleCallback,xs=i.unstable_cancelCallback,Gf=i.unstable_shouldYield,Yu=i.unstable_requestPaint,rn=i.unstable_now,Or=i.unstable_getCurrentPriorityLevel,Yo=i.unstable_ImmediatePriority,Xo=i.unstable_UserBlockingPriority,Rs=i.unstable_NormalPriority,Kf=i.unstable_LowPriority,Xu=i.unstable_IdlePriority,Wu=i.log,Ju=i.unstable_setDisableYieldValue,Yn=null,Ft=null;function Mn(n){if(typeof Wu=="function"&&Ju(n),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Yn,n)}catch{}}var yt=Math.clz32?Math.clz32:ec,Zu=Math.log,Ca=Math.LN2;function ec(n){return n>>>=0,n===0?32:31-(Zu(n)/Ca|0)|0}var mi=256,kr=262144,wt=4194304;function pi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gi(n,s,a){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?f=pi(u):(E&=S,E!==0?f=pi(E):a||(a=S&~n,a!==0&&(f=pi(a))))):(S=u&~m,S!==0?f=pi(S):E!==0?f=pi(E):a||(a=u&~n,a!==0&&(f=pi(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Xn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Qf(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(){var n=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),n}function yi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Dr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yf(n,s,a,u,f,m){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,D=n.expirationTimes,K=n.hiddenUpdates;for(a=E&~a;0<a;){var Z=31-yt(a),ne=1<<Z;S[Z]=0,D[Z]=-1;var Q=K[Z];if(Q!==null)for(K[Z]=null,Z=0;Z<Q.length;Z++){var W=Q[Z];W!==null&&(W.lane&=-536870913)}a&=~ne}u!==0&&Mr(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~s))}function Mr(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-yt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|a&261930}function Wo(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var u=31-yt(a),f=1<<u;f&s|n[u]&s&&(n[u]|=s),a&=~f}}function Jo(n,s){var a=s&-s;return a=(a&42)!==0?1:Vr(a),(a&(n.suspendedLanes|s))!==0?0:a}function Vr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Fi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function nc(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:g0(n.type))}function Wn(n,s){var a=oe.p;try{return oe.p=n,s()}finally{oe.p=a}}var Jn=Math.random().toString(36).slice(2),St="__reactFiber$"+Jn,zt="__reactProps$"+Jn,_i="__reactContainer$"+Jn,Ia="__reactEvents$"+Jn,Xf="__reactListeners$"+Jn,ic="__reactHandles$"+Jn,sc="__reactResources$"+Jn,vi="__reactMarker$"+Jn;function Na(n){delete n[St],delete n[zt],delete n[Ia],delete n[Xf],delete n[ic]}function Ei(n){var s=n[St];if(s)return s;for(var a=n.parentNode;a;){if(s=a[_i]||a[St]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=e0(n);n!==null;){if(a=n[St])return a;n=e0(n)}return s}n=a,a=n.parentNode}return null}function Vn(n){if(n=n[St]||n[_i]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function bn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function bi(n){var s=n[sc];return s||(s=n[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(n){n[vi]=!0}var Zo=new Set,el={};function Ti(n,s){wi(n,s),wi(n+"Capture",s)}function wi(n,s){for(el[n]=s,n=0;n<s.length;n++)Zo.add(s[n])}var tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},il={};function rc(n){return Tt.call(il,n)?!0:Tt.call(nl,n)?!1:tl.test(n)?il[n]=!0:(nl[n]=!0,!1)}function Oa(n,s,a){if(rc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Tn(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function xt(n,s,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+u)}}function Bt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Cs(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function sl(n,s,a){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,m.call(this,E)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ye(n){if(!n._valueTracker){var s=Cs(n)?"checked":"value";n._valueTracker=sl(n,s,""+n[s])}}function Lr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return n&&(u=Cs(n)?n.checked?"true":"false":n.value),n=u,n!==a?(s.setValue(n),!0):!1}function Si(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Pr=/[\n"\\]/g;function cn(n){return n.replace(Pr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ka(n,s,a,u,f,m,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Bt(s)):n.value!==""+Bt(s)&&(n.value=""+Bt(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?rl(n,E,Bt(s)):a!=null?rl(n,E,Bt(a)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Bt(S):n.removeAttribute("name")}function ac(n,s,a,u,f,m,E,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Ye(n);return}a=a!=null?""+Bt(a):"",s=s!=null?""+Bt(s):a,S||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),Ye(n)}function rl(n,s,a){s==="number"&&Si(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Is(n,s,a,u){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+Bt(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function oc(n,s,a){if(s!=null&&(s=""+Bt(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Bt(a):""}function Ns(n,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(r(92));if(it(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=Bt(s),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u),Ye(n)}function hn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(n,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,a):typeof a!="number"||a===0||lc.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function ol(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&a[f]!==u&&al(n,f,u)}else for(var m in s)s.hasOwnProperty(m)&&al(n,m,s[m])}function Da(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(n){return Os.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Zn(){}var ll=null;function Ln(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ks=null,Ai=null;function Ur(n){var s=Vn(n);if(s&&(n=s.stateNode)){var a=n[zt]||null;e:switch(n=s.stateNode,s.type){case"input":if(ka(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==n&&u.form===n.form){var f=u[zt]||null;if(!f)throw Error(r(90));ka(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===n.form&&Lr(u)}break e;case"textarea":oc(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Is(n,!!a.multiple,s,!1)}}}var Va=!1;function Ds(n,s,a){if(Va)return n(s,a);Va=!0;try{var u=n(s);return u}finally{if(Va=!1,(ks!==null||Ai!==null)&&(nh(),ks&&(s=ks,n=Ai,Ai=ks=null,Ur(s),n)))for(s=0;s<n.length;s++)Ur(n[s])}}function ei(n,s){var a=n.stateNode;if(a===null)return null;var u=a[zt]||null;if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(Pn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){jr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{jr=!1}var xi=null,ul=null,zr=null;function cl(){if(zr)return zr;var n,s=ul,a=s.length,u,f="value"in xi?xi.value:xi.textContent,m=f.length;for(n=0;n<a&&s[n]===f[n];n++);var E=a-n;for(u=1;u<=E&&s[a-u]===f[m-u];u++);return zr=f.slice(n,1<u?1-u:void 0)}function Br(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function $i(){return!0}function ti(){return!1}function $t(n){function s(a,u,f,m,E){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?$i:ti,this.isPropagationStopped=ti,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),s}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=$t(Gi),Ms=v({},Gi,{view:0,detail:0}),hl=$t(Ms),Vs,La,Ci,Pa=v({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ci&&(Ci&&n.type==="mousemove"?(Vs=n.screenX-Ci.screenX,La=n.screenY-Ci.screenY):La=Vs=0,Ci=n),Vs)},movementY:function(n){return"movementY"in n?n.movementY:La}}),fl=$t(Pa),Hr=v({},Pa,{dataTransfer:0}),cc=$t(Hr),hc=v({},Ms,{relatedTarget:0}),qr=$t(hc),dl=v({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=$t(dl),Ua=v({},Gi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dc=$t(Ua),mc=v({},Gi,{data:0}),Ii=$t(mc),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _c(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=yc[n])?!!s[n]:!1}function Ls(){return _c}var an=v({},Ms,{key:function(n){if(n.key){var s=pc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Br(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(n){return n.type==="keypress"?Br(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Br(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vc=$t(an),Ec=v({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=$t(Ec),h=v({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),y=$t(h),b=v({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=$t(b),F=v({},Pa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=$t(F),le=v({},Gi,{newState:0,oldState:0}),Ie=$t(le),_t=[9,13,27,32],Ge=Pn&&"CompositionEvent"in window,ct=null;Pn&&"documentMode"in document&&(ct=document.documentMode);var Un=Pn&&"TextEvent"in window&&!ct,Ni=Pn&&(!Ge||ct&&8<ct&&11>=ct),ni=" ",ii=!1;function Fr(n,s){switch(n){case"keyup":return _t.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var za=!1;function Kw(n,s){switch(n){case"compositionend":return ja(s);case"keypress":return s.which!==32?null:(ii=!0,ni);case"textInput":return n=s.data,n===ni&&ii?null:n;default:return null}}function Qw(n,s){if(za)return n==="compositionend"||!Ge&&Fr(n,s)?(n=cl(),zr=ul=xi=null,za=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ni&&s.locale!=="ko"?null:s.data;default:return null}}var Yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Yw[n.type]:s==="textarea"}function sy(n,s,a,u){ks?Ai?Ai.push(u):Ai=[u]:ks=u,s=uh(s,"onChange"),0<s.length&&(a=new Ri("onChange","change",null,a,u),n.push({event:a,listeners:s}))}var ml=null,pl=null;function Xw(n){zv(n,0)}function bc(n){var s=bn(n);if(Lr(s))return n}function ry(n,s){if(n==="change")return s}var ay=!1;if(Pn){var Wf;if(Pn){var Jf="oninput"in document;if(!Jf){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),Jf=typeof oy.oninput=="function"}Wf=Jf}else Wf=!1;ay=Wf&&(!document.documentMode||9<document.documentMode)}function ly(){ml&&(ml.detachEvent("onpropertychange",uy),pl=ml=null)}function uy(n){if(n.propertyName==="value"&&bc(pl)){var s=[];sy(s,pl,n,Ln(n)),Ds(Xw,s)}}function Ww(n,s,a){n==="focusin"?(ly(),ml=s,pl=a,ml.attachEvent("onpropertychange",uy)):n==="focusout"&&ly()}function Jw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return bc(pl)}function Zw(n,s){if(n==="click")return bc(s)}function eS(n,s){if(n==="input"||n==="change")return bc(s)}function tS(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var wn=typeof Object.is=="function"?Object.is:tS;function gl(n,s){if(wn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Tt.call(s,f)||!wn(n[f],s[f]))return!1}return!0}function cy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hy(n,s){var a=cy(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=s&&u>=s)return{node:a,offset:s-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cy(a)}}function fy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?fy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function dy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Si(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Si(n.document)}return s}function Zf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var nS=Pn&&"documentMode"in document&&11>=document.documentMode,Ba=null,ed=null,yl=null,td=!1;function my(n,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;td||Ba==null||Ba!==Si(u)||(u=Ba,"selectionStart"in u&&Zf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),yl&&gl(yl,u)||(yl=u,u=uh(ed,"onSelect"),0<u.length&&(s=new Ri("onSelect","select",null,s,a),n.push({event:s,listeners:u}),s.target=Ba)))}function $r(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ha={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},nd={},py={};Pn&&(py=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Gr(n){if(nd[n])return nd[n];if(!Ha[n])return n;var s=Ha[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in py)return nd[n]=s[a];return n}var gy=Gr("animationend"),yy=Gr("animationiteration"),_y=Gr("animationstart"),iS=Gr("transitionrun"),sS=Gr("transitionstart"),rS=Gr("transitioncancel"),vy=Gr("transitionend"),Ey=new Map,id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");id.push("scrollEnd");function si(n,s){Ey.set(n,s),Ti(s,[n])}var Tc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},jn=[],qa=0,sd=0;function wc(){for(var n=qa,s=sd=qa=0;s<n;){var a=jn[s];jn[s++]=null;var u=jn[s];jn[s++]=null;var f=jn[s];jn[s++]=null;var m=jn[s];if(jn[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&by(a,f,m)}}function Sc(n,s,a,u){jn[qa++]=n,jn[qa++]=s,jn[qa++]=a,jn[qa++]=u,sd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function rd(n,s,a,u){return Sc(n,s,a,u),Ac(n)}function Kr(n,s){return Sc(n,null,null,s),Ac(n)}function by(n,s,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-yt(a),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=a|536870912),m):null}function Ac(n){if(50<jl)throw jl=0,mm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Fa={};function aS(n,s,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(n,s,a,u){return new aS(n,s,a,u)}function ad(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qi(n,s){var a=n.alternate;return a===null?(a=Sn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ty(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function xc(n,s,a,u,f,m){var E=0;if(u=n,typeof n=="function")ad(n)&&(E=1);else if(typeof n=="string")E=hA(n,a,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=Sn(31,a,s,f),n.elementType=I,n.lanes=m,n;case j:return Qr(a.children,f,m,s);case U:E=8,f|=24;break;case H:return n=Sn(12,a,s,f|2),n.elementType=H,n.lanes=m,n;case he:return n=Sn(13,a,s,f),n.elementType=he,n.lanes=m,n;case fe:return n=Sn(19,a,s,f),n.elementType=fe,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case $:E=10;break e;case B:E=9;break e;case re:E=11;break e;case R:E=14;break e;case x:E=16,u=null;break e}E=29,a=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=Sn(E,a,s,f),s.elementType=n,s.type=u,s.lanes=m,s}function Qr(n,s,a,u){return n=Sn(7,n,u,s),n.lanes=a,n}function od(n,s,a){return n=Sn(6,n,null,s),n.lanes=a,n}function wy(n){var s=Sn(18,null,null,0);return s.stateNode=n,s}function ld(n,s,a){return s=Sn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Sy=new WeakMap;function zn(n,s){if(typeof n=="object"&&n!==null){var a=Sy.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Qo(s)},Sy.set(n,s),s)}return{value:n,source:s,stack:Qo(s)}}var $a=[],Ga=0,Rc=null,_l=0,Bn=[],Hn=0,Ps=null,Oi=1,ki="";function Yi(n,s){$a[Ga++]=_l,$a[Ga++]=Rc,Rc=n,_l=s}function Ay(n,s,a){Bn[Hn++]=Oi,Bn[Hn++]=ki,Bn[Hn++]=Ps,Ps=n;var u=Oi;n=ki;var f=32-yt(u)-1;u&=~(1<<f),a+=1;var m=32-yt(s)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Oi=1<<32-yt(s)+f|a<<f|u,ki=m+n}else Oi=1<<m|a<<f|u,ki=n}function ud(n){n.return!==null&&(Yi(n,1),Ay(n,1,0))}function cd(n){for(;n===Rc;)Rc=$a[--Ga],$a[Ga]=null,_l=$a[--Ga],$a[Ga]=null;for(;n===Ps;)Ps=Bn[--Hn],Bn[Hn]=null,ki=Bn[--Hn],Bn[Hn]=null,Oi=Bn[--Hn],Bn[Hn]=null}function xy(n,s){Bn[Hn++]=Oi,Bn[Hn++]=ki,Bn[Hn++]=Ps,Oi=s.id,ki=s.overflow,Ps=n}var Gt=null,at=null,Be=!1,Us=null,qn=!1,hd=Error(r(519));function js(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(zn(s,n)),hd}function Ry(n){var s=n.stateNode,a=n.type,u=n.memoizedProps;switch(s[St]=n,s[zt]=u,a){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(a=0;a<Bl.length;a++)Ve(Bl[a],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),ac(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),Ns(s,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||Fv(s.textContent,a)?(u.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),u.onScroll!=null&&Ve("scroll",s),u.onScrollEnd!=null&&Ve("scrollend",s),u.onClick!=null&&(s.onclick=Zn),s=!0):s=!1,s||js(n,!0)}function Cy(n){for(Gt=n.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Gt=Gt.return}}function Ka(n){if(n!==Gt)return!1;if(!Be)return Cy(n),Be=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Im(n.type,n.memoizedProps)),a=!a),a&&at&&js(n),Cy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));at=Zv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));at=Zv(n)}else s===27?(s=at,Zs(n.type)?(n=Mm,Mm=null,at=n):at=s):at=Gt?$n(n.stateNode.nextSibling):null;return!0}function Yr(){at=Gt=null,Be=!1}function fd(){var n=Us;return n!==null&&(pn===null?pn=n:pn.push.apply(pn,n),Us=null),n}function vl(n){Us===null?Us=[n]:Us.push(n)}var dd=O(null),Xr=null,Xi=null;function zs(n,s,a){ae(dd,s._currentValue),s._currentValue=a}function Wi(n){n._currentValue=dd.current,J(dd)}function md(n,s,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===a)break;n=n.return}}function pd(n,s,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var D=0;D<s.length;D++)if(S.context===s[D]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),md(m.return,a,n),u||(E=null);break e}m=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),md(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Qa(n,s,a,u){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var S=f.type;wn(f.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(f===He.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Gl):n=[Gl])}f=f.return}n!==null&&pd(s,n,a,u),s.flags|=262144}function Cc(n){for(n=n.firstContext;n!==null;){if(!wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Wr(n){Xr=n,Xi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return Iy(Xr,n)}function Ic(n,s){return Xr===null&&Wr(n),Iy(n,s)}function Iy(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Xi===null){if(n===null)throw Error(r(308));Xi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Xi=Xi.next=s;return a}var oS=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},lS=i.unstable_scheduleCallback,uS=i.unstable_NormalPriority,Rt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gd(){return{controller:new oS,data:new Map,refCount:0}}function El(n){n.refCount--,n.refCount===0&&lS(uS,function(){n.controller.abort()})}var bl=null,yd=0,Ya=0,Xa=null;function cS(n,s){if(bl===null){var a=bl=[];yd=0,Ya=Em(),Xa={status:"pending",value:void 0,then:function(u){a.push(u)}}}return yd++,s.then(Ny,Ny),s}function Ny(){if(--yd===0&&bl!==null){Xa!==null&&(Xa.status="fulfilled");var n=bl;bl=null,Ya=0,Xa=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function hS(n,s){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var Oy=X.S;X.S=function(n,s){mv=rn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&cS(n,s),Oy!==null&&Oy(n,s)};var Jr=O(null);function _d(){var n=Jr.current;return n!==null?n:st.pooledCache}function Nc(n,s){s===null?ae(Jr,Jr.current):ae(Jr,s.pool)}function ky(){var n=_d();return n===null?null:{parent:Rt._currentValue,pool:n}}var Wa=Error(r(460)),vd=Error(r(474)),Oc=Error(r(542)),kc={then:function(){}};function Dy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function My(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Zn,Zn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ly(n),n;default:if(typeof s.status=="string")s.then(Zn,Zn);else{if(n=st,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ly(n),n}throw ea=s,Wa}}function Zr(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ea=a,Wa):a}}var ea=null;function Vy(){if(ea===null)throw Error(r(459));var n=ea;return ea=null,n}function Ly(n){if(n===Wa||n===Oc)throw Error(r(483))}var Ja=null,Tl=0;function Dc(n){var s=Tl;return Tl+=1,Ja===null&&(Ja=[]),My(Ja,n,s)}function wl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Mc(n,s){throw s.$$typeof===w?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Py(n){function s(q,L){if(n){var G=q.deletions;G===null?(q.deletions=[L],q.flags|=16):G.push(L)}}function a(q,L){if(!n)return null;for(;L!==null;)s(q,L),L=L.sibling;return null}function u(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function f(q,L){return q=Qi(q,L),q.index=0,q.sibling=null,q}function m(q,L,G){return q.index=G,n?(G=q.alternate,G!==null?(G=G.index,G<L?(q.flags|=67108866,L):G):(q.flags|=67108866,L)):(q.flags|=1048576,L)}function E(q){return n&&q.alternate===null&&(q.flags|=67108866),q}function S(q,L,G,ee){return L===null||L.tag!==6?(L=od(G,q.mode,ee),L.return=q,L):(L=f(L,G),L.return=q,L)}function D(q,L,G,ee){var ye=G.type;return ye===j?Z(q,L,G.props.children,ee,G.key):L!==null&&(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Zr(ye)===L.type)?(L=f(L,G.props),wl(L,G),L.return=q,L):(L=xc(G.type,G.key,G.props,null,q.mode,ee),wl(L,G),L.return=q,L)}function K(q,L,G,ee){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=ld(G,q.mode,ee),L.return=q,L):(L=f(L,G.children||[]),L.return=q,L)}function Z(q,L,G,ee,ye){return L===null||L.tag!==7?(L=Qr(G,q.mode,ee,ye),L.return=q,L):(L=f(L,G),L.return=q,L)}function ne(q,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=od(""+L,q.mode,G),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return G=xc(L.type,L.key,L.props,null,q.mode,G),wl(G,L),G.return=q,G;case V:return L=ld(L,q.mode,G),L.return=q,L;case x:return L=Zr(L),ne(q,L,G)}if(it(L)||z(L))return L=Qr(L,q.mode,G,null),L.return=q,L;if(typeof L.then=="function")return ne(q,Dc(L),G);if(L.$$typeof===$)return ne(q,Ic(q,L),G);Mc(q,L)}return null}function Q(q,L,G,ee){var ye=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ye!==null?null:S(q,L,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return G.key===ye?D(q,L,G,ee):null;case V:return G.key===ye?K(q,L,G,ee):null;case x:return G=Zr(G),Q(q,L,G,ee)}if(it(G)||z(G))return ye!==null?null:Z(q,L,G,ee,null);if(typeof G.then=="function")return Q(q,L,Dc(G),ee);if(G.$$typeof===$)return Q(q,L,Ic(q,G),ee);Mc(q,G)}return null}function W(q,L,G,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return q=q.get(G)||null,S(L,q,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:return q=q.get(ee.key===null?G:ee.key)||null,D(L,q,ee,ye);case V:return q=q.get(ee.key===null?G:ee.key)||null,K(L,q,ee,ye);case x:return ee=Zr(ee),W(q,L,G,ee,ye)}if(it(ee)||z(ee))return q=q.get(G)||null,Z(L,q,ee,ye,null);if(typeof ee.then=="function")return W(q,L,G,Dc(ee),ye);if(ee.$$typeof===$)return W(q,L,G,Ic(L,ee),ye);Mc(L,ee)}return null}function pe(q,L,G,ee){for(var ye=null,Fe=null,ge=L,ke=L=0,Pe=null;ge!==null&&ke<G.length;ke++){ge.index>ke?(Pe=ge,ge=null):Pe=ge.sibling;var $e=Q(q,ge,G[ke],ee);if($e===null){ge===null&&(ge=Pe);break}n&&ge&&$e.alternate===null&&s(q,ge),L=m($e,L,ke),Fe===null?ye=$e:Fe.sibling=$e,Fe=$e,ge=Pe}if(ke===G.length)return a(q,ge),Be&&Yi(q,ke),ye;if(ge===null){for(;ke<G.length;ke++)ge=ne(q,G[ke],ee),ge!==null&&(L=m(ge,L,ke),Fe===null?ye=ge:Fe.sibling=ge,Fe=ge);return Be&&Yi(q,ke),ye}for(ge=u(ge);ke<G.length;ke++)Pe=W(ge,q,ke,G[ke],ee),Pe!==null&&(n&&Pe.alternate!==null&&ge.delete(Pe.key===null?ke:Pe.key),L=m(Pe,L,ke),Fe===null?ye=Pe:Fe.sibling=Pe,Fe=Pe);return n&&ge.forEach(function(sr){return s(q,sr)}),Be&&Yi(q,ke),ye}function ve(q,L,G,ee){if(G==null)throw Error(r(151));for(var ye=null,Fe=null,ge=L,ke=L=0,Pe=null,$e=G.next();ge!==null&&!$e.done;ke++,$e=G.next()){ge.index>ke?(Pe=ge,ge=null):Pe=ge.sibling;var sr=Q(q,ge,$e.value,ee);if(sr===null){ge===null&&(ge=Pe);break}n&&ge&&sr.alternate===null&&s(q,ge),L=m(sr,L,ke),Fe===null?ye=sr:Fe.sibling=sr,Fe=sr,ge=Pe}if($e.done)return a(q,ge),Be&&Yi(q,ke),ye;if(ge===null){for(;!$e.done;ke++,$e=G.next())$e=ne(q,$e.value,ee),$e!==null&&(L=m($e,L,ke),Fe===null?ye=$e:Fe.sibling=$e,Fe=$e);return Be&&Yi(q,ke),ye}for(ge=u(ge);!$e.done;ke++,$e=G.next())$e=W(ge,q,ke,$e.value,ee),$e!==null&&(n&&$e.alternate!==null&&ge.delete($e.key===null?ke:$e.key),L=m($e,L,ke),Fe===null?ye=$e:Fe.sibling=$e,Fe=$e);return n&&ge.forEach(function(TA){return s(q,TA)}),Be&&Yi(q,ke),ye}function tt(q,L,G,ee){if(typeof G=="object"&&G!==null&&G.type===j&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case C:e:{for(var ye=G.key;L!==null;){if(L.key===ye){if(ye=G.type,ye===j){if(L.tag===7){a(q,L.sibling),ee=f(L,G.props.children),ee.return=q,q=ee;break e}}else if(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Zr(ye)===L.type){a(q,L.sibling),ee=f(L,G.props),wl(ee,G),ee.return=q,q=ee;break e}a(q,L);break}else s(q,L);L=L.sibling}G.type===j?(ee=Qr(G.props.children,q.mode,ee,G.key),ee.return=q,q=ee):(ee=xc(G.type,G.key,G.props,null,q.mode,ee),wl(ee,G),ee.return=q,q=ee)}return E(q);case V:e:{for(ye=G.key;L!==null;){if(L.key===ye)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){a(q,L.sibling),ee=f(L,G.children||[]),ee.return=q,q=ee;break e}else{a(q,L);break}else s(q,L);L=L.sibling}ee=ld(G,q.mode,ee),ee.return=q,q=ee}return E(q);case x:return G=Zr(G),tt(q,L,G,ee)}if(it(G))return pe(q,L,G,ee);if(z(G)){if(ye=z(G),typeof ye!="function")throw Error(r(150));return G=ye.call(G),ve(q,L,G,ee)}if(typeof G.then=="function")return tt(q,L,Dc(G),ee);if(G.$$typeof===$)return tt(q,L,Ic(q,G),ee);Mc(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(a(q,L.sibling),ee=f(L,G),ee.return=q,q=ee):(a(q,L),ee=od(G,q.mode,ee),ee.return=q,q=ee),E(q)):a(q,L)}return function(q,L,G,ee){try{Tl=0;var ye=tt(q,L,G,ee);return Ja=null,ye}catch(ge){if(ge===Wa||ge===Oc)throw ge;var Fe=Sn(29,ge,null,q.mode);return Fe.lanes=ee,Fe.return=q,Fe}finally{}}}var ta=Py(!0),Uy=Py(!1),Bs=!1;function Ed(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Hs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qs(n,s,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ke&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Ac(n),by(n,null,a),s}return Sc(n,u,s,a),Ac(n)}function Sl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,Wo(n,a)}}function Td(n,s){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var wd=!1;function Al(){if(wd){var n=Xa;if(n!==null)throw n}}function xl(n,s,a,u){wd=!1;var f=n.updateQueue;Bs=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,K=D.next;D.next=null,E===null?m=K:E.next=K,E=D;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==E&&(S===null?Z.firstBaseUpdate=K:S.next=K,Z.lastBaseUpdate=D))}if(m!==null){var ne=f.baseState;E=0,Z=K=D=null,S=m;do{var Q=S.lane&-536870913,W=Q!==S.lane;if(W?(Le&Q)===Q:(u&Q)===Q){Q!==0&&Q===Ya&&(wd=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=n,ve=S;Q=s;var tt=a;switch(ve.tag){case 1:if(pe=ve.payload,typeof pe=="function"){ne=pe.call(tt,ne,Q);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ve.payload,Q=typeof pe=="function"?pe.call(tt,ne,Q):pe,Q==null)break e;ne=v({},ne,Q);break e;case 2:Bs=!0}}Q=S.callback,Q!==null&&(n.flags|=64,W&&(n.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(K=Z=W,D=ne):Z=Z.next=W,E|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;W=S,S=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);Z===null&&(D=ne),f.baseState=D,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),Qs|=E,n.lanes=E,n.memoizedState=ne}}function jy(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function zy(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)jy(a[n],s)}var Za=O(null),Vc=O(0);function By(n,s){n=as,ae(Vc,n),ae(Za,s),as=n|s.baseLanes}function Sd(){ae(Vc,as),ae(Za,Za.current)}function Ad(){as=Vc.current,J(Za),J(Vc)}var An=O(null),Fn=null;function Fs(n){var s=n.alternate;ae(vt,vt.current&1),ae(An,n),Fn===null&&(s===null||Za.current!==null||s.memoizedState!==null)&&(Fn=n)}function xd(n){ae(vt,vt.current),ae(An,n),Fn===null&&(Fn=n)}function Hy(n){n.tag===22?(ae(vt,vt.current),ae(An,n),Fn===null&&(Fn=n)):$s()}function $s(){ae(vt,vt.current),ae(An,An.current)}function xn(n){J(An),Fn===n&&(Fn=null),J(vt)}var vt=O(0);function Lc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||km(a)||Dm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ji=0,Ne=null,Ze=null,Ct=null,Pc=!1,eo=!1,na=!1,Uc=0,Rl=0,to=null,fS=0;function pt(){throw Error(r(321))}function Rd(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!wn(n[a],s[a]))return!1;return!0}function Cd(n,s,a,u,f,m){return Ji=m,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=n===null||n.memoizedState===null?A_:qd,na=!1,m=a(u,f),na=!1,eo&&(m=Fy(s,a,u,f)),qy(n),m}function qy(n){X.H=Nl;var s=Ze!==null&&Ze.next!==null;if(Ji=0,Ct=Ze=Ne=null,Pc=!1,Rl=0,to=null,s)throw Error(r(300));n===null||It||(n=n.dependencies,n!==null&&Cc(n)&&(It=!0))}function Fy(n,s,a,u){Ne=n;var f=0;do{if(eo&&(to=null),Rl=0,eo=!1,25<=f)throw Error(r(301));if(f+=1,Ct=Ze=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=x_,m=s(a,u)}while(eo);return m}function dS(){var n=X.H,s=n.useState()[0];return s=typeof s.then=="function"?Cl(s):s,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(Ne.flags|=1024),s}function Id(){var n=Uc!==0;return Uc=0,n}function Nd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Od(n){if(Pc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Pc=!1}Ji=0,Ct=Ze=Ne=null,eo=!1,Rl=Uc=0,to=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ne.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function Et(){if(Ze===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var s=Ct===null?Ne.memoizedState:Ct.next;if(s!==null)Ct=s,Ze=n;else{if(n===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ct===null?Ne.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(n){var s=Rl;return Rl+=1,to===null&&(to=[]),n=My(to,n,s),s=Ne,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?A_:qd),n}function zc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Cl(n);if(n.$$typeof===$)return Kt(n)}throw Error(r(438,String(n)))}function kd(n){var s=null,a=Ne.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=jc(),Ne.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),u=0;u<n;u++)a[u]=k;return s.index++,a}function Zi(n,s){return typeof s=="function"?s(n):s}function Bc(n){var s=Et();return Dd(s,Ze,n)}function Dd(n,s,a){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}s.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var S=E=null,D=null,K=s,Z=!1;do{var ne=K.lane&-536870913;if(ne!==K.lane?(Le&ne)===ne:(Ji&ne)===ne){var Q=K.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ne===Ya&&(Z=!0);else if((Ji&Q)===Q){K=K.next,Q===Ya&&(Z=!0);continue}else ne={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(S=D=ne,E=m):D=D.next=ne,Ne.lanes|=Q,Qs|=Q;ne=K.action,na&&a(m,ne),m=K.hasEagerState?K.eagerState:a(m,ne)}else Q={lane:ne,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(S=D=Q,E=m):D=D.next=Q,Ne.lanes|=ne,Qs|=ne;K=K.next}while(K!==null&&K!==s);if(D===null?E=m:D.next=S,!wn(m,n.memoizedState)&&(It=!0,Z&&(a=Xa,a!==null)))throw a;n.memoizedState=m,n.baseState=E,n.baseQueue=D,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Md(n){var s=Et(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);wn(m,s.memoizedState)||(It=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,u]}function $y(n,s,a){var u=Ne,f=Et(),m=Be;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var E=!wn((Ze||f).memoizedState,a);if(E&&(f.memoizedState=a,It=!0),f=f.queue,Pd(Qy.bind(null,u,f,n),[n]),f.getSnapshot!==s||E||Ct!==null&&Ct.memoizedState.tag&1){if(u.flags|=2048,no(9,{destroy:void 0},Ky.bind(null,u,f,a,s),null),st===null)throw Error(r(349));m||(Ji&127)!==0||Gy(u,s,a)}return a}function Gy(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ne.updateQueue,s===null?(s=jc(),Ne.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Ky(n,s,a,u){s.value=a,s.getSnapshot=u,Yy(s)&&Xy(n)}function Qy(n,s,a){return a(function(){Yy(s)&&Xy(n)})}function Yy(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!wn(n,a)}catch{return!0}}function Xy(n){var s=Kr(n,2);s!==null&&gn(s,n,2)}function Vd(n){var s=on();if(typeof n=="function"){var a=n;if(n=a(),na){Mn(!0);try{a()}finally{Mn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:n},s}function Wy(n,s,a,u){return n.baseState=a,Dd(n,Ze,typeof u=="function"?u:Zi)}function mS(n,s,a,u,f){if(Fc(n))throw Error(r(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};X.T!==null?a(!0):m.isTransition=!1,u(m),a=s.pending,a===null?(m.next=s.pending=m,Jy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Jy(n,s){var a=s.action,u=s.payload,f=n.state;if(s.isTransition){var m=X.T,E={};X.T=E;try{var S=a(f,u),D=X.S;D!==null&&D(E,S),Zy(n,s,S)}catch(K){Ld(n,s,K)}finally{m!==null&&E.types!==null&&(m.types=E.types),X.T=m}}else try{m=a(f,u),Zy(n,s,m)}catch(K){Ld(n,s,K)}}function Zy(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){e_(n,s,u)},function(u){return Ld(n,s,u)}):e_(n,s,a)}function e_(n,s,a){s.status="fulfilled",s.value=a,t_(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Jy(n,a)))}function Ld(n,s,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,t_(s),s=s.next;while(s!==u)}n.action=null}function t_(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function n_(n,s){return s}function i_(n,s){if(Be){var a=st.formState;if(a!==null){e:{var u=Ne;if(Be){if(at){t:{for(var f=at,m=qn;f.nodeType!==8;){if(!m){f=null;break t}if(f=$n(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){at=$n(f.nextSibling),u=f.data==="F!";break e}}js(u)}u=!1}u&&(s=a[0])}}return a=on(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n_,lastRenderedState:s},a.queue=u,a=T_.bind(null,Ne,u),u.dispatch=a,u=Vd(!1),m=Hd.bind(null,Ne,!1,u.queue),u=on(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,a=mS.bind(null,Ne,f,m,a),f.dispatch=a,u.memoizedState=n,[s,a,!1]}function s_(n){var s=Et();return r_(s,Ze,n)}function r_(n,s,a){if(s=Dd(n,s,n_)[0],n=Bc(Zi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Cl(s)}catch(E){throw E===Wa?Oc:E}else u=s;s=Et();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Ne.flags|=2048,no(9,{destroy:void 0},pS.bind(null,f,a),null)),[u,m,n]}function pS(n,s){n.action=s}function a_(n){var s=Et(),a=Ze;if(a!==null)return r_(s,a,n);Et(),s=s.memoizedState,a=Et();var u=a.queue.dispatch;return a.memoizedState=n,[s,u,!1]}function no(n,s,a,u){return n={tag:n,create:a,deps:u,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=jc(),Ne.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,s.lastEffect=n),n}function o_(){return Et().memoizedState}function Hc(n,s,a,u){var f=on();Ne.flags|=n,f.memoizedState=no(1|s,{destroy:void 0},a,u===void 0?null:u)}function qc(n,s,a,u){var f=Et();u=u===void 0?null:u;var m=f.memoizedState.inst;Ze!==null&&u!==null&&Rd(u,Ze.memoizedState.deps)?f.memoizedState=no(s,m,a,u):(Ne.flags|=n,f.memoizedState=no(1|s,m,a,u))}function l_(n,s){Hc(8390656,8,n,s)}function Pd(n,s){qc(2048,8,n,s)}function gS(n){Ne.flags|=4;var s=Ne.updateQueue;if(s===null)s=jc(),Ne.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function u_(n){var s=Et().memoizedState;return gS({ref:s,nextImpl:n}),function(){if((Ke&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function c_(n,s){return qc(4,2,n,s)}function h_(n,s){return qc(4,4,n,s)}function f_(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function d_(n,s,a){a=a!=null?a.concat([n]):null,qc(4,4,f_.bind(null,s,n),a)}function Ud(){}function m_(n,s){var a=Et();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&Rd(s,u[1])?u[0]:(a.memoizedState=[n,s],n)}function p_(n,s){var a=Et();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&Rd(s,u[1]))return u[0];if(u=n(),na){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[u,s],u}function jd(n,s,a){return a===void 0||(Ji&1073741824)!==0&&(Le&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=gv(),Ne.lanes|=n,Qs|=n,a)}function g_(n,s,a,u){return wn(a,s)?a:Za.current!==null?(n=jd(n,a,u),wn(n,s)||(It=!0),n):(Ji&42)===0||(Ji&1073741824)!==0&&(Le&261930)===0?(It=!0,n.memoizedState=a):(n=gv(),Ne.lanes|=n,Qs|=n,s)}function y_(n,s,a,u,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var E=X.T,S={};X.T=S,Hd(n,!1,s,a);try{var D=f(),K=X.S;if(K!==null&&K(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=hS(D,u);Il(n,s,Z,In(n))}else Il(n,s,u,In(n))}catch(ne){Il(n,s,{then:function(){},status:"rejected",reason:ne},In())}finally{oe.p=m,E!==null&&S.types!==null&&(E.types=S.types),X.T=E}}function yS(){}function zd(n,s,a,u){if(n.tag!==5)throw Error(r(476));var f=__(n).queue;y_(n,f,s,me,a===null?yS:function(){return v_(n),a(u)})}function __(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:me},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function v_(n){var s=__(n);s.next===null&&(s=n.alternate.memoizedState),Il(n,s.next.queue,{},In())}function Bd(){return Kt(Gl)}function E_(){return Et().memoizedState}function b_(){return Et().memoizedState}function _S(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=In();n=Hs(a);var u=qs(s,n,a);u!==null&&(gn(u,s,a),Sl(u,s,a)),s={cache:gd()},n.payload=s;return}s=s.return}}function vS(n,s,a){var u=In();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fc(n)?w_(s,a):(a=rd(n,s,a,u),a!==null&&(gn(a,n,u),S_(a,s,u)))}function T_(n,s,a){var u=In();Il(n,s,a,u)}function Il(n,s,a,u){var f={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fc(n))w_(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var E=s.lastRenderedState,S=m(E,a);if(f.hasEagerState=!0,f.eagerState=S,wn(S,E))return Sc(n,s,f,0),st===null&&wc(),!1}catch{}finally{}if(a=rd(n,s,f,u),a!==null)return gn(a,n,u),S_(a,s,u),!0}return!1}function Hd(n,s,a,u){if(u={lane:2,revertLane:Em(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Fc(n)){if(s)throw Error(r(479))}else s=rd(n,a,u,2),s!==null&&gn(s,n,2)}function Fc(n){var s=n.alternate;return n===Ne||s!==null&&s===Ne}function w_(n,s){eo=Pc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function S_(n,s,a){if((a&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,Wo(n,a)}}var Nl={readContext:Kt,use:zc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Nl.useEffectEvent=pt;var A_={readContext:Kt,use:zc,useCallback:function(n,s){return on().memoizedState=[n,s===void 0?null:s],n},useContext:Kt,useEffect:l_,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Hc(4194308,4,f_.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Hc(4194308,4,n,s)},useInsertionEffect:function(n,s){Hc(4,2,n,s)},useMemo:function(n,s){var a=on();s=s===void 0?null:s;var u=n();if(na){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[u,s],u},useReducer:function(n,s,a){var u=on();if(a!==void 0){var f=a(s);if(na){Mn(!0);try{a(s)}finally{Mn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=vS.bind(null,Ne,n),[u.memoizedState,n]},useRef:function(n){var s=on();return n={current:n},s.memoizedState=n},useState:function(n){n=Vd(n);var s=n.queue,a=T_.bind(null,Ne,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Ud,useDeferredValue:function(n,s){var a=on();return jd(a,n,s)},useTransition:function(){var n=Vd(!1);return n=y_.bind(null,Ne,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var u=Ne,f=on();if(Be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),st===null)throw Error(r(349));(Le&127)!==0||Gy(u,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,l_(Qy.bind(null,u,m,n),[n]),u.flags|=2048,no(9,{destroy:void 0},Ky.bind(null,u,m,a,s),null),a},useId:function(){var n=on(),s=st.identifierPrefix;if(Be){var a=ki,u=Oi;a=(u&~(1<<32-yt(u)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Uc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=fS++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Bd,useFormState:i_,useActionState:i_,useOptimistic:function(n){var s=on();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Hd.bind(null,Ne,!0,a),a.dispatch=s,[n,s]},useMemoCache:kd,useCacheRefresh:function(){return on().memoizedState=_S.bind(null,Ne)},useEffectEvent:function(n){var s=on(),a={impl:n};return s.memoizedState=a,function(){if((Ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qd={readContext:Kt,use:zc,useCallback:m_,useContext:Kt,useEffect:Pd,useImperativeHandle:d_,useInsertionEffect:c_,useLayoutEffect:h_,useMemo:p_,useReducer:Bc,useRef:o_,useState:function(){return Bc(Zi)},useDebugValue:Ud,useDeferredValue:function(n,s){var a=Et();return g_(a,Ze.memoizedState,n,s)},useTransition:function(){var n=Bc(Zi)[0],s=Et().memoizedState;return[typeof n=="boolean"?n:Cl(n),s]},useSyncExternalStore:$y,useId:E_,useHostTransitionStatus:Bd,useFormState:s_,useActionState:s_,useOptimistic:function(n,s){var a=Et();return Wy(a,Ze,n,s)},useMemoCache:kd,useCacheRefresh:b_};qd.useEffectEvent=u_;var x_={readContext:Kt,use:zc,useCallback:m_,useContext:Kt,useEffect:Pd,useImperativeHandle:d_,useInsertionEffect:c_,useLayoutEffect:h_,useMemo:p_,useReducer:Md,useRef:o_,useState:function(){return Md(Zi)},useDebugValue:Ud,useDeferredValue:function(n,s){var a=Et();return Ze===null?jd(a,n,s):g_(a,Ze.memoizedState,n,s)},useTransition:function(){var n=Md(Zi)[0],s=Et().memoizedState;return[typeof n=="boolean"?n:Cl(n),s]},useSyncExternalStore:$y,useId:E_,useHostTransitionStatus:Bd,useFormState:a_,useActionState:a_,useOptimistic:function(n,s){var a=Et();return Ze!==null?Wy(a,Ze,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:kd,useCacheRefresh:b_};x_.useEffectEvent=u_;function Fd(n,s,a,u){s=n.memoizedState,a=a(u,s),a=a==null?s:v({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var $d={enqueueSetState:function(n,s,a){n=n._reactInternals;var u=In(),f=Hs(u);f.payload=s,a!=null&&(f.callback=a),s=qs(n,f,u),s!==null&&(gn(s,n,u),Sl(s,n,u))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var u=In(),f=Hs(u);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=qs(n,f,u),s!==null&&(gn(s,n,u),Sl(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=In(),u=Hs(a);u.tag=2,s!=null&&(u.callback=s),s=qs(n,u,a),s!==null&&(gn(s,n,a),Sl(s,n,a))}};function R_(n,s,a,u,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,E):s.prototype&&s.prototype.isPureReactComponent?!gl(a,u)||!gl(f,m):!0}function C_(n,s,a,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==n&&$d.enqueueReplaceState(s,s.state,null)}function ia(n,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(n=n.defaultProps){a===s&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function I_(n){Tc(n)}function N_(n){console.error(n)}function O_(n){Tc(n)}function $c(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function k_(n,s,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gd(n,s,a){return a=Hs(a),a.tag=3,a.payload={element:null},a.callback=function(){$c(n,s)},a}function D_(n){return n=Hs(n),n.tag=3,n}function M_(n,s,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){k_(s,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){k_(s,a,u),typeof f!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function ES(n,s,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&Qa(s,a,f,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?ih():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===kc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),ym(n,u,f)),!1;case 22:return a.flags|=65536,u===kc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),ym(n,u,f)),!1}throw Error(r(435,a.tag))}return ym(n,u,f),ih(),!1}if(Be)return s=An.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==hd&&(n=Error(r(422),{cause:u}),vl(zn(n,a)))):(u!==hd&&(s=Error(r(423),{cause:u}),vl(zn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=zn(u,a),f=Gd(n.stateNode,u,f),Td(n,f),gt!==4&&(gt=2)),!1;var m=Error(r(520),{cause:u});if(m=zn(m,a),Ul===null?Ul=[m]:Ul.push(m),gt!==4&&(gt=2),s===null)return!0;u=zn(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Gd(a.stateNode,u,n),Td(a,n),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ys===null||!Ys.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=D_(f),M_(f,n,a,u),Td(a,f),!1}a=a.return}while(a!==null);return!1}var Kd=Error(r(461)),It=!1;function Qt(n,s,a,u){s.child=n===null?Uy(s,null,a,u):ta(s,n.child,a,u)}function V_(n,s,a,u,f){a=a.render;var m=s.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return Wr(s),u=Cd(n,s,a,E,m,f),S=Id(),n!==null&&!It?(Nd(n,s,f),es(n,s,f)):(Be&&S&&ud(s),s.flags|=1,Qt(n,s,u,f),s.child)}function L_(n,s,a,u,f){if(n===null){var m=a.type;return typeof m=="function"&&!ad(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,P_(n,s,m,u,f)):(n=xc(a.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!tm(n,f)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:gl,a(E,u)&&n.ref===s.ref)return es(n,s,f)}return s.flags|=1,n=Qi(m,u),n.ref=s.ref,n.return=s,s.child=n}function P_(n,s,a,u,f){if(n!==null){var m=n.memoizedProps;if(gl(m,u)&&n.ref===s.ref)if(It=!1,s.pendingProps=u=m,tm(n,f))(n.flags&131072)!==0&&(It=!0);else return s.lanes=n.lanes,es(n,s,f)}return Qd(n,s,a,u,f)}function U_(n,s,a,u){var f=u.children,m=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,s.child=null;return j_(n,s,m,a,u)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Nc(s,m!==null?m.cachePool:null),m!==null?By(s,m):Sd(),Hy(s);else return u=s.lanes=536870912,j_(n,s,m!==null?m.baseLanes|a:a,a,u)}else m!==null?(Nc(s,m.cachePool),By(s,m),$s(),s.memoizedState=null):(n!==null&&Nc(s,null),Sd(),$s());return Qt(n,s,f,a),s.child}function Ol(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function j_(n,s,a,u,f){var m=_d();return m=m===null?null:{parent:Rt._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},n!==null&&Nc(s,null),Sd(),Hy(s),n!==null&&Qa(n,s,u,!0),s.childLanes=f,null}function Gc(n,s){return s=Qc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function z_(n,s,a){return ta(s,n.child,null,a),n=Gc(s,s.pendingProps),n.flags|=2,xn(s),s.memoizedState=null,n}function bS(n,s,a){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Be){if(u.mode==="hidden")return n=Gc(s,u),s.lanes=536870912,Ol(null,n);if(xd(s),(n=at)?(n=Jv(n,qn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ps!==null?{id:Oi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=wy(n),a.return=s,s.child=a,Gt=s,at=null)):n=null,n===null)throw js(s);return s.lanes=536870912,null}return Gc(s,u)}var m=n.memoizedState;if(m!==null){var E=m.dehydrated;if(xd(s),f)if(s.flags&256)s.flags&=-257,s=z_(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(It||Qa(n,s,a,!1),f=(a&n.childLanes)!==0,It||f){if(u=st,u!==null&&(E=Jo(u,a),E!==0&&E!==m.retryLane))throw m.retryLane=E,Kr(n,E),gn(u,n,E),Kd;ih(),s=z_(n,s,a)}else n=m.treeContext,at=$n(E.nextSibling),Gt=s,Be=!0,Us=null,qn=!1,n!==null&&xy(s,n),s=Gc(s,u),s.flags|=4096;return s}return n=Qi(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Kc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Qd(n,s,a,u,f){return Wr(s),a=Cd(n,s,a,u,void 0,f),u=Id(),n!==null&&!It?(Nd(n,s,f),es(n,s,f)):(Be&&u&&ud(s),s.flags|=1,Qt(n,s,a,f),s.child)}function B_(n,s,a,u,f,m){return Wr(s),s.updateQueue=null,a=Fy(s,u,a,f),qy(n),u=Id(),n!==null&&!It?(Nd(n,s,m),es(n,s,m)):(Be&&u&&ud(s),s.flags|=1,Qt(n,s,a,m),s.child)}function H_(n,s,a,u,f){if(Wr(s),s.stateNode===null){var m=Fa,E=a.contextType;typeof E=="object"&&E!==null&&(m=Kt(E)),m=new a(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=$d,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},Ed(s),E=a.contextType,m.context=typeof E=="object"&&E!==null?Kt(E):Fa,m.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Fd(s,a,E,u),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&$d.enqueueReplaceState(m,m.state,null),xl(s,u,m,f),Al(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){m=s.stateNode;var S=s.memoizedProps,D=ia(a,S);m.props=D;var K=m.context,Z=a.contextType;E=Fa,typeof Z=="object"&&Z!==null&&(E=Kt(Z));var ne=a.getDerivedStateFromProps;Z=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||K!==E)&&C_(s,m,u,E),Bs=!1;var Q=s.memoizedState;m.state=Q,xl(s,u,m,f),Al(),K=s.memoizedState,S||Q!==K||Bs?(typeof ne=="function"&&(Fd(s,a,ne,u),K=s.memoizedState),(D=Bs||R_(s,a,D,u,Q,K,E))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),m.props=u,m.state=K,m.context=E,u=D):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,bd(n,s),E=s.memoizedProps,Z=ia(a,E),m.props=Z,ne=s.pendingProps,Q=m.context,K=a.contextType,D=Fa,typeof K=="object"&&K!==null&&(D=Kt(K)),S=a.getDerivedStateFromProps,(K=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ne||Q!==D)&&C_(s,m,u,D),Bs=!1,Q=s.memoizedState,m.state=Q,xl(s,u,m,f),Al();var W=s.memoizedState;E!==ne||Q!==W||Bs||n!==null&&n.dependencies!==null&&Cc(n.dependencies)?(typeof S=="function"&&(Fd(s,a,S,u),W=s.memoizedState),(Z=Bs||R_(s,a,Z,u,Q,W,D)||n!==null&&n.dependencies!==null&&Cc(n.dependencies))?(K||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,W,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,W,D)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),m.props=u,m.state=W,m.context=D,u=Z):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),u=!1)}return m=u,Kc(n,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&u?(s.child=ta(s,n.child,null,f),s.child=ta(s,null,a,f)):Qt(n,s,a,f),s.memoizedState=m.state,n=s.child):n=es(n,s,f),n}function q_(n,s,a,u){return Yr(),s.flags|=256,Qt(n,s,a,u),s.child}var Yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xd(n){return{baseLanes:n,cachePool:ky()}}function Wd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Cn),n}function F_(n,s,a){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(vt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Be){if(f?Fs(s):$s(),(n=at)?(n=Jv(n,qn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ps!==null?{id:Oi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=wy(n),a.return=s,s.child=a,Gt=s,at=null)):n=null,n===null)throw js(s);return Dm(n)?s.lanes=32:s.lanes=536870912,null}var S=u.children;return u=u.fallback,f?($s(),f=s.mode,S=Qc({mode:"hidden",children:S},f),u=Qr(u,f,a,null),S.return=s,u.return=s,S.sibling=u,s.child=S,u=s.child,u.memoizedState=Xd(a),u.childLanes=Wd(n,E,a),s.memoizedState=Yd,Ol(null,u)):(Fs(s),Jd(s,S))}var D=n.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(m)s.flags&256?(Fs(s),s.flags&=-257,s=Zd(n,s,a)):s.memoizedState!==null?($s(),s.child=n.child,s.flags|=128,s=null):($s(),S=u.fallback,f=s.mode,u=Qc({mode:"visible",children:u.children},f),S=Qr(S,f,a,null),S.flags|=2,u.return=s,S.return=s,u.sibling=S,s.child=u,ta(s,n.child,null,a),u=s.child,u.memoizedState=Xd(a),u.childLanes=Wd(n,E,a),s.memoizedState=Yd,s=Ol(null,u));else if(Fs(s),Dm(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(r(419)),u.stack="",u.digest=E,vl({value:u,source:null,stack:null}),s=Zd(n,s,a)}else if(It||Qa(n,s,a,!1),E=(a&n.childLanes)!==0,It||E){if(E=st,E!==null&&(u=Jo(E,a),u!==0&&u!==D.retryLane))throw D.retryLane=u,Kr(n,u),gn(E,n,u),Kd;km(S)||ih(),s=Zd(n,s,a)}else km(S)?(s.flags|=192,s.child=n.child,s=null):(n=D.treeContext,at=$n(S.nextSibling),Gt=s,Be=!0,Us=null,qn=!1,n!==null&&xy(s,n),s=Jd(s,u.children),s.flags|=4096);return s}return f?($s(),S=u.fallback,f=s.mode,D=n.child,K=D.sibling,u=Qi(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,K!==null?S=Qi(K,S):(S=Qr(S,f,a,null),S.flags|=2),S.return=s,u.return=s,u.sibling=S,s.child=u,Ol(null,u),u=s.child,S=n.child.memoizedState,S===null?S=Xd(a):(f=S.cachePool,f!==null?(D=Rt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=ky(),S={baseLanes:S.baseLanes|a,cachePool:f}),u.memoizedState=S,u.childLanes=Wd(n,E,a),s.memoizedState=Yd,Ol(n.child,u)):(Fs(s),a=n.child,n=a.sibling,a=Qi(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=a,s.memoizedState=null,a)}function Jd(n,s){return s=Qc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Qc(n,s){return n=Sn(22,n,null,s),n.lanes=0,n}function Zd(n,s,a){return ta(s,n.child,null,a),n=Jd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function $_(n,s,a){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),md(n.return,s,a)}function em(n,s,a,u,f,m){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f,treeForkCount:m}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=a,E.tailMode=f,E.treeForkCount=m)}function G_(n,s,a){var u=s.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var E=vt.current,S=(E&2)!==0;if(S?(E=E&1|2,s.flags|=128):E&=1,ae(vt,E),Qt(n,s,u,a),u=Be?_l:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$_(n,a,s);else if(n.tag===19)$_(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Lc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),em(s,!1,f,a,m,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Lc(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}em(s,!0,a,null,m,u);break;case"together":em(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function es(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Qs|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Qa(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Qi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Qi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function tm(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Cc(n)))}function TS(n,s,a){switch(s.tag){case 3:Vt(s,s.stateNode.containerInfo),zs(s,Rt,n.memoizedState.cache),Yr();break;case 27:case 5:Ir(s);break;case 4:Vt(s,s.stateNode.containerInfo);break;case 10:zs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,xd(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Fs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?F_(n,s,a):(Fs(s),n=es(n,s,a),n!==null?n.sibling:null);Fs(s);break;case 19:var f=(n.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(Qa(n,s,a,!1),u=(a&s.childLanes)!==0),f){if(u)return G_(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(vt,vt.current),u)break;return null;case 22:return s.lanes=0,U_(n,s,a,s.pendingProps);case 24:zs(s,Rt,n.memoizedState.cache)}return es(n,s,a)}function K_(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)It=!0;else{if(!tm(n,a)&&(s.flags&128)===0)return It=!1,TS(n,s,a);It=(n.flags&131072)!==0}else It=!1,Be&&(s.flags&1048576)!==0&&Ay(s,_l,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Zr(s.elementType),s.type=n,typeof n=="function")ad(n)?(u=ia(n,u),s.tag=1,s=H_(null,s,n,u,a)):(s.tag=0,s=Qd(null,s,n,u,a));else{if(n!=null){var f=n.$$typeof;if(f===re){s.tag=11,s=V_(null,s,n,u,a);break e}else if(f===R){s.tag=14,s=L_(null,s,n,u,a);break e}}throw s=Oe(n)||n,Error(r(306,s,""))}}return s;case 0:return Qd(n,s,s.type,s.pendingProps,a);case 1:return u=s.type,f=ia(u,s.pendingProps),H_(n,s,u,f,a);case 3:e:{if(Vt(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var m=s.memoizedState;f=m.element,bd(n,s),xl(s,u,null,a);var E=s.memoizedState;if(u=E.cache,zs(s,Rt,u),u!==m.cache&&pd(s,[Rt],a,!0),Al(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=q_(n,s,u,a);break e}else if(u!==f){f=zn(Error(r(424)),s),vl(f),s=q_(n,s,u,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(at=$n(n.firstChild),Gt=s,Be=!0,Us=null,qn=!0,a=Uy(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yr(),u===f){s=es(n,s,a);break e}Qt(n,s,u,a)}s=s.child}return s;case 26:return Kc(n,s),n===null?(a=s0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Be||(a=s.type,n=s.pendingProps,u=ch(Ce.current).createElement(a),u[St]=s,u[zt]=n,Yt(u,a,n),At(u),s.stateNode=u):s.memoizedState=s0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ir(s),n===null&&Be&&(u=s.stateNode=t0(s.type,s.pendingProps,Ce.current),Gt=s,qn=!0,f=at,Zs(s.type)?(Mm=f,at=$n(u.firstChild)):at=f),Qt(n,s,s.pendingProps.children,a),Kc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Be&&((f=u=at)&&(u=JS(u,s.type,s.pendingProps,qn),u!==null?(s.stateNode=u,Gt=s,at=$n(u.firstChild),qn=!1,f=!0):f=!1),f||js(s)),Ir(s),f=s.type,m=s.pendingProps,E=n!==null?n.memoizedProps:null,u=m.children,Im(f,m)?u=null:E!==null&&Im(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=Cd(n,s,dS,null,null,a),Gl._currentValue=f),Kc(n,s),Qt(n,s,u,a),s.child;case 6:return n===null&&Be&&((n=a=at)&&(a=ZS(a,s.pendingProps,qn),a!==null?(s.stateNode=a,Gt=s,at=null,n=!0):n=!1),n||js(s)),null;case 13:return F_(n,s,a);case 4:return Vt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=ta(s,null,u,a):Qt(n,s,u,a),s.child;case 11:return V_(n,s,s.type,s.pendingProps,a);case 7:return Qt(n,s,s.pendingProps,a),s.child;case 8:return Qt(n,s,s.pendingProps.children,a),s.child;case 12:return Qt(n,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,zs(s,s.type,u.value),Qt(n,s,u.children,a),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Wr(s),f=Kt(f),u=u(f),s.flags|=1,Qt(n,s,u,a),s.child;case 14:return L_(n,s,s.type,s.pendingProps,a);case 15:return P_(n,s,s.type,s.pendingProps,a);case 19:return G_(n,s,a);case 31:return bS(n,s,a);case 22:return U_(n,s,a,s.pendingProps);case 24:return Wr(s),u=Kt(Rt),n===null?(f=_d(),f===null&&(f=st,m=gd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:u,cache:f},Ed(s),zs(s,Rt,f)):((n.lanes&a)!==0&&(bd(n,s),xl(s,null,null,a),Al()),f=n.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),zs(s,Rt,u)):(u=m.cache,zs(s,Rt,u),u!==f.cache&&pd(s,[Rt],a,!0))),Qt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ts(n){n.flags|=4}function nm(n,s,a,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Ev())n.flags|=8192;else throw ea=kc,vd}else n.flags&=-16777217}function Q_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!u0(s))if(Ev())n.flags|=8192;else throw ea=kc,vd}function Yc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?tc():536870912,n.lanes|=s,ao|=s)}function kl(n,s){if(!Be)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ot(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,s}function wS(n,s,a){var u=s.pendingProps;switch(cd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return a=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Wi(Rt),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ka(s)?ts(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fd())),ot(s),null;case 26:var f=s.type,m=s.memoizedState;return n===null?(ts(s),m!==null?(ot(s),Q_(s,m)):(ot(s),nm(s,f,null,u,a))):m?m!==n.memoizedState?(ts(s),ot(s),Q_(s,m)):(ot(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&ts(s),ot(s),nm(s,f,n,u,a)),null;case 27:if(Aa(s),a=Ce.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ts(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ot(s),null}n=ue.current,Ka(s)?Ry(s):(n=t0(f,u,a),s.stateNode=n,ts(s))}return ot(s),null;case 5:if(Aa(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ts(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ot(s),null}if(m=ue.current,Ka(s))Ry(s);else{var E=ch(Ce.current);switch(m){case 1:m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=E.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?E.createElement(f,{is:u.is}):E.createElement(f)}}m[St]=s,m[zt]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)m.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=m;e:switch(Yt(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ts(s)}}return ot(s),nm(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&ts(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=Ce.current,Ka(s)){if(n=s.stateNode,a=s.memoizedProps,u=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[St]=s,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Fv(n.nodeValue,a)),n||js(s,!0)}else n=ch(n).createTextNode(u),n[St]=s,s.stateNode=n}return ot(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(u=Ka(s),a!==null){if(n===null){if(!u)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[St]=s}else Yr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),n=!1}else a=fd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(xn(s),s):(xn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ot(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ka(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[St]=s}else Yr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),f=!1}else f=fd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(xn(s),s):(xn(s),null)}return xn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=u!==null,n=n!==null&&n.memoizedState!==null,a&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),Yc(s,s.updateQueue),ot(s),null);case 4:return ut(),n===null&&Sm(s.stateNode.containerInfo),ot(s),null;case 10:return Wi(s.type),ot(s),null;case 19:if(J(vt),u=s.memoizedState,u===null)return ot(s),null;if(f=(s.flags&128)!==0,m=u.rendering,m===null)if(f)kl(u,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Lc(n),m!==null){for(s.flags|=128,kl(u,!1),n=m.updateQueue,s.updateQueue=n,Yc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Ty(a,n),a=a.sibling;return ae(vt,vt.current&1|2),Be&&Yi(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&rn()>eh&&(s.flags|=128,f=!0,kl(u,!1),s.lanes=4194304)}else{if(!f)if(n=Lc(m),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Yc(s,n),kl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Be)return ot(s),null}else 2*rn()-u.renderingStartTime>eh&&a!==536870912&&(s.flags|=128,f=!0,kl(u,!1),s.lanes=4194304);u.isBackwards?(m.sibling=s.child,s.child=m):(n=u.last,n!==null?n.sibling=m:s.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=rn(),n.sibling=null,a=vt.current,ae(vt,f?a&1|2:a&1),Be&&Yi(s,u.treeForkCount),n):(ot(s),null);case 22:case 23:return xn(s),Ad(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),a=s.updateQueue,a!==null&&Yc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),n!==null&&J(Jr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Wi(Rt),ot(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function SS(n,s){switch(cd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Wi(Rt),ut(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Aa(s),null;case 31:if(s.memoizedState!==null){if(xn(s),s.alternate===null)throw Error(r(340));Yr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(xn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Yr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return J(vt),null;case 4:return ut(),null;case 10:return Wi(s.type),null;case 22:case 23:return xn(s),Ad(),n!==null&&J(Jr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Wi(Rt),null;case 25:return null;default:return null}}function Y_(n,s){switch(cd(s),s.tag){case 3:Wi(Rt),ut();break;case 26:case 27:case 5:Aa(s);break;case 4:ut();break;case 31:s.memoizedState!==null&&xn(s);break;case 13:xn(s);break;case 19:J(vt);break;case 10:Wi(s.type);break;case 22:case 23:xn(s),Ad(),n!==null&&J(Jr);break;case 24:Wi(Rt)}}function Dl(n,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var m=a.create,E=a.inst;u=m(),E.destroy=u}a=a.next}while(a!==f)}}catch(S){We(s,s.return,S)}}function Gs(n,s,a){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=s;var D=a,K=S;try{K()}catch(Z){We(f,D,Z)}}}u=u.next}while(u!==m)}}catch(Z){We(s,s.return,Z)}}function X_(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{zy(s,a)}catch(u){We(n,n.return,u)}}}function W_(n,s,a){a.props=ia(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){We(n,s,u)}}function Ml(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(f){We(n,s,f)}}function Di(n,s){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){We(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(n,s,f)}else a.current=null}function J_(n){var s=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){We(n,n.return,f)}}function im(n,s,a){try{var u=n.stateNode;GS(u,n.type,a,s),u[zt]=s}catch(f){We(n,n.return,f)}}function Z_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Zs(n.type)||n.tag===4}function sm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Z_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Zs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rm(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Zn));else if(u!==4&&(u===27&&Zs(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(rm(n,s,a),n=n.sibling;n!==null;)rm(n,s,a),n=n.sibling}function Xc(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(u!==4&&(u===27&&Zs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Xc(n,s,a),n=n.sibling;n!==null;)Xc(n,s,a),n=n.sibling}function ev(n){var s=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Yt(s,u,a),s[St]=n,s[zt]=a}catch(m){We(n,n.return,m)}}var ns=!1,Nt=!1,am=!1,tv=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function AS(n,s){if(n=n.containerInfo,Rm=yh,n=dy(n),Zf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,S=-1,D=-1,K=0,Z=0,ne=n,Q=null;t:for(;;){for(var W;ne!==a||f!==0&&ne.nodeType!==3||(S=E+f),ne!==m||u!==0&&ne.nodeType!==3||(D=E+u),ne.nodeType===3&&(E+=ne.nodeValue.length),(W=ne.firstChild)!==null;)Q=ne,ne=W;for(;;){if(ne===n)break t;if(Q===a&&++K===f&&(S=E),Q===m&&++Z===u&&(D=E),(W=ne.nextSibling)!==null)break;ne=Q,Q=ne.parentNode}ne=W}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cm={focusedElem:n,selectionRange:a},yh=!1,Ht=s;Ht!==null;)if(s=Ht,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Ht=n;else for(;Ht!==null;){switch(s=Ht,m=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var pe=ia(a.type,f);n=u.getSnapshotBeforeUpdate(pe,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(ve){We(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Om(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Om(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Ht=n;break}Ht=s.return}}function nv(n,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ss(n,a),u&4&&Dl(5,a);break;case 1:if(ss(n,a),u&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(E){We(a,a.return,E)}else{var f=ia(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){We(a,a.return,E)}}u&64&&X_(a),u&512&&Ml(a,a.return);break;case 3:if(ss(n,a),u&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{zy(n,s)}catch(E){We(a,a.return,E)}}break;case 27:s===null&&u&4&&ev(a);case 26:case 5:ss(n,a),s===null&&u&4&&J_(a),u&512&&Ml(a,a.return);break;case 12:ss(n,a);break;case 31:ss(n,a),u&4&&rv(n,a);break;case 13:ss(n,a),u&4&&av(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=MS.bind(null,a),eA(n,a))));break;case 22:if(u=a.memoizedState!==null||ns,!u){s=s!==null&&s.memoizedState!==null||Nt,f=ns;var m=Nt;ns=u,(Nt=s)&&!m?rs(n,a,(a.subtreeFlags&8772)!==0):ss(n,a),ns=f,Nt=m}break;case 30:break;default:ss(n,a)}}function iv(n){var s=n.alternate;s!==null&&(n.alternate=null,iv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Na(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ht=null,fn=!1;function is(n,s,a){for(a=a.child;a!==null;)sv(n,s,a),a=a.sibling}function sv(n,s,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Nt||Di(a,s),is(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Di(a,s);var u=ht,f=fn;Zs(a.type)&&(ht=a.stateNode,fn=!1),is(n,s,a),ql(a.stateNode),ht=u,fn=f;break;case 5:Nt||Di(a,s);case 6:if(u=ht,f=fn,ht=null,is(n,s,a),ht=u,fn=f,ht!==null)if(fn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(m){We(a,s,m)}else try{ht.removeChild(a.stateNode)}catch(m){We(a,s,m)}break;case 18:ht!==null&&(fn?(n=ht,Xv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),po(n)):Xv(ht,a.stateNode));break;case 4:u=ht,f=fn,ht=a.stateNode.containerInfo,fn=!0,is(n,s,a),ht=u,fn=f;break;case 0:case 11:case 14:case 15:Gs(2,a,s),Nt||Gs(4,a,s),is(n,s,a);break;case 1:Nt||(Di(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&W_(a,s,u)),is(n,s,a);break;case 21:is(n,s,a);break;case 22:Nt=(u=Nt)||a.memoizedState!==null,is(n,s,a),Nt=u;break;default:is(n,s,a)}}function rv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{po(n)}catch(a){We(s,s.return,a)}}}function av(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{po(n)}catch(a){We(s,s.return,a)}}function xS(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new tv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new tv),s;default:throw Error(r(435,n.tag))}}function Wc(n,s){var a=xS(n);s.forEach(function(u){if(!a.has(u)){a.add(u);var f=VS.bind(null,n,u);u.then(f,f)}})}function dn(n,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=n,E=s,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(Zs(S.type)){ht=S.stateNode,fn=!1;break e}break;case 5:ht=S.stateNode,fn=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,fn=!0;break e}S=S.return}if(ht===null)throw Error(r(160));sv(m,E,f),ht=null,fn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)ov(s,n),s=s.sibling}var ri=null;function ov(n,s){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:dn(s,n),mn(n),u&4&&(Gs(3,n,n.return),Dl(3,n),Gs(5,n,n.return));break;case 1:dn(s,n),mn(n),u&512&&(Nt||a===null||Di(a,a.return)),u&64&&ns&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=ri;if(dn(s,n),mn(n),u&512&&(Nt||a===null||Di(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[vi]||m[St]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Yt(m,u,a),m[St]=n,At(m),u=m;break e;case"link":var E=o0("link","href",f).get(u+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(m=E[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}m=f.createElement(u),Yt(m,u,a),f.head.appendChild(m);break;case"meta":if(E=o0("meta","content",f).get(u+(a.content||""))){for(S=0;S<E.length;S++)if(m=E[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}m=f.createElement(u),Yt(m,u,a),f.head.appendChild(m);break;default:throw Error(r(468,u))}m[St]=n,At(m),u=m}n.stateNode=u}else l0(f,n.type,n.stateNode);else n.stateNode=a0(f,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?l0(f,n.type,n.stateNode):a0(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&im(n,n.memoizedProps,a.memoizedProps)}break;case 27:dn(s,n),mn(n),u&512&&(Nt||a===null||Di(a,a.return)),a!==null&&u&4&&im(n,n.memoizedProps,a.memoizedProps);break;case 5:if(dn(s,n),mn(n),u&512&&(Nt||a===null||Di(a,a.return)),n.flags&32){f=n.stateNode;try{hn(f,"")}catch(pe){We(n,n.return,pe)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,im(n,f,a!==null?a.memoizedProps:f)),u&1024&&(am=!0);break;case 6:if(dn(s,n),mn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(pe){We(n,n.return,pe)}}break;case 3:if(dh=null,f=ri,ri=hh(s.containerInfo),dn(s,n),ri=f,mn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{po(s.containerInfo)}catch(pe){We(n,n.return,pe)}am&&(am=!1,lv(n));break;case 4:u=ri,ri=hh(n.stateNode.containerInfo),dn(s,n),mn(n),ri=u;break;case 12:dn(s,n),mn(n);break;case 31:dn(s,n),mn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Wc(n,u)));break;case 13:dn(s,n),mn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=rn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Wc(n,u)));break;case 22:f=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,K=ns,Z=Nt;if(ns=K||f,Nt=Z||D,dn(s,n),Nt=Z,ns=K,mn(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||ns||Nt||sa(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(m=D.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=D.stateNode;var ne=D.memoizedProps.style,Q=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){We(D,D.return,pe)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(pe){We(D,D.return,pe)}}}else if(s.tag===18){if(a===null){D=s;try{var W=D.stateNode;f?Wv(W,!0):Wv(D.stateNode,!1)}catch(pe){We(D,D.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Wc(n,a))));break;case 19:dn(s,n),mn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Wc(n,u)));break;case 30:break;case 21:break;default:dn(s,n),mn(n)}}function mn(n){var s=n.flags;if(s&2){try{for(var a,u=n.return;u!==null;){if(Z_(u)){a=u;break}u=u.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=sm(n);Xc(n,m,f);break;case 5:var E=a.stateNode;a.flags&32&&(hn(E,""),a.flags&=-33);var S=sm(n);Xc(n,S,E);break;case 3:case 4:var D=a.stateNode.containerInfo,K=sm(n);rm(n,K,D);break;default:throw Error(r(161))}}catch(Z){We(n,n.return,Z)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function lv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;lv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function ss(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)nv(n,s.alternate,s),s=s.sibling}function sa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Gs(4,s,s.return),sa(s);break;case 1:Di(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&W_(s,s.return,a),sa(s);break;case 27:ql(s.stateNode);case 26:case 5:Di(s,s.return),sa(s);break;case 22:s.memoizedState===null&&sa(s);break;case 30:sa(s);break;default:sa(s)}n=n.sibling}}function rs(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,m=s,E=m.flags;switch(m.tag){case 0:case 11:case 15:rs(f,m,a),Dl(4,m);break;case 1:if(rs(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){We(u,u.return,K)}if(u=m,f=u.updateQueue,f!==null){var S=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)jy(D[f],S)}catch(K){We(u,u.return,K)}}a&&E&64&&X_(m),Ml(m,m.return);break;case 27:ev(m);case 26:case 5:rs(f,m,a),a&&u===null&&E&4&&J_(m),Ml(m,m.return);break;case 12:rs(f,m,a);break;case 31:rs(f,m,a),a&&E&4&&rv(f,m);break;case 13:rs(f,m,a),a&&E&4&&av(f,m);break;case 22:m.memoizedState===null&&rs(f,m,a),Ml(m,m.return);break;case 30:break;default:rs(f,m,a)}s=s.sibling}}function om(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&El(a))}function lm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&El(n))}function ai(n,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)uv(n,s,a,u),s=s.sibling}function uv(n,s,a,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ai(n,s,a,u),f&2048&&Dl(9,s);break;case 1:ai(n,s,a,u);break;case 3:ai(n,s,a,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&El(n)));break;case 12:if(f&2048){ai(n,s,a,u),n=s.stateNode;try{var m=s.memoizedProps,E=m.id,S=m.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){We(s,s.return,D)}}else ai(n,s,a,u);break;case 31:ai(n,s,a,u);break;case 13:ai(n,s,a,u);break;case 23:break;case 22:m=s.stateNode,E=s.alternate,s.memoizedState!==null?m._visibility&2?ai(n,s,a,u):Vl(n,s):m._visibility&2?ai(n,s,a,u):(m._visibility|=2,io(n,s,a,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&om(E,s);break;case 24:ai(n,s,a,u),f&2048&&lm(s.alternate,s);break;default:ai(n,s,a,u)}}function io(n,s,a,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=n,E=s,S=a,D=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:io(m,E,S,D,f),Dl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?io(m,E,S,D,f):Vl(m,E):(Z._visibility|=2,io(m,E,S,D,f)),f&&K&2048&&om(E.alternate,E);break;case 24:io(m,E,S,D,f),f&&K&2048&&lm(E.alternate,E);break;default:io(m,E,S,D,f)}s=s.sibling}}function Vl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,u=s,f=u.flags;switch(u.tag){case 22:Vl(a,u),f&2048&&om(u.alternate,u);break;case 24:Vl(a,u),f&2048&&lm(u.alternate,u);break;default:Vl(a,u)}s=s.sibling}}var Ll=8192;function so(n,s,a){if(n.subtreeFlags&Ll)for(n=n.child;n!==null;)cv(n,s,a),n=n.sibling}function cv(n,s,a){switch(n.tag){case 26:so(n,s,a),n.flags&Ll&&n.memoizedState!==null&&fA(a,ri,n.memoizedState,n.memoizedProps);break;case 5:so(n,s,a);break;case 3:case 4:var u=ri;ri=hh(n.stateNode.containerInfo),so(n,s,a),ri=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Ll,Ll=16777216,so(n,s,a),Ll=u):so(n,s,a));break;default:so(n,s,a)}}function hv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Pl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Ht=u,dv(u,n)}hv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fv(n),n=n.sibling}function fv(n){switch(n.tag){case 0:case 11:case 15:Pl(n),n.flags&2048&&Gs(9,n,n.return);break;case 3:Pl(n);break;case 12:Pl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Jc(n)):Pl(n);break;default:Pl(n)}}function Jc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Ht=u,dv(u,n)}hv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Gs(8,s,s.return),Jc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Jc(s));break;default:Jc(s)}n=n.sibling}}function dv(n,s){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:Gs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:El(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Ht=u;else e:for(a=n;Ht!==null;){u=Ht;var f=u.sibling,m=u.return;if(iv(u),u===a){Ht=null;break e}if(f!==null){f.return=m,Ht=f;break e}Ht=m}}}var RS={getCacheForType:function(n){var s=Kt(Rt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Kt(Rt).controller.signal}},CS=typeof WeakMap=="function"?WeakMap:Map,Ke=0,st=null,Me=null,Le=0,Xe=0,Rn=null,Ks=!1,ro=!1,um=!1,as=0,gt=0,Qs=0,ra=0,cm=0,Cn=0,ao=0,Ul=null,pn=null,hm=!1,Zc=0,mv=0,eh=1/0,th=null,Ys=null,Pt=0,Xs=null,oo=null,os=0,fm=0,dm=null,pv=null,jl=0,mm=null;function In(){return(Ke&2)!==0&&Le!==0?Le&-Le:X.T!==null?Em():nc()}function gv(){if(Cn===0)if((Le&536870912)===0||Be){var n=kr;kr<<=1,(kr&3932160)===0&&(kr=262144),Cn=n}else Cn=536870912;return n=An.current,n!==null&&(n.flags|=32),Cn}function gn(n,s,a){(n===st&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(lo(n,0),Ws(n,Le,Cn,!1)),Dr(n,a),((Ke&2)===0||n!==st)&&(n===st&&((Ke&2)===0&&(ra|=a),gt===4&&Ws(n,Le,Cn,!1)),Mi(n))}function yv(n,s,a){if((Ke&6)!==0)throw Error(r(327));var u=!a&&(s&127)===0&&(s&n.expiredLanes)===0||Xn(n,s),f=u?OS(n,s):gm(n,s,!0),m=u;do{if(f===0){ro&&!u&&Ws(n,s,0,!1);break}else{if(a=n.current.alternate,m&&!IS(a)){f=gm(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var S=n;f=Ul;var D=S.current.memoizedState.isDehydrated;if(D&&(lo(S,E).flags|=256),E=gm(S,E,!1),E!==2){if(um&&!D){S.errorRecoveryDisabledLanes|=m,ra|=m,f=4;break e}m=pn,pn=f,m!==null&&(pn===null?pn=m:pn.push.apply(pn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){lo(n,0),Ws(n,s,0,!0);break}e:{switch(u=n,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ws(u,s,Cn,!Ks);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Zc+300-rn(),10<f)){if(Ws(u,s,Cn,!Ks),gi(u,0,!0)!==0)break e;os=s,u.timeoutHandle=Qv(_v.bind(null,u,a,pn,th,hm,s,Cn,ra,ao,Ks,m,"Throttled",-0,0),f);break e}_v(u,a,pn,th,hm,s,Cn,ra,ao,Ks,m,null,-0,0)}}break}while(!0);Mi(n)}function _v(n,s,a,u,f,m,E,S,D,K,Z,ne,Q,W){if(n.timeoutHandle=-1,ne=s.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},cv(s,m,ne);var pe=(m&62914560)===m?Zc-rn():(m&4194048)===m?mv-rn():0;if(pe=dA(ne,pe),pe!==null){os=m,n.cancelPendingCommit=pe(xv.bind(null,n,s,m,a,u,f,E,S,D,Z,ne,null,Q,W)),Ws(n,m,E,!K);return}}xv(n,s,m,a,u,f,E,S,D)}function IS(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!wn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ws(n,s,a,u){s&=~cm,s&=~ra,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var m=31-yt(f),E=1<<m;u[m]=-1,f&=~E}a!==0&&Mr(n,a,s)}function nh(){return(Ke&6)===0?(zl(0),!1):!0}function pm(){if(Me!==null){if(Xe===0)var n=Me.return;else n=Me,Xi=Xr=null,Od(n),Ja=null,Tl=0,n=Me;for(;n!==null;)Y_(n.alternate,n),n=n.return;Me=null}}function lo(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,YS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),os=0,pm(),st=n,Me=a=Qi(n.current,null),Le=s,Xe=0,Rn=null,Ks=!1,ro=Xn(n,s),um=!1,ao=Cn=cm=ra=Qs=gt=0,pn=Ul=null,hm=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-yt(u),m=1<<f;s|=n[f],u&=~m}return as=s,wc(),a}function vv(n,s){Ne=null,X.H=Nl,s===Wa||s===Oc?(s=Vy(),Xe=3):s===vd?(s=Vy(),Xe=4):Xe=s===Kd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rn=s,Me===null&&(gt=1,$c(n,zn(s,n.current)))}function Ev(){var n=An.current;return n===null?!0:(Le&4194048)===Le?Fn===null:(Le&62914560)===Le||(Le&536870912)!==0?n===Fn:!1}function bv(){var n=X.H;return X.H=Nl,n===null?Nl:n}function Tv(){var n=X.A;return X.A=RS,n}function ih(){gt=4,Ks||(Le&4194048)!==Le&&An.current!==null||(ro=!0),(Qs&134217727)===0&&(ra&134217727)===0||st===null||Ws(st,Le,Cn,!1)}function gm(n,s,a){var u=Ke;Ke|=2;var f=bv(),m=Tv();(st!==n||Le!==s)&&(th=null,lo(n,s)),s=!1;var E=gt;e:do try{if(Xe!==0&&Me!==null){var S=Me,D=Rn;switch(Xe){case 8:pm(),E=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(s=!0);var K=Xe;if(Xe=0,Rn=null,uo(n,S,D,K),a&&ro){E=0;break e}break;default:K=Xe,Xe=0,Rn=null,uo(n,S,D,K)}}NS(),E=gt;break}catch(Z){vv(n,Z)}while(!0);return s&&n.shellSuspendCounter++,Xi=Xr=null,Ke=u,X.H=f,X.A=m,Me===null&&(st=null,Le=0,wc()),E}function NS(){for(;Me!==null;)wv(Me)}function OS(n,s){var a=Ke;Ke|=2;var u=bv(),f=Tv();st!==n||Le!==s?(th=null,eh=rn()+500,lo(n,s)):ro=Xn(n,s);e:do try{if(Xe!==0&&Me!==null){s=Me;var m=Rn;t:switch(Xe){case 1:Xe=0,Rn=null,uo(n,s,m,1);break;case 2:case 9:if(Dy(m)){Xe=0,Rn=null,Sv(s);break}s=function(){Xe!==2&&Xe!==9||st!==n||(Xe=7),Mi(n)},m.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Dy(m)?(Xe=0,Rn=null,Sv(s)):(Xe=0,Rn=null,uo(n,s,m,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var S=Me;if(E?u0(E):S.stateNode.complete){Xe=0,Rn=null;var D=S.sibling;if(D!==null)Me=D;else{var K=S.return;K!==null?(Me=K,sh(K)):Me=null}break t}}Xe=0,Rn=null,uo(n,s,m,5);break;case 6:Xe=0,Rn=null,uo(n,s,m,6);break;case 8:pm(),gt=6;break e;default:throw Error(r(462))}}kS();break}catch(Z){vv(n,Z)}while(!0);return Xi=Xr=null,X.H=u,X.A=f,Ke=a,Me!==null?0:(st=null,Le=0,wc(),gt)}function kS(){for(;Me!==null&&!Gf();)wv(Me)}function wv(n){var s=K_(n.alternate,n,as);n.memoizedProps=n.pendingProps,s===null?sh(n):Me=s}function Sv(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=B_(a,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=B_(a,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:Od(s);default:Y_(a,s),s=Me=Ty(s,as),s=K_(a,s,as)}n.memoizedProps=n.pendingProps,s===null?sh(n):Me=s}function uo(n,s,a,u){Xi=Xr=null,Od(s),Ja=null,Tl=0;var f=s.return;try{if(ES(n,f,s,a,Le)){gt=1,$c(n,zn(a,n.current)),Me=null;return}}catch(m){if(f!==null)throw Me=f,m;gt=1,$c(n,zn(a,n.current)),Me=null;return}s.flags&32768?(Be||u===1?n=!0:ro||(Le&536870912)!==0?n=!1:(Ks=n=!0,(u===2||u===9||u===3||u===6)&&(u=An.current,u!==null&&u.tag===13&&(u.flags|=16384))),Av(s,n)):sh(s)}function sh(n){var s=n;do{if((s.flags&32768)!==0){Av(s,Ks);return}n=s.return;var a=wS(s.alternate,s,as);if(a!==null){Me=a;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=n}while(s!==null);gt===0&&(gt=5)}function Av(n,s){do{var a=SS(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);gt=6,Me=null}function xv(n,s,a,u,f,m,E,S,D){n.cancelPendingCommit=null;do rh();while(Pt!==0);if((Ke&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=sd,Yf(n,a,m,E,S,D),n===st&&(Me=st=null,Le=0),oo=s,Xs=n,os=a,fm=m,dm=f,pv=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,LS(Rs,function(){return Ov(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,f=oe.p,oe.p=2,E=Ke,Ke|=4;try{AS(n,s,a)}finally{Ke=E,oe.p=f,X.T=u}}Pt=1,Rv(),Cv(),Iv()}}function Rv(){if(Pt===1){Pt=0;var n=Xs,s=oo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var u=oe.p;oe.p=2;var f=Ke;Ke|=4;try{ov(s,n);var m=Cm,E=dy(n.containerInfo),S=m.focusedElem,D=m.selectionRange;if(E!==S&&S&&S.ownerDocument&&fy(S.ownerDocument.documentElement,S)){if(D!==null&&Zf(S)){var K=D.start,Z=D.end;if(Z===void 0&&(Z=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(Z,S.value.length);else{var ne=S.ownerDocument||document,Q=ne&&ne.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),pe=S.textContent.length,ve=Math.min(D.start,pe),tt=D.end===void 0?ve:Math.min(D.end,pe);!W.extend&&ve>tt&&(E=tt,tt=ve,ve=E);var q=hy(S,ve),L=hy(S,tt);if(q&&L&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==L.node||W.focusOffset!==L.offset)){var G=ne.createRange();G.setStart(q.node,q.offset),W.removeAllRanges(),ve>tt?(W.addRange(G),W.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),W.addRange(G))}}}}for(ne=[],W=S;W=W.parentNode;)W.nodeType===1&&ne.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var ee=ne[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}yh=!!Rm,Cm=Rm=null}finally{Ke=f,oe.p=u,X.T=a}}n.current=s,Pt=2}}function Cv(){if(Pt===2){Pt=0;var n=Xs,s=oo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var u=oe.p;oe.p=2;var f=Ke;Ke|=4;try{nv(n,s.alternate,s)}finally{Ke=f,oe.p=u,X.T=a}}Pt=3}}function Iv(){if(Pt===4||Pt===3){Pt=0,Yu();var n=Xs,s=oo,a=os,u=pv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pt=5:(Pt=0,oo=Xs=null,Nv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ys=null),Fi(a),s=s.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Yn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=X.T,f=oe.p,oe.p=2,X.T=null;try{for(var m=n.onRecoverableError,E=0;E<u.length;E++){var S=u[E];m(S.value,{componentStack:S.stack})}}finally{X.T=s,oe.p=f}}(os&3)!==0&&rh(),Mi(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===mm?jl++:(jl=0,mm=n):jl=0,zl(0)}}function Nv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,El(s)))}function rh(){return Rv(),Cv(),Iv(),Ov()}function Ov(){if(Pt!==5)return!1;var n=Xs,s=fm;fm=0;var a=Fi(os),u=X.T,f=oe.p;try{oe.p=32>a?32:a,X.T=null,a=dm,dm=null;var m=Xs,E=os;if(Pt=0,oo=Xs=null,os=0,(Ke&6)!==0)throw Error(r(331));var S=Ke;if(Ke|=4,fv(m.current),uv(m,m.current,E,a),Ke=S,zl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Yn,m)}catch{}return!0}finally{oe.p=f,X.T=u,Nv(n,s)}}function kv(n,s,a){s=zn(a,s),s=Gd(n.stateNode,s,2),n=qs(n,s,2),n!==null&&(Dr(n,2),Mi(n))}function We(n,s,a){if(n.tag===3)kv(n,n,a);else for(;s!==null;){if(s.tag===3){kv(s,n,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ys===null||!Ys.has(u))){n=zn(a,n),a=D_(2),u=qs(s,a,2),u!==null&&(M_(a,u,s,n),Dr(u,2),Mi(u));break}}s=s.return}}function ym(n,s,a){var u=n.pingCache;if(u===null){u=n.pingCache=new CS;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(a)||(um=!0,f.add(a),n=DS.bind(null,n,s,a),s.then(n,n))}function DS(n,s,a){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,st===n&&(Le&a)===a&&(gt===4||gt===3&&(Le&62914560)===Le&&300>rn()-Zc?(Ke&2)===0&&lo(n,0):cm|=a,ao===Le&&(ao=0)),Mi(n)}function Dv(n,s){s===0&&(s=tc()),n=Kr(n,s),n!==null&&(Dr(n,s),Mi(n))}function MS(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Dv(n,a)}function VS(n,s){var a=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Dv(n,a)}function LS(n,s){return Lt(n,s)}var ah=null,co=null,_m=!1,oh=!1,vm=!1,Js=0;function Mi(n){n!==co&&n.next===null&&(co===null?ah=co=n:co=co.next=n),oh=!0,_m||(_m=!0,US())}function zl(n,s){if(!vm&&oh){vm=!0;do for(var a=!1,u=ah;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-yt(42|n)+1)-1,m&=f&~(E&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Pv(u,m))}else m=Le,m=gi(u,u===st?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Xn(u,m)||(a=!0,Pv(u,m));u=u.next}while(a);vm=!1}}function PS(){Mv()}function Mv(){oh=_m=!1;var n=0;Js!==0&&QS()&&(n=Js);for(var s=rn(),a=null,u=ah;u!==null;){var f=u.next,m=Vv(u,s);m===0?(u.next=null,a===null?ah=f:a.next=f,f===null&&(co=a)):(a=u,(n!==0||(m&3)!==0)&&(oh=!0)),u=f}Pt!==0&&Pt!==5||zl(n),Js!==0&&(Js=0)}function Vv(n,s){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-yt(m),S=1<<E,D=f[E];D===-1?((S&a)===0||(S&u)!==0)&&(f[E]=Qf(S,s)):D<=s&&(n.expiredLanes|=S),m&=~S}if(s=st,a=Le,a=gi(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===s&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&xs(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Xn(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(u!==null&&xs(u),Fi(a)){case 2:case 8:a=Xo;break;case 32:a=Rs;break;case 268435456:a=Xu;break;default:a=Rs}return u=Lv.bind(null,n),a=Lt(a,u),n.callbackPriority=s,n.callbackNode=a,s}return u!==null&&u!==null&&xs(u),n.callbackPriority=2,n.callbackNode=null,2}function Lv(n,s){if(Pt!==0&&Pt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(rh()&&n.callbackNode!==a)return null;var u=Le;return u=gi(n,n===st?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(yv(n,u,s),Vv(n,rn()),n.callbackNode!=null&&n.callbackNode===a?Lv.bind(null,n):null)}function Pv(n,s){if(rh())return null;yv(n,s,!0)}function US(){XS(function(){(Ke&6)!==0?Lt(Yo,PS):Mv()})}function Em(){if(Js===0){var n=Ya;n===0&&(n=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Js=n}return Js}function Uv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ma(""+n)}function jv(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function jS(n,s,a,u,f){if(s==="submit"&&a&&a.stateNode===f){var m=Uv((f[zt]||null).action),E=u.submitter;E&&(s=(s=E[zt]||null)?Uv(s.formAction):E.getAttribute("formAction"),s!==null&&(m=s,E=null));var S=new Ri("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Js!==0){var D=E?jv(f,E):new FormData(f);zd(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(S.preventDefault(),D=E?jv(f,E):new FormData(f),zd(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var bm=0;bm<id.length;bm++){var Tm=id[bm],zS=Tm.toLowerCase(),BS=Tm[0].toUpperCase()+Tm.slice(1);si(zS,"on"+BS)}si(gy,"onAnimationEnd"),si(yy,"onAnimationIteration"),si(_y,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(iS,"onTransitionRun"),si(sS,"onTransitionStart"),si(rS,"onTransitionCancel"),si(vy,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function zv(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var E=u.length-1;0<=E;E--){var S=u[E],D=S.instance,K=S.currentTarget;if(S=S.listener,D!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=K;try{m(f)}catch(Z){Tc(Z)}f.currentTarget=null,m=D}else for(E=0;E<u.length;E++){if(S=u[E],D=S.instance,K=S.currentTarget,S=S.listener,D!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=K;try{m(f)}catch(Z){Tc(Z)}f.currentTarget=null,m=D}}}}function Ve(n,s){var a=s[Ia];a===void 0&&(a=s[Ia]=new Set);var u=n+"__bubble";a.has(u)||(Bv(s,n,2,!1),a.add(u))}function wm(n,s,a){var u=0;s&&(u|=4),Bv(a,n,u,s)}var lh="_reactListening"+Math.random().toString(36).slice(2);function Sm(n){if(!n[lh]){n[lh]=!0,Zo.forEach(function(a){a!=="selectionchange"&&(HS.has(a)||wm(a,!1,n),wm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[lh]||(s[lh]=!0,wm("selectionchange",!1,s))}}function Bv(n,s,a,u){switch(g0(s)){case 2:var f=gA;break;case 8:f=yA;break;default:f=jm}a=f.bind(null,s,a,n),f=void 0,!jr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Am(n,s,a,u,f){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=u.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=Ei(S),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){u=m=E;continue e}S=S.parentNode}}u=u.return}Ds(function(){var K=m,Z=Ln(a),ne=[];e:{var Q=Ey.get(n);if(Q!==void 0){var W=Ri,pe=n;switch(n){case"keypress":if(Br(a)===0)break e;case"keydown":case"keyup":W=vc;break;case"focusin":pe="focus",W=qr;break;case"focusout":pe="blur",W=qr;break;case"beforeblur":case"afterblur":W=qr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=y;break;case gy:case yy:case _y:W=fc;break;case vy:W=A;break;case"scroll":case"scrollend":W=hl;break;case"wheel":W=Y;break;case"copy":case"cut":case"paste":W=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Ki;break;case"toggle":case"beforetoggle":W=Ie}var ve=(s&4)!==0,tt=!ve&&(n==="scroll"||n==="scrollend"),q=ve?Q!==null?Q+"Capture":null:Q;ve=[];for(var L=K,G;L!==null;){var ee=L;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||q===null||(ee=ei(L,q),ee!=null&&ve.push(Hl(L,ee,G))),tt)break;L=L.return}0<ve.length&&(Q=new W(Q,pe,null,a,Z),ne.push({event:Q,listeners:ve}))}}if((s&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",W=n==="mouseout"||n==="pointerout",Q&&a!==ll&&(pe=a.relatedTarget||a.fromElement)&&(Ei(pe)||pe[_i]))break e;if((W||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(pe=a.relatedTarget||a.toElement,W=K,pe=pe?Ei(pe):null,pe!==null&&(tt=l(pe),ve=pe.tag,pe!==tt||ve!==5&&ve!==27&&ve!==6)&&(pe=null)):(W=null,pe=K),W!==pe)){if(ve=fl,ee="onMouseLeave",q="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(ve=Ki,ee="onPointerLeave",q="onPointerEnter",L="pointer"),tt=W==null?Q:bn(W),G=pe==null?Q:bn(pe),Q=new ve(ee,L+"leave",W,a,Z),Q.target=tt,Q.relatedTarget=G,ee=null,Ei(Z)===K&&(ve=new ve(q,L+"enter",pe,a,Z),ve.target=G,ve.relatedTarget=tt,ee=ve),tt=ee,W&&pe)t:{for(ve=qS,q=W,L=pe,G=0,ee=q;ee;ee=ve(ee))G++;ee=0;for(var ye=L;ye;ye=ve(ye))ee++;for(;0<G-ee;)q=ve(q),G--;for(;0<ee-G;)L=ve(L),ee--;for(;G--;){if(q===L||L!==null&&q===L.alternate){ve=q;break t}q=ve(q),L=ve(L)}ve=null}else ve=null;W!==null&&Hv(ne,Q,W,ve,!1),pe!==null&&tt!==null&&Hv(ne,tt,pe,ve,!0)}}e:{if(Q=K?bn(K):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var Fe=ry;else if(iy(Q))if(ay)Fe=eS;else{Fe=Jw;var ge=Ww}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&Da(K.elementType)&&(Fe=ry):Fe=Zw;if(Fe&&(Fe=Fe(n,K))){sy(ne,Fe,a,Z);break e}ge&&ge(n,Q,K),n==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&rl(Q,"number",Q.value)}switch(ge=K?bn(K):window,n){case"focusin":(iy(ge)||ge.contentEditable==="true")&&(Ba=ge,ed=K,yl=null);break;case"focusout":yl=ed=Ba=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,my(ne,a,Z);break;case"selectionchange":if(nS)break;case"keydown":case"keyup":my(ne,a,Z)}var ke;if(Ge)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else za?Fr(n,a)&&(Pe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ni&&a.locale!=="ko"&&(za||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&za&&(ke=cl()):(xi=Z,ul="value"in xi?xi.value:xi.textContent,za=!0)),ge=uh(K,Pe),0<ge.length&&(Pe=new Ii(Pe,n,null,a,Z),ne.push({event:Pe,listeners:ge}),ke?Pe.data=ke:(ke=ja(a),ke!==null&&(Pe.data=ke)))),(ke=Un?Kw(n,a):Qw(n,a))&&(Pe=uh(K,"onBeforeInput"),0<Pe.length&&(ge=new Ii("onBeforeInput","beforeinput",null,a,Z),ne.push({event:ge,listeners:Pe}),ge.data=ke)),jS(ne,n,K,a,Z)}zv(ne,s)})}function Hl(n,s,a){return{instance:n,listener:s,currentTarget:a}}function uh(n,s){for(var a=s+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ei(n,a),f!=null&&u.unshift(Hl(n,f,m)),f=ei(n,s),f!=null&&u.push(Hl(n,f,m))),n.tag===3)return u;n=n.return}return[]}function qS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Hv(n,s,a,u,f){for(var m=s._reactName,E=[];a!==null&&a!==u;){var S=a,D=S.alternate,K=S.stateNode;if(S=S.tag,D!==null&&D===u)break;S!==5&&S!==26&&S!==27||K===null||(D=K,f?(K=ei(a,m),K!=null&&E.unshift(Hl(a,K,D))):f||(K=ei(a,m),K!=null&&E.push(Hl(a,K,D)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var FS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function qv(n){return(typeof n=="string"?n:""+n).replace(FS,`
`).replace($S,"")}function Fv(n,s){return s=qv(s),qv(n)===s}function et(n,s,a,u,f,m){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||hn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&hn(n,""+u);break;case"className":Tn(n,"class",u);break;case"tabIndex":Tn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(n,a,u);break;case"style":ol(n,u,m);break;case"data":if(s!=="object"){Tn(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ma(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&et(n,s,"name",f.name,f,null),et(n,s,"formEncType",f.formEncType,f,null),et(n,s,"formMethod",f.formMethod,f,null),et(n,s,"formTarget",f.formTarget,f,null)):(et(n,s,"encType",f.encType,f,null),et(n,s,"method",f.method,f,null),et(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ma(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Zn);break;case"onScroll":u!=null&&Ve("scroll",n);break;case"onScrollEnd":u!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Ma(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),Oa(n,"popover",u);break;case"xlinkActuate":xt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Oa(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uc.get(a)||a,Oa(n,a,u))}}function xm(n,s,a,u,f,m){switch(a){case"style":ol(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof u=="string"?hn(n,u):(typeof u=="number"||typeof u=="bigint")&&hn(n,""+u);break;case"onScroll":u!=null&&Ve("scroll",n);break;case"onScrollEnd":u!=null&&Ve("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=n[zt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Oa(n,a,u)}}}function Yt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(n,s,m,E,a,null)}}f&&et(n,s,"srcSet",a.srcSet,a,null),u&&et(n,s,"src",a.src,a,null);return;case"input":Ve("invalid",n);var S=m=E=f=null,D=null,K=null;for(u in a)if(a.hasOwnProperty(u)){var Z=a[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":D=Z;break;case"defaultChecked":K=Z;break;case"value":m=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:et(n,s,u,Z,a,null)}}ac(n,m,S,D,K,E,f,!1);return;case"select":Ve("invalid",n),u=E=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:et(n,s,f,S,a,null)}s=m,a=E,n.multiple=!!u,s!=null?Is(n,!!u,s,!1):a!=null&&Is(n,!!u,a,!0);return;case"textarea":Ve("invalid",n),m=f=u=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:et(n,s,E,S,a,null)}Ns(n,u,f,m);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(n,s,D,u,a,null)}return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(u=0;u<Bl.length;u++)Ve(Bl[u],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(u=a[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(n,s,K,u,a,null)}return;default:if(Da(s)){for(Z in a)a.hasOwnProperty(Z)&&(u=a[Z],u!==void 0&&xm(n,s,Z,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&et(n,s,S,u,a,null))}function GS(n,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,S=null,D=null,K=null,Z=null;for(W in a){var ne=a[W];if(a.hasOwnProperty(W)&&ne!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=ne;default:u.hasOwnProperty(W)||et(n,s,W,null,u,ne)}}for(var Q in u){var W=u[Q];if(ne=a[Q],u.hasOwnProperty(Q)&&(W!=null||ne!=null))switch(Q){case"type":m=W;break;case"name":f=W;break;case"checked":K=W;break;case"defaultChecked":Z=W;break;case"value":E=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:W!==ne&&et(n,s,Q,W,u,ne)}}ka(n,E,S,D,K,Z,m,f);return;case"select":W=E=S=Q=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":W=D;default:u.hasOwnProperty(m)||et(n,s,m,null,u,D)}for(f in u)if(m=u[f],D=a[f],u.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":Q=m;break;case"defaultValue":S=m;break;case"multiple":E=m;default:m!==D&&et(n,s,f,m,u,D)}s=S,a=E,u=W,Q!=null?Is(n,!!a,Q,!1):!!u!=!!a&&(s!=null?Is(n,!!a,s,!0):Is(n,!!a,a?[]:"",!1));return;case"textarea":W=Q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(n,s,S,null,u,f)}for(E in u)if(f=u[E],m=a[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":Q=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&et(n,s,E,f,u,m)}oc(n,Q,W);return;case"option":for(var pe in a)if(Q=a[pe],a.hasOwnProperty(pe)&&Q!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:et(n,s,pe,null,u,Q)}for(D in u)if(Q=u[D],W=a[D],u.hasOwnProperty(D)&&Q!==W&&(Q!=null||W!=null))switch(D){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:et(n,s,D,Q,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)Q=a[ve],a.hasOwnProperty(ve)&&Q!=null&&!u.hasOwnProperty(ve)&&et(n,s,ve,null,u,Q);for(K in u)if(Q=u[K],W=a[K],u.hasOwnProperty(K)&&Q!==W&&(Q!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:et(n,s,K,Q,u,W)}return;default:if(Da(s)){for(var tt in a)Q=a[tt],a.hasOwnProperty(tt)&&Q!==void 0&&!u.hasOwnProperty(tt)&&xm(n,s,tt,void 0,u,Q);for(Z in u)Q=u[Z],W=a[Z],!u.hasOwnProperty(Z)||Q===W||Q===void 0&&W===void 0||xm(n,s,Z,Q,u,W);return}}for(var q in a)Q=a[q],a.hasOwnProperty(q)&&Q!=null&&!u.hasOwnProperty(q)&&et(n,s,q,null,u,Q);for(ne in u)Q=u[ne],W=a[ne],!u.hasOwnProperty(ne)||Q===W||Q==null&&W==null||et(n,s,ne,Q,u,W)}function $v(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var f=a[u],m=f.transferSize,E=f.initiatorType,S=f.duration;if(m&&S&&$v(E)){for(E=0,S=f.responseEnd,u+=1;u<a.length;u++){var D=a[u],K=D.startTime;if(K>S)break;var Z=D.transferSize,ne=D.initiatorType;Z&&$v(ne)&&(D=D.responseEnd,E+=Z*(D<S?1:(S-K)/(D-K)))}if(--u,s+=8*(m+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Rm=null,Cm=null;function ch(n){return n.nodeType===9?n:n.ownerDocument}function Gv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Im(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Nm=null;function QS(){var n=window.event;return n&&n.type==="popstate"?n===Nm?!1:(Nm=n,!0):(Nm=null,!1)}var Qv=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,XS=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv<"u"?function(n){return Yv.resolve(null).then(n).catch(WS)}:Qv;function WS(n){setTimeout(function(){throw n})}function Zs(n){return n==="head"}function Xv(n,s){var a=s,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(u===0){n.removeChild(f),po(s);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")ql(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,ql(a);for(var m=a.firstChild;m;){var E=m.nextSibling,S=m.nodeName;m[vi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=E}}else a==="body"&&ql(n.ownerDocument.body);a=f}while(a);po(s)}function Wv(n,s){var a=n;n=0;do{var u=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=u}while(a)}function Om(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Om(a),Na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function JS(n,s,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[vi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=$n(n.nextSibling),n===null)break}return null}function ZS(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=$n(n.nextSibling),n===null))return null;return n}function Jv(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=$n(n.nextSibling),n===null))return null;return n}function km(n){return n.data==="$?"||n.data==="$~"}function Dm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function eA(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function $n(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Mm=null;function Zv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return $n(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function e0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function t0(n,s,a){switch(s=ch(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function ql(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Na(n)}var Gn=new Map,n0=new Set;function hh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ls=oe.d;oe.d={f:tA,r:nA,D:iA,C:sA,L:rA,m:aA,X:lA,S:oA,M:uA};function tA(){var n=ls.f(),s=nh();return n||s}function nA(n){var s=Vn(n);s!==null&&s.tag===5&&s.type==="form"?v_(s):ls.r(n)}var ho=typeof document>"u"?null:document;function i0(n,s,a){var u=ho;if(u&&typeof s=="string"&&s){var f=cn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),n0.has(f)||(n0.add(f),n={rel:n,crossOrigin:a,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Yt(s,"link",n),At(s),u.head.appendChild(s)))}}function iA(n){ls.D(n),i0("dns-prefetch",n,null)}function sA(n,s){ls.C(n,s),i0("preconnect",n,s)}function rA(n,s,a){ls.L(n,s,a);var u=ho;if(u&&n&&s){var f='link[rel="preload"][as="'+cn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(n)+'"]';var m=f;switch(s){case"style":m=fo(n);break;case"script":m=mo(n)}Gn.has(m)||(n=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Gn.set(m,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(Fl(m))||s==="script"&&u.querySelector($l(m))||(s=u.createElement("link"),Yt(s,"link",n),At(s),u.head.appendChild(s)))}}function aA(n,s){ls.m(n,s);var a=ho;if(a&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+cn(u)+'"][href="'+cn(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=mo(n)}if(!Gn.has(m)&&(n=v({rel:"modulepreload",href:n},s),Gn.set(m,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(m)))return}u=a.createElement("link"),Yt(u,"link",n),At(u),a.head.appendChild(u)}}}function oA(n,s,a){ls.S(n,s,a);var u=ho;if(u&&n){var f=bi(u).hoistableStyles,m=fo(n);s=s||"default";var E=f.get(m);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Fl(m)))S.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Gn.get(m))&&Vm(n,a);var D=E=u.createElement("link");At(D),Yt(D,"link",n),D._p=new Promise(function(K,Z){D.onload=K,D.onerror=Z}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,fh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(m,E)}}}function lA(n,s){ls.X(n,s);var a=ho;if(a&&n){var u=bi(a).hoistableScripts,f=mo(n),m=u.get(f);m||(m=a.querySelector($l(f)),m||(n=v({src:n,async:!0},s),(s=Gn.get(f))&&Lm(n,s),m=a.createElement("script"),At(m),Yt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function uA(n,s){ls.M(n,s);var a=ho;if(a&&n){var u=bi(a).hoistableScripts,f=mo(n),m=u.get(f);m||(m=a.querySelector($l(f)),m||(n=v({src:n,async:!0,type:"module"},s),(s=Gn.get(f))&&Lm(n,s),m=a.createElement("script"),At(m),Yt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function s0(n,s,a,u){var f=(f=Ce.current)?hh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=fo(a.href),a=bi(f).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=fo(a.href);var m=bi(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(Fl(n)))&&!m._p&&(E.instance=m,E.state.loading=5),Gn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(n,a),m||cA(f,n,a,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=mo(a),a=bi(f).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function fo(n){return'href="'+cn(n)+'"'}function Fl(n){return'link[rel="stylesheet"]['+n+"]"}function r0(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function cA(n,s,a,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Yt(s,"link",a),At(s),n.head.appendChild(s))}function mo(n){return'[src="'+cn(n)+'"]'}function $l(n){return"script[async]"+n}function a0(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+cn(a.href)+'"]');if(u)return s.instance=u,At(u),u;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),At(u),Yt(u,"style",f),fh(u,a.precedence,n),s.instance=u;case"stylesheet":f=fo(a.href);var m=n.querySelector(Fl(f));if(m)return s.state.loading|=4,s.instance=m,At(m),m;u=r0(a),(f=Gn.get(f))&&Vm(u,f),m=(n.ownerDocument||n).createElement("link"),At(m);var E=m;return E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Yt(m,"link",u),s.state.loading|=4,fh(m,a.precedence,n),s.instance=m;case"script":return m=mo(a.src),(f=n.querySelector($l(m)))?(s.instance=f,At(f),f):(u=a,(f=Gn.get(m))&&(u=v({},a),Lm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),At(f),Yt(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,fh(u,a.precedence,n));return s.instance}function fh(n,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===s)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Vm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Lm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var dh=null;function o0(n,s,a){if(dh===null){var u=new Map,f=dh=new Map;f.set(a,u)}else f=dh,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[vi]||m[St]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(s)||"";E=n+E;var S=u.get(E);S?S.push(m):u.set(E,[m])}}return u}function l0(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function hA(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function u0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function fA(n,s,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=fo(u.href),m=s.querySelector(Fl(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=mh.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=m,At(m);return}m=s.ownerDocument||s,u=r0(u),(f=Gn.get(f))&&Vm(u,f),m=m.createElement("link"),At(m);var E=m;E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Yt(m,"link",u),a.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=mh.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Pm=0;function dA(n,s){return n.stylesheets&&n.count===0&&gh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var u=setTimeout(function(){if(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+s);0<n.imgBytes&&Pm===0&&(Pm=62500*KS());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Pm?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ph=null;function gh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ph=new Map,s.forEach(mA,n),ph=null,mh.call(n))}function mA(n,s){if(!(s.state.loading&4)){var a=ph.get(n);if(a)var u=a.get(null);else{a=new Map,ph.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),m=a.get(E)||u,m===u&&a.set(null,f),a.set(E,f),this.count++,u=mh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Gl={$$typeof:$,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function pA(n,s,a,u,f,m,E,S,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function c0(n,s,a,u,f,m,E,S,D,K,Z,ne){return n=new pA(n,s,a,E,D,K,Z,ne,S),s=1,m===!0&&(s|=24),m=Sn(3,null,null,s),n.current=m,m.stateNode=n,s=gd(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:s},Ed(m),n}function h0(n){return n?(n=Fa,n):Fa}function f0(n,s,a,u,f,m){f=h0(f),u.context===null?u.context=f:u.pendingContext=f,u=Hs(s),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=qs(n,u,s),a!==null&&(gn(a,n,s),Sl(a,n,s))}function d0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Um(n,s){d0(n,s),(n=n.alternate)&&d0(n,s)}function m0(n){if(n.tag===13||n.tag===31){var s=Kr(n,67108864);s!==null&&gn(s,n,67108864),Um(n,67108864)}}function p0(n){if(n.tag===13||n.tag===31){var s=In();s=Vr(s);var a=Kr(n,s);a!==null&&gn(a,n,s),Um(n,s)}}var yh=!0;function gA(n,s,a,u){var f=X.T;X.T=null;var m=oe.p;try{oe.p=2,jm(n,s,a,u)}finally{oe.p=m,X.T=f}}function yA(n,s,a,u){var f=X.T;X.T=null;var m=oe.p;try{oe.p=8,jm(n,s,a,u)}finally{oe.p=m,X.T=f}}function jm(n,s,a,u){if(yh){var f=zm(u);if(f===null)Am(n,s,u,_h,a),y0(n,u);else if(vA(f,n,s,a,u))u.stopPropagation();else if(y0(n,u),s&4&&-1<_A.indexOf(n)){for(;f!==null;){var m=Vn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=pi(m.pendingLanes);if(E!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var D=1<<31-yt(E);S.entanglements[1]|=D,E&=~D}Mi(m),(Ke&6)===0&&(eh=rn()+500,zl(0))}}break;case 31:case 13:S=Kr(m,2),S!==null&&gn(S,m,2),nh(),Um(m,2)}if(m=zm(u),m===null&&Am(n,s,u,_h,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else Am(n,s,u,null,a)}}function zm(n){return n=Ln(n),Bm(n)}var _h=null;function Bm(n){if(_h=null,n=Ei(n),n!==null){var s=l(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=d(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return _h=n,null}function g0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Or()){case Yo:return 2;case Xo:return 8;case Rs:case Kf:return 32;case Xu:return 268435456;default:return 32}default:return 32}}var Hm=!1,er=null,tr=null,nr=null,Kl=new Map,Ql=new Map,ir=[],_A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y0(n,s){switch(n){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Kl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(s.pointerId)}}function Yl(n,s,a,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Vn(s),s!==null&&m0(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function vA(n,s,a,u,f){switch(s){case"focusin":return er=Yl(er,n,s,a,u,f),!0;case"dragenter":return tr=Yl(tr,n,s,a,u,f),!0;case"mouseover":return nr=Yl(nr,n,s,a,u,f),!0;case"pointerover":var m=f.pointerId;return Kl.set(m,Yl(Kl.get(m)||null,n,s,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Ql.set(m,Yl(Ql.get(m)||null,n,s,a,u,f)),!0}return!1}function _0(n){var s=Ei(n.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,Wn(n.priority,function(){p0(a)});return}}else if(s===31){if(s=d(a),s!==null){n.blockedOn=s,Wn(n.priority,function(){p0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function vh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=zm(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);ll=u,a.target.dispatchEvent(u),ll=null}else return s=Vn(a),s!==null&&m0(s),n.blockedOn=a,!1;s.shift()}return!0}function v0(n,s,a){vh(n)&&a.delete(s)}function EA(){Hm=!1,er!==null&&vh(er)&&(er=null),tr!==null&&vh(tr)&&(tr=null),nr!==null&&vh(nr)&&(nr=null),Kl.forEach(v0),Ql.forEach(v0)}function Eh(n,s){n.blockedOn===s&&(n.blockedOn=null,Hm||(Hm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,EA)))}var bh=null;function E0(n){bh!==n&&(bh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){bh===n&&(bh=null);for(var s=0;s<n.length;s+=3){var a=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(Bm(u||a)===null)continue;break}var m=Vn(a);m!==null&&(n.splice(s,3),s-=3,zd(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function po(n){function s(D){return Eh(D,n)}er!==null&&Eh(er,n),tr!==null&&Eh(tr,n),nr!==null&&Eh(nr,n),Kl.forEach(s),Ql.forEach(s);for(var a=0;a<ir.length;a++){var u=ir[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)_0(a),a.blockedOn===null&&ir.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],E=f[zt]||null;if(typeof m=="function")E||E0(a);else if(E){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[zt]||null)S=E.formAction;else if(Bm(f)!==null)continue}else S=E.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),E0(a)}}}function b0(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function qm(n){this._internalRoot=n}Th.prototype.render=qm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,u=In();f0(a,u,n,s,null,null)},Th.prototype.unmount=qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;f0(n.current,2,null,n,null,null),nh(),s[_i]=null}};function Th(n){this._internalRoot=n}Th.prototype.unstable_scheduleHydration=function(n){if(n){var s=nc();n={blockedOn:null,target:n,priority:s};for(var a=0;a<ir.length&&s!==0&&s<ir[a].priority;a++);ir.splice(a,0,n),a===0&&_0(n)}};var T0=e.version;if(T0!=="19.2.0")throw Error(r(527,T0,"19.2.0"));oe.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var bA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Yn=wh.inject(bA),Ft=wh}catch{}}return Wl.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,u="",f=I_,m=N_,E=O_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=c0(n,1,!1,null,null,a,u,null,f,m,E,b0),n[_i]=s.current,Sm(n),new qm(s)},Wl.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var u=!1,f="",m=I_,E=N_,S=O_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=c0(n,1,!0,s,a??null,u,f,D,m,E,S,b0),s.context=h0(null),a=s.current,u=In(),u=Vr(u),f=Hs(u),f.callback=null,qs(a,f,u),a=u,s.current.lanes=a,Dr(s,a),Mi(s),n[_i]=s.current,Sm(n),new Th(s)},Wl.version="19.2.0",Wl}var k0;function kA(){if(k0)return Gm.exports;k0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gm.exports=OA(),Gm.exports}var DA=kA();var D0="popstate";function MA(i={}){function e(o,l){let{pathname:c="/",search:d="",hash:p=""}=Ea(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),gp("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:yu(l))}function r(o,l){Dn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return LA(e,t,r,i)}function ft(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Dn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VA(){return Math.random().toString(36).substring(2,10)}function M0(i,e){return{usr:i.state,key:i.key,idx:e}}function gp(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ea(e):e,state:t,key:e&&e.key||r||VA()}}function yu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Ea(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function LA(i,e,t,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function v(){d="POP";let U=_(),H=U==null?null:U-g;g=U,p&&p({action:d,location:j.location,delta:H})}function w(U,H){d="PUSH";let B=gp(j.location,U,H);t&&t(B,U),g=_()+1;let $=M0(B,g),re=j.createHref(B);try{c.pushState($,"",re)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(re)}l&&p&&p({action:d,location:j.location,delta:1})}function C(U,H){d="REPLACE";let B=gp(j.location,U,H);t&&t(B,U),g=_();let $=M0(B,g),re=j.createHref(B);c.replaceState($,"",re),l&&p&&p({action:d,location:j.location,delta:0})}function V(U){return PA(U)}let j={get action(){return d},get location(){return i(o,c)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(D0,v),p=U,()=>{o.removeEventListener(D0,v),p=null}},createHref(U){return e(o,U)},createURL:V,encodeLocation(U){let H=V(U);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:w,replace:C,go(U){return c.go(U)}};return j}function PA(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ft(t,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:yu(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function U1(i,e,t="/"){return UA(i,e,t,!1)}function UA(i,e,t,r){let o=typeof e=="string"?Ea(e):e,l=ys(o.pathname||"/",t);if(l==null)return null;let c=j1(i);jA(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=XA(l);d=QA(c[p],g,r)}return d}function j1(i,e=[],t=[],r="",o=!1){let l=(c,d,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&p)return;ft(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let v=ms([r,_.relativePath]),w=t.concat(_);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),j1(c.children,e,w,v,p)),!(c.path==null&&!c.index)&&e.push({path:v,score:GA(v,c.index),routesMeta:w})};return i.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of z1(c.path))l(c,d,!0,p)}),e}function z1(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=z1(r.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function jA(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:KA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var zA=/^:[\w-]+$/,BA=3,HA=2,qA=1,FA=10,$A=-2,V0=i=>i==="*";function GA(i,e){let t=i.split("/"),r=t.length;return t.some(V0)&&(r+=$A),e&&(r+=HA),t.filter(o=>!V0(o)).reduce((o,l)=>o+(zA.test(l)?BA:l===""?qA:FA),r)}function KA(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function QA(i,e,t=!1){let{routesMeta:r}=i,o={},l="/",c=[];for(let d=0;d<r.length;++d){let p=r[d],g=d===r.length-1,_=l==="/"?e:e.slice(l.length)||"/",v=$h({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!v&&g&&t&&!r[r.length-1].route.index&&(v=$h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:ms([l,v.pathname]),pathnameBase:tx(ms([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=ms([l,v.pathnameBase]))}return c}function $h(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=YA(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((g,{paramName:_,isOptional:v},w)=>{if(_==="*"){let V=d[w]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const C=d[w];return v&&!C?g[_]=void 0:g[_]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:i}}function YA(i,e=!1,t=!0){Dn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function XA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ys(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}var WA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JA=i=>WA.test(i);function ZA(i,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof i=="string"?Ea(i):i,l;if(t)if(JA(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Dn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=L0(t.substring(1),"/"):l=L0(t,e)}else l=e;return{pathname:l,search:nx(r),hash:ix(o)}}function L0(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Xm(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ex(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function sg(i){let e=ex(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function rg(i,e,t,r=!1){let o;typeof i=="string"?o=Ea(i):(o={...i},ft(!o.pathname||!o.pathname.includes("?"),Xm("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Xm("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Xm("#","search","hash",o)));let l=i===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let v=e.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}d=v>=0?e[v]:"/"}let p=ZA(o,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var ms=i=>i.join("/").replace(/\/\/+/g,"/"),tx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),nx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,ix=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function sx(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var B1=["POST","PUT","PATCH","DELETE"];new Set(B1);var rx=["GET",...B1];new Set(rx);var Lo=P.createContext(null);Lo.displayName="DataRouter";var pf=P.createContext(null);pf.displayName="DataRouterState";P.createContext(!1);var H1=P.createContext({isTransitioning:!1});H1.displayName="ViewTransition";var ax=P.createContext(new Map);ax.displayName="Fetchers";var ox=P.createContext(null);ox.displayName="Await";var hi=P.createContext(null);hi.displayName="Navigation";var ku=P.createContext(null);ku.displayName="Location";var fi=P.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var ag=P.createContext(null);ag.displayName="RouteError";function lx(i,{relative:e}={}){ft(Po(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=P.useContext(hi),{hash:o,pathname:l,search:c}=Du(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ms([t,l])),r.createHref({pathname:d,search:c,hash:o})}function Po(){return P.useContext(ku)!=null}function ws(){return ft(Po(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(ku).location}var q1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F1(i){P.useContext(hi).static||P.useLayoutEffect(i)}function Tr(){let{isDataRoute:i}=P.useContext(fi);return i?Tx():ux()}function ux(){ft(Po(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(Lo),{basename:e,navigator:t}=P.useContext(hi),{matches:r}=P.useContext(fi),{pathname:o}=ws(),l=JSON.stringify(sg(r)),c=P.useRef(!1);return F1(()=>{c.current=!0}),P.useCallback((p,g={})=>{if(Dn(c.current,q1),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=rg(p,JSON.parse(l),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ms([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,o,i])}P.createContext(null);function cx(){let{matches:i}=P.useContext(fi),e=i[i.length-1];return e?e.params:{}}function Du(i,{relative:e}={}){let{matches:t}=P.useContext(fi),{pathname:r}=ws(),o=JSON.stringify(sg(t));return P.useMemo(()=>rg(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function hx(i,e){return $1(i,e)}function $1(i,e,t,r,o){ft(Po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(hi),{matches:c}=P.useContext(fi),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",v=d&&d.route;{let B=v&&v.path||"";G1(g,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=ws(),C;if(e){let B=typeof e=="string"?Ea(e):e;ft(_==="/"||B.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${B.pathname}" was given in the \`location\` prop.`),C=B}else C=w;let V=C.pathname||"/",j=V;if(_!=="/"){let B=_.replace(/^\//,"").split("/");j="/"+V.replace(/^\//,"").split("/").slice(B.length).join("/")}let U=U1(i,{pathname:j});Dn(v||U!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Dn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=gx(U&&U.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:ms([_,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?_:ms([_,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,t,r,o);return e&&H?P.createElement(ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},H):H}function fx(){let i=bx(),e=sx(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:o},t):null,c)}var dx=P.createElement(fx,null),mx=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?P.createElement(fi.Provider,{value:this.props.routeContext},P.createElement(ag.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function px({routeContext:i,match:e,children:t}){let r=P.useContext(Lo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(fi.Provider,{value:i},t)}function gx(i,e=[],t=null,r=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,c=t?.errors;if(c!=null){let _=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);ft(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let d=!1,p=-1;if(t)for(let _=0;_<l.length;_++){let v=l[_];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=_),v.route.id){let{loaderData:w,errors:C}=t,V=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||V){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&r?(_,v)=>{r(_,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:v})}:void 0;return l.reduceRight((_,v,w)=>{let C,V=!1,j=null,U=null;t&&(C=c&&v.route.id?c[v.route.id]:void 0,j=v.route.errorElement||dx,d&&(p<0&&w===0?(G1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,U=null):p===w&&(V=!0,U=v.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,w+1)),B=()=>{let $;return C?$=j:V?$=U:v.route.Component?$=P.createElement(v.route.Component,null):v.route.element?$=v.route.element:$=_,P.createElement(px,{match:v,routeContext:{outlet:_,matches:H,isDataRoute:t!=null},children:$})};return t&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?P.createElement(mx,{location:t.location,revalidation:t.revalidation,component:j,error:C,children:B(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:g}):B()},null)}function og(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yx(i){let e=P.useContext(Lo);return ft(e,og(i)),e}function _x(i){let e=P.useContext(pf);return ft(e,og(i)),e}function vx(i){let e=P.useContext(fi);return ft(e,og(i)),e}function lg(i){let e=vx(i),t=e.matches[e.matches.length-1];return ft(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function Ex(){return lg("useRouteId")}function bx(){let i=P.useContext(ag),e=_x("useRouteError"),t=lg("useRouteError");return i!==void 0?i:e.errors?.[t]}function Tx(){let{router:i}=yx("useNavigate"),e=lg("useNavigate"),t=P.useRef(!1);return F1(()=>{t.current=!0}),P.useCallback(async(o,l={})=>{Dn(t.current,q1),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var P0={};function G1(i,e,t){!e&&!P0[i]&&(P0[i]=!0,Dn(!1,t))}P.memo(wx);function wx({routes:i,future:e,state:t,unstable_onError:r}){return $1(i,void 0,t,r,e)}function Sx({to:i,replace:e,state:t,relative:r}){ft(Po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(hi);Dn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext(fi),{pathname:c}=ws(),d=Tr(),p=rg(i,sg(l),c,r==="path"),g=JSON.stringify(p);return P.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:r})},[d,g,r,e,t]),null}function aa(i){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ax({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:l=!1}){ft(!Po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Ea(t));let{pathname:p="/",search:g="",hash:_="",state:v=null,key:w="default"}=t,C=P.useMemo(()=>{let V=ys(p,c);return V==null?null:{location:{pathname:V,search:g,hash:_,state:v,key:w},navigationType:r}},[c,p,g,_,v,w,r]);return Dn(C!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:P.createElement(hi.Provider,{value:d},P.createElement(ku.Provider,{children:e,value:C}))}function xx({children:i,location:e}){return hx(yp(i),e)}function yp(i,e=[]){let t=[];return P.Children.forEach(i,(r,o)=>{if(!P.isValidElement(r))return;let l=[...e,o];if(r.type===P.Fragment){t.push.apply(t,yp(r.props.children,l));return}ft(r.type===aa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=yp(r.props.children,l)),t.push(c)}),t}var Dh="get",Mh="application/x-www-form-urlencoded";function gf(i){return i!=null&&typeof i.tagName=="string"}function Rx(i){return gf(i)&&i.tagName.toLowerCase()==="button"}function Cx(i){return gf(i)&&i.tagName.toLowerCase()==="form"}function Ix(i){return gf(i)&&i.tagName.toLowerCase()==="input"}function Nx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ox(i,e){return i.button===0&&(!e||e==="_self")&&!Nx(i)}var Sh=null;function kx(){if(Sh===null)try{new FormData(document.createElement("form"),0),Sh=!1}catch{Sh=!0}return Sh}var Dx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wm(i){return i!=null&&!Dx.has(i)?(Dn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mh}"`),null):i}function Mx(i,e){let t,r,o,l,c;if(Cx(i)){let d=i.getAttribute("action");r=d?ys(d,e):null,t=i.getAttribute("method")||Dh,o=Wm(i.getAttribute("enctype"))||Mh,l=new FormData(i)}else if(Rx(i)||Ix(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(r=p?ys(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||Dh,o=Wm(i.getAttribute("formenctype"))||Wm(d.getAttribute("enctype"))||Mh,l=new FormData(d,i),!kx()){let{name:g,type:_,value:v}=i;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,v)}}else{if(gf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dh,r=null,o=Mh,c=i}return l&&o==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ug(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Vx(i,e,t){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&ys(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function Lx(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Px(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Ux(i,e,t){let r=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await Lx(l,t);return c.links?c.links():[]}return[]}));return Hx(r.flat(1).filter(Px).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function U0(i,e,t,r,o,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function jx(i,e,{includeHydrateFallback:t}={}){return zx(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function zx(i){return[...new Set(i)]}function Bx(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function Hx(i,e){let t=new Set;return new Set(e),i.reduce((r,o)=>{let l=JSON.stringify(Bx(o));return t.has(l)||(t.add(l),r.push({key:l,link:o})),r},[])}function K1(){let i=P.useContext(Lo);return ug(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function qx(){let i=P.useContext(pf);return ug(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var cg=P.createContext(void 0);cg.displayName="FrameworkContext";function Q1(){let i=P.useContext(cg);return ug(i,"You must render this element inside a <HydratedRouter> element"),i}function Fx(i,e){let t=P.useContext(cg),[r,o]=P.useState(!1),[l,c]=P.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:v}=e,w=P.useRef(null);P.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let j=H=>{H.forEach(B=>{c(B.isIntersecting)})},U=new IntersectionObserver(j,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[i]),P.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let C=()=>{o(!0)},V=()=>{o(!1),c(!1)};return t?i!=="intent"?[l,w,{}]:[l,w,{onFocus:Jl(d,C),onBlur:Jl(p,V),onMouseEnter:Jl(g,C),onMouseLeave:Jl(_,V),onTouchStart:Jl(v,C)}]:[!1,w,{}]}function Jl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function $x({page:i,...e}){let{router:t}=K1(),r=P.useMemo(()=>U1(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?P.createElement(Kx,{page:i,matches:r,...e}):null}function Gx(i){let{manifest:e,routeModules:t}=Q1(),[r,o]=P.useState([]);return P.useEffect(()=>{let l=!1;return Ux(i,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[i,e,t]),r}function Kx({page:i,matches:e,...t}){let r=ws(),{manifest:o,routeModules:l}=Q1(),{basename:c}=K1(),{loaderData:d,matches:p}=qx(),g=P.useMemo(()=>U0(i,e,p,o,r,"data"),[i,e,p,o,r]),_=P.useMemo(()=>U0(i,e,p,o,r,"assets"),[i,e,p,o,r]),v=P.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let V=new Set,j=!1;if(e.forEach(H=>{let B=o.routes[H.route.id];!B||!B.hasLoader||(!g.some($=>$.route.id===H.route.id)&&H.route.id in d&&l[H.route.id]?.shouldRevalidate||B.hasClientLoader?j=!0:V.add(H.route.id))}),V.size===0)return[];let U=Vx(i,c,"data");return j&&V.size>0&&U.searchParams.set("_routes",e.filter(H=>V.has(H.route.id)).map(H=>H.route.id).join(",")),[U.pathname+U.search]},[c,d,r,o,g,e,i,l]),w=P.useMemo(()=>jx(_,o),[_,o]),C=Gx(_);return P.createElement(P.Fragment,null,v.map(V=>P.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),w.map(V=>P.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),C.map(({key:V,link:j})=>P.createElement("link",{key:V,nonce:t.nonce,...j})))}function Qx(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Y1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y1&&(window.__reactRouterVersion="7.9.6")}catch{}function Yx({basename:i,children:e,window:t}){let r=P.useRef();r.current==null&&(r.current=MA({window:t,v5Compat:!0}));let o=r.current,[l,c]=P.useState({action:o.action,location:o.location}),d=P.useCallback(p=>{P.startTransition(()=>c(p))},[c]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.createElement(Ax,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var X1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W1=P.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:v,...w},C){let{basename:V}=P.useContext(hi),j=typeof g=="string"&&X1.test(g),U,H=!1;if(typeof g=="string"&&j&&(U=g,Y1))try{let I=new URL(window.location.href),k=g.startsWith("//")?new URL(I.protocol+g):new URL(g),M=ys(k.pathname,V);k.origin===I.origin&&M!=null?g=M+k.search+k.hash:H=!0}catch{Dn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=lx(g,{relative:o}),[$,re,he]=Fx(r,w),fe=Zx(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:v});function R(I){e&&e(I),I.defaultPrevented||fe(I)}let x=P.createElement("a",{...w,...he,href:U||B,onClick:H||l?e:R,ref:Qx(C,re),target:p,"data-discover":!j&&t==="render"?"true":void 0});return $&&!j?P.createElement(P.Fragment,null,x,P.createElement($x,{page:B})):x});W1.displayName="Link";var Xx=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...g},_){let v=Du(c,{relative:g.relative}),w=ws(),C=P.useContext(pf),{navigator:V,basename:j}=P.useContext(hi),U=C!=null&&sR(v)&&d===!0,H=V.encodeLocation?V.encodeLocation(v).pathname:v.pathname,B=w.pathname,$=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(B=B.toLowerCase(),$=$?$.toLowerCase():null,H=H.toLowerCase()),$&&j&&($=ys($,j)||$);const re=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let he=B===H||!o&&B.startsWith(H)&&B.charAt(re)==="/",fe=$!=null&&($===H||!o&&$.startsWith(H)&&$.charAt(H.length)==="/"),R={isActive:he,isPending:fe,isTransitioning:U},x=he?e:void 0,I;typeof r=="function"?I=r(R):I=[r,he?"active":null,fe?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(R):l;return P.createElement(W1,{...g,"aria-current":x,className:I,ref:_,style:k,to:c,viewTransition:d},typeof p=="function"?p(R):p)});Xx.displayName="NavLink";var Wx=P.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:l,method:c=Dh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:v,...w},C)=>{let V=nR(),j=iR(d,{relative:g}),U=c.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&X1.test(d),B=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let re=$.nativeEvent.submitter,he=re?.getAttribute("formmethod")||c;V(re||$.currentTarget,{fetcherKey:e,method:he,navigate:t,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:v})};return P.createElement("form",{ref:C,method:U,action:j,onSubmit:r?p:B,...w,"data-discover":!H&&i==="render"?"true":void 0})});Wx.displayName="Form";function Jx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J1(i){let e=P.useContext(Lo);return ft(e,Jx(i)),e}function Zx(i,{target:e,replace:t,state:r,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Tr(),p=ws(),g=Du(i,{relative:l});return P.useCallback(_=>{if(Ox(_,e)){_.preventDefault();let v=t!==void 0?t:yu(p)===yu(g);d(i,{replace:v,state:r,preventScrollReset:o,relative:l,viewTransition:c})}},[p,d,g,t,r,e,i,o,l,c])}var eR=0,tR=()=>`__${String(++eR)}__`;function nR(){let{router:i}=J1("useSubmit"),{basename:e}=P.useContext(hi),t=Ex();return P.useCallback(async(r,o={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=Mx(r,e);if(o.navigate===!1){let _=o.fetcherKey||tR();await i.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function iR(i,{relative:e}={}){let{basename:t}=P.useContext(hi),r=P.useContext(fi);ft(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...Du(i||".",{relative:e})},c=ws();if(i==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(v=>v).forEach(v=>d.append("index",v));let _=d.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ms([t,l.pathname])),yu(l)}function sR(i,{relative:e}={}){let t=P.useContext(H1);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=J1("useViewTransitionState"),o=Du(i,{relative:e});if(!t.isTransitioning)return!1;let l=ys(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=ys(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $h(o.pathname,c)!=null||$h(o.pathname,l)!=null}const Se=i=>typeof i=="string",Zl=()=>{let i,e;const t=new Promise((r,o)=>{i=r,e=o});return t.resolve=i,t.reject=e,t},j0=i=>i==null?"":""+i,rR=(i,e,t)=>{i.forEach(r=>{e[r]&&(t[r]=e[r])})},aR=/###/g,z0=i=>i&&i.indexOf("###")>-1?i.replace(aR,"."):i,B0=i=>!i||Se(i),uu=(i,e,t)=>{const r=Se(e)?e.split("."):e;let o=0;for(;o<r.length-1;){if(B0(i))return{};const l=z0(r[o]);!i[l]&&t&&(i[l]=new t),Object.prototype.hasOwnProperty.call(i,l)?i=i[l]:i={},++o}return B0(i)?{}:{obj:i,k:z0(r[o])}},H0=(i,e,t)=>{const{obj:r,k:o}=uu(i,e,Object);if(r!==void 0||e.length===1){r[o]=t;return}let l=e[e.length-1],c=e.slice(0,e.length-1),d=uu(i,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=uu(i,c,Object),d?.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=t},oR=(i,e,t,r)=>{const{obj:o,k:l}=uu(i,e,Object);o[l]=o[l]||[],o[l].push(t)},Gh=(i,e)=>{const{obj:t,k:r}=uu(i,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},lR=(i,e,t)=>{const r=Gh(i,t);return r!==void 0?r:Gh(e,t)},Z1=(i,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in i?Se(i[r])||i[r]instanceof String||Se(e[r])||e[r]instanceof String?t&&(i[r]=e[r]):Z1(i[r],e[r],t):i[r]=e[r]);return i},go=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var uR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const cR=i=>Se(i)?i.replace(/[&<>"'\/]/g,e=>uR[e]):i;class hR{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const fR=[" ",",","?","!",";"],dR=new hR(20),mR=(i,e,t)=>{e=e||"",t=t||"";const r=fR.filter(c=>e.indexOf(c)<0&&t.indexOf(c)<0);if(r.length===0)return!0;const o=dR.getRegExp(`(${r.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!o.test(i);if(!l){const c=i.indexOf(t);c>0&&!o.test(i.substring(0,c))&&(l=!0)}return l},_p=(i,e,t=".")=>{if(!i)return;if(i[e])return Object.prototype.hasOwnProperty.call(i,e)?i[e]:void 0;const r=e.split(t);let o=i;for(let l=0;l<r.length;){if(!o||typeof o!="object")return;let c,d="";for(let p=l;p<r.length;++p)if(p!==l&&(d+=t),d+=r[p],c=o[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&p<r.length-1)continue;l+=p-l+1;break}o=c}return o},_u=i=>i?.replace("_","-"),pR={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){console?.[i]?.apply?.(console,e)}};let gR=class vp{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||pR,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,o){return o&&!this.debug?null:(Se(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new vp(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new vp(this.logger,e)}};var Li=new gR;class yf{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const o=this.observers[r].get(t)||0;this.observers[r].set(t,o+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,l])=>{for(let c=0;c<l;c++)o(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,l])=>{for(let c=0;c<l;c++)o.apply(o,[e,...t])})}}class q0 extends yf{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,o={}){const l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,c=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):Se(r)&&l?d.push(...r.split(l)):d.push(r)));const p=Gh(this.data,d);return!p&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),p||!c||!Se(r)?p:_p(this.data?.[e]?.[t],r,l)}addResource(e,t,r,o,l={silent:!1}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(c?r.split(c):r)),e.indexOf(".")>-1&&(d=e.split("."),o=t,t=d[1]),this.addNamespaces(t),H0(this.data,d,o),l.silent||this.emit("added",e,t,r,o)}addResources(e,t,r,o={silent:!1}){for(const l in r)(Se(r[l])||Array.isArray(r[l]))&&this.addResource(e,t,l,r[l],{silent:!0});o.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,o,l,c={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),o=r,r=t,t=d[1]),this.addNamespaces(t);let p=Gh(this.data,d)||{};c.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?Z1(p,r,l):p={...p,...r},H0(this.data,d,p),c.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(o=>t[o]&&Object.keys(t[o]).length>0)}toJSON(){return this.data}}var eb={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,t,r,o){return i.forEach(l=>{e=this.processors[l]?.process(e,t,r,o)??e}),e}};const tb=Symbol("i18next/PATH_KEY");function yR(){const i=[],e=Object.create(null);let t;return e.get=(r,o)=>(t?.revoke?.(),o===tb?i:(i.push(o),t=Proxy.revocable(r,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Ep(i,e){const{[tb]:t}=i(yR());return t.join(e?.keySeparator??".")}const F0={},Jm=i=>!Se(i)&&typeof i!="boolean"&&typeof i!="number";class Kh extends yf{constructor(e,t={}){super(),rR(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Li.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const o=this.resolve(e,r);if(o?.res===void 0)return!1;const l=Jm(o.res);return!(r.returnObjects===!1&&l)}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let l=t.ns||this.options.defaultNS||[];const c=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!mR(e,r,o);if(c&&!d){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:Se(l)?[l]:l};const g=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(g[0])>-1)&&(l=g.shift()),e=g.join(o)}return{key:e,namespaces:Se(l)?[l]:l}}translate(e,t,r){let o=typeof t=="object"?{...t}:t;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),e==null)return"";typeof e=="function"&&(e=Ep(e,{...this.options,...o})),Array.isArray(e)||(e=[String(e)]);const l=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:d,namespaces:p}=this.extractFromKey(e[e.length-1],o),g=p[p.length-1];let _=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;_===void 0&&(_=":");const v=o.lng||this.language,w=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return w?l?{res:`${g}${_}${d}`,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(o)}:`${g}${_}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(o)}:d;const C=this.resolve(e,o);let V=C?.res;const j=C?.usedKey||d,U=C?.exactUsedKey||d,H=["[object Number]","[object Function]","[object RegExp]"],B=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,$=!this.i18nFormat||this.i18nFormat.handleAsObject,re=o.count!==void 0&&!Se(o.count),he=Kh.hasDefaultValue(o),fe=re?this.pluralResolver.getSuffix(v,o.count,o):"",R=o.ordinal&&re?this.pluralResolver.getSuffix(v,o.count,{ordinal:!1}):"",x=re&&!o.ordinal&&o.count===0,I=x&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${fe}`]||o[`defaultValue${R}`]||o.defaultValue;let k=V;$&&!V&&he&&(k=I);const M=Jm(k),z=Object.prototype.toString.apply(k);if($&&k&&M&&H.indexOf(z)<0&&!(Se(B)&&Array.isArray(k))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(j,k,{...o,ns:p}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(C.res=N,C.usedParams=this.getUsedParamsDetails(o),C):N}if(c){const N=Array.isArray(k),Oe=N?[]:{},it=N?U:j;for(const X in k)if(Object.prototype.hasOwnProperty.call(k,X)){const oe=`${it}${c}${X}`;he&&!V?Oe[X]=this.translate(oe,{...o,defaultValue:Jm(I)?I[X]:void 0,joinArrays:!1,ns:p}):Oe[X]=this.translate(oe,{...o,joinArrays:!1,ns:p}),Oe[X]===oe&&(Oe[X]=k[X])}V=Oe}}else if($&&Se(B)&&Array.isArray(V))V=V.join(B),V&&(V=this.extendTranslation(V,e,o,r));else{let N=!1,Oe=!1;!this.isValidLookup(V)&&he&&(N=!0,V=I),this.isValidLookup(V)||(Oe=!0,V=d);const X=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Oe?void 0:V,oe=he&&I!==V&&this.options.updateMissing;if(Oe||N||oe){if(this.logger.log(oe?"updateKey":"missingKey",v,g,d,oe?I:V),c){const O=this.resolve(d,{...o,keySeparator:!1});O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let me=[];const De=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&De&&De[0])for(let O=0;O<De.length;O++)me.push(De[O]);else this.options.saveMissingTo==="all"?me=this.languageUtils.toResolveHierarchy(o.lng||this.language):me.push(o.lng||this.language);const ie=(O,J,ae)=>{const ue=he&&ae!==V?ae:X;this.options.missingKeyHandler?this.options.missingKeyHandler(O,g,J,ue,oe,o):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(O,g,J,ue,oe,o),this.emit("missingKey",O,g,J,V)};this.options.saveMissing&&(this.options.saveMissingPlurals&&re?me.forEach(O=>{const J=this.pluralResolver.getSuffixes(O,o);x&&o[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(ae=>{ie([O],d+ae,o[`defaultValue${ae}`]||I)})}):ie(me,d,I))}V=this.extendTranslation(V,e,o,C,r),Oe&&V===d&&this.options.appendNamespaceToMissingKey&&(V=`${g}${_}${d}`),(Oe||N)&&this.options.parseMissingKeyHandler&&(V=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${_}${d}`:d,N?V:void 0,o))}return l?(C.res=V,C.usedParams=this.getUsedParamsDetails(o),C):V}extendTranslation(e,t,r,o,l){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const p=Se(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const v=e.match(this.interpolator.nestingRegexp);g=v&&v.length}let _=r.replace&&!Se(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),e=this.interpolator.interpolate(e,_,r.lng||this.language||o.usedLng,r),p){const v=e.match(this.interpolator.nestingRegexp),w=v&&v.length;g<w&&(r.nest=!1)}!r.lng&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>l?.[0]===v[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${t[0]}`),null):this.translate(...v,t),r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,d=Se(c)?[c]:c;return e!=null&&d?.length&&r.applyPostProcessor!==!1&&(e=eb.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,o,l,c,d;return Se(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(p,t),_=g.key;o=_;let v=g.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const w=t.count!==void 0&&!Se(t.count),C=w&&!t.ordinal&&t.count===0,V=t.context!==void 0&&(Se(t.context)||typeof t.context=="number")&&t.context!=="",j=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);v.forEach(U=>{this.isValidLookup(r)||(d=U,!F0[`${j[0]}-${U}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(F0[`${j[0]}-${U}`]=!0,this.logger.warn(`key "${o}" for languages "${j.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),j.forEach(H=>{if(this.isValidLookup(r))return;c=H;const B=[_];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(B,_,H,U,t);else{let re;w&&(re=this.pluralResolver.getSuffix(H,t.count,t));const he=`${this.options.pluralSeparator}zero`,fe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(t.ordinal&&re.indexOf(fe)===0&&B.push(_+re.replace(fe,this.options.pluralSeparator)),B.push(_+re),C&&B.push(_+he)),V){const R=`${_}${this.options.contextSeparator||"_"}${t.context}`;B.push(R),w&&(t.ordinal&&re.indexOf(fe)===0&&B.push(R+re.replace(fe,this.options.pluralSeparator)),B.push(R+re),C&&B.push(R+he))}}let $;for(;$=B.pop();)this.isValidLookup(r)||(l=$,r=this.getResource(H,U,$,t))}))})}),{res:r,usedKey:o,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,o={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,o):this.resourceStore.getResource(e,t,r,o)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Se(e.replace);let o=r?e.replace:e;if(r&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!r){o={...o};for(const l of t)delete o[l]}return o}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class $0{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Li.create("languageUtils")}getScriptPartFromCode(e){if(e=_u(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=_u(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Se(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(t=o)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const o=this.getScriptPartFromCode(r);if(this.isSupportedCode(o))return t=o;const l=this.getLanguagePartFromCode(r);if(this.isSupportedCode(l))return t=l;t=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Se(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),o=[],l=c=>{c&&(this.isSupportedCode(c)?o.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return Se(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):Se(e)&&l(this.formatLanguageCode(e)),r.forEach(c=>{o.indexOf(c)<0&&l(this.formatLanguageCode(c))}),o}}const G0={zero:0,one:1,two:2,few:3,many:4,other:5},K0={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class _R{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Li.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=_u(e==="dev"?"en":e),o=t.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:r,type:o});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(r,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),K0;if(!e.match(/-|_/))return K0;const p=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(p,t)}return this.pluralRulesCache[l]=c,c}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(o=>`${t}${o}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((o,l)=>G0[o]-G0[l]).map(o=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,t,r={}){const o=this.getRule(e,r);return o?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const Q0=(i,e,t,r=".",o=!0)=>{let l=lR(i,e,t);return!l&&o&&Se(t)&&(l=_p(i,t,r),l===void 0&&(l=_p(e,t,r))),l},Zm=i=>i.replace(/\$/g,"$$$$");class vR{constructor(e={}){this.logger=Li.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:o,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:p,formatSeparator:g,unescapeSuffix:_,unescapePrefix:v,nestingPrefix:w,nestingPrefixEscaped:C,nestingSuffix:V,nestingSuffixEscaped:j,nestingOptionsSeparator:U,maxReplaces:H,alwaysFormat:B}=e.interpolation;this.escape=t!==void 0?t:cR,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=l?go(l):c||"{{",this.suffix=d?go(d):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=_?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":_||"",this.nestingPrefix=w?go(w):C||go("$t("),this.nestingSuffix=V?go(V):j||go(")"),this.nestingOptionsSeparator=U||",",this.maxReplaces=H||1e3,this.alwaysFormat=B!==void 0?B:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t?.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,o){let l,c,d;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=C=>{if(C.indexOf(this.formatSeparator)<0){const H=Q0(t,p,C,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(H,void 0,r,{...o,...t,interpolationkey:C}):H}const V=C.split(this.formatSeparator),j=V.shift().trim(),U=V.join(this.formatSeparator).trim();return this.format(Q0(t,p,j,this.options.keySeparator,this.options.ignoreJSONStructure),U,r,{...o,...t,interpolationkey:j})};this.resetRegExp();const _=o?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:C=>Zm(C)},{regex:this.regexp,safeValue:C=>this.escapeValue?Zm(this.escape(C)):Zm(C)}].forEach(C=>{for(d=0;l=C.regex.exec(e);){const V=l[1].trim();if(c=g(V),c===void 0)if(typeof _=="function"){const U=_(e,l,o);c=Se(U)?U:""}else if(o&&Object.prototype.hasOwnProperty.call(o,V))c="";else if(v){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${V} for interpolating ${e}`),c="";else!Se(c)&&!this.useRawValueToEscape&&(c=j0(c));const j=C.safeValue(c);if(e=e.replace(l[0],j),v?(C.regex.lastIndex+=c.length,C.regex.lastIndex-=l[0].length):C.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,r={}){let o,l,c;const d=(p,g)=>{const _=this.nestingOptionsSeparator;if(p.indexOf(_)<0)return p;const v=p.split(new RegExp(`${_}[ ]*{`));let w=`{${v[1]}`;p=v[0],w=this.interpolate(w,c);const C=w.match(/'/g),V=w.match(/"/g);((C?.length??0)%2===0&&!V||V.length%2!==0)&&(w=w.replace(/'/g,'"'));try{c=JSON.parse(w),g&&(c={...g,...c})}catch(j){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,j),`${p}${_}${w}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,p};for(;o=this.nestingRegexp.exec(e);){let p=[];c={...r},c=c.replace&&!Se(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const g=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(g!==-1&&(p=o[1].slice(g).split(this.formatSeparator).map(_=>_.trim()).filter(Boolean),o[1]=o[1].slice(0,g)),l=t(d.call(this,o[1].trim(),c),c),l&&o[0]===e&&!Se(l))return l;Se(l)||(l=j0(l)),l||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),l=""),p.length&&(l=p.reduce((_,v)=>this.format(_,v,r.lng,{...r,interpolationkey:o[1].trim()}),l.trim())),e=e.replace(o[0],l),this.regexp.lastIndex=0}return e}}const ER=i=>{let e=i.toLowerCase().trim();const t={};if(i.indexOf("(")>-1){const r=i.split("(");e=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);e==="currency"&&o.indexOf(":")<0?t.currency||(t.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?t.range||(t.range=o.trim()):o.split(";").forEach(c=>{if(c){const[d,...p]=c.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),_=d.trim();t[_]||(t[_]=g),g==="false"&&(t[_]=!1),g==="true"&&(t[_]=!0),isNaN(g)||(t[_]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},Y0=i=>{const e={};return(t,r,o)=>{let l=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(l={...l,[o.interpolationkey]:void 0});const c=r+JSON.stringify(l);let d=e[c];return d||(d=i(_u(r),o),e[c]=d),d(t)}},bR=i=>(e,t,r)=>i(_u(t),r)(e);class TR{constructor(e={}){this.logger=Li.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?Y0:bR;this.formats={number:r((o,l)=>{const c=new Intl.NumberFormat(o,{...l});return d=>c.format(d)}),currency:r((o,l)=>{const c=new Intl.NumberFormat(o,{...l,style:"currency"});return d=>c.format(d)}),datetime:r((o,l)=>{const c=new Intl.DateTimeFormat(o,{...l});return d=>c.format(d)}),relativetime:r((o,l)=>{const c=new Intl.RelativeTimeFormat(o,{...l});return d=>c.format(d,l.range||"day")}),list:r((o,l)=>{const c=new Intl.ListFormat(o,{...l});return d=>c.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Y0(t)}format(e,t,r,o={}){const l=t.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(p=>p.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,p)=>{const{formatName:g,formatOptions:_}=ER(p);if(this.formats[g]){let v=d;try{const w=o?.formatParams?.[o.interpolationkey]||{},C=w.locale||w.lng||o.locale||o.lng||r;v=this.formats[g](d,C,{..._,...o,...w})}catch(w){this.logger.warn(w)}return v}else this.logger.warn(`there was no format function for ${g}`);return d},e)}}const wR=(i,e)=>{i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)};class SR extends yf{constructor(e,t,r,o={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=Li.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,o.backend,o)}queueLoad(e,t,r,o){const l={},c={},d={},p={};return e.forEach(g=>{let _=!0;t.forEach(v=>{const w=`${g}|${v}`;!r.reload&&this.store.hasResourceBundle(g,v)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?c[w]===void 0&&(c[w]=!0):(this.state[w]=1,_=!1,c[w]===void 0&&(c[w]=!0),l[w]===void 0&&(l[w]=!0),p[v]===void 0&&(p[v]=!0)))}),_||(d[g]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(p)}}loaded(e,t,r){const o=e.split("|"),l=o[0],c=o[1];t&&this.emit("failedLoading",l,c,t),!t&&r&&this.store.addResourceBundle(l,c,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(p=>{oR(p.loaded,[l],c),wR(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{d[g]||(d[g]={});const _=p.loaded[g];_.length&&_.forEach(v=>{d[g][v]===void 0&&(d[g][v]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(p=>!p.done)}read(e,t,r,o=0,l=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:o,wait:l,callback:c});return}this.readingCalls++;const d=(g,_)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(g&&_&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,o+1,l*2,c)},l);return}c(g,_)},p=this.backend[r].bind(this.backend);if(p.length===2){try{const g=p(e,t);g&&typeof g.then=="function"?g.then(_=>d(null,_)).catch(d):d(null,g)}catch(g){d(g)}return}return p(e,t,d)}prepareLoading(e,t,r={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();Se(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Se(t)&&(t=[t]);const l=this.queueLoad(e,t,r,o);if(!l.toLoad.length)return l.pending.length||o(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),o=r[0],l=r[1];this.read(o,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${t}loading namespace ${l} for language ${o} failed`,c),!c&&d&&this.logger.log(`${t}loaded namespace ${l} for language ${o}`,d),this.loaded(e,c,d)})}saveMissing(e,t,r,o,l,c={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const p={...c,isUpdate:l},g=this.backend.create.bind(this.backend);if(g.length<6)try{let _;g.length===5?_=g(e,t,r,o,p):_=g(e,t,r,o),_&&typeof _.then=="function"?_.then(v=>d(null,v)).catch(d):d(null,_)}catch(_){d(_)}else g(e,t,r,o,d,p)}!e||!e[0]||this.store.addResource(e[0],t,r,o)}}}const X0=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let e={};if(typeof i[1]=="object"&&(e=i[1]),Se(i[1])&&(e.defaultValue=i[1]),Se(i[2])&&(e.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const t=i[3]||i[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),W0=i=>(Se(i.ns)&&(i.ns=[i.ns]),Se(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),Se(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs?.indexOf?.("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i),Ah=()=>{},AR=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(t=>{typeof i[t]=="function"&&(i[t]=i[t].bind(i))})};class cu extends yf{constructor(e={},t){if(super(),this.options=W0(e),this.services={},this.logger=Li,this.modules={external:[]},AR(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Se(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=X0();this.options={...r,...this.options,...W0(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const o=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Li.init(o(this.modules.logger),this.options):Li.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=TR;const _=new $0(this.options);this.store=new q0(this.options.resources,this.options);const v=this.services;v.logger=Li,v.resourceStore=this.store,v.languageUtils=_,v.pluralResolver=new _R(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(v.formatter=o(g),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new vR(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new SR(o(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(C,...V)=>{this.emit(C,...V)}),this.modules.languageDetector&&(v.languageDetector=o(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=o(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Kh(this.services,this.options),this.translator.on("*",(C,...V)=>{this.emit(C,...V)}),this.modules.external.forEach(C=>{C.init&&C.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Ah),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(..._)=>this.store[g](..._)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(..._)=>(this.store[g](..._),this)});const d=Zl(),p=()=>{const g=(_,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(v),t(_,v)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),d}loadResources(e,t=Ah){let r=t;const o=Se(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(o?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(g=>{g!=="cimode"&&l.indexOf(g)<0&&l.push(g)})};o?c(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>c(p)),this.options.preload?.forEach?.(d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(d)})}else r(null)}reloadResources(e,t,r){const o=Zl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Ah),this.services.backendConnector.reload(e,t,l=>{o.resolve(),r(l)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&eb.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Zl();this.emit("languageChanging",e);const o=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,p)=>{p?this.isLanguageChangingTo===e&&(o(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,r.resolve((...g)=>this.t(...g)),t&&t(d,(...g)=>this.t(...g))},c=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const p=Se(d)?d:d&&d[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(Se(d)?[d]:d);g&&(this.language||o(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,_=>{l(_,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),r}getFixedT(e,t,r){const o=(l,c,...d)=>{let p;typeof c!="object"?p=this.options.overloadTranslationOptionHandler([l,c].concat(d)):p={...c},p.lng=p.lng||o.lng,p.lngs=p.lngs||o.lngs,p.ns=p.ns||o.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||r||o.keyPrefix);const g=this.options.keySeparator||".";let _;return p.keyPrefix&&Array.isArray(l)?_=l.map(v=>(typeof v=="function"&&(v=Ep(v,{...this.options,...c})),`${p.keyPrefix}${g}${v}`)):(typeof l=="function"&&(l=Ep(l,{...this.options,...c})),_=p.keyPrefix?`${p.keyPrefix}${g}${l}`:l),this.t(_,p)};return Se(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=r,o}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const c=(d,p)=>{const g=this.services.backendConnector.state[`${d}|${p}`];return g===-1||g===0||g===2};if(t.precheck){const d=t.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(r,e)&&(!o||c(l,e)))}loadNamespaces(e,t){const r=Zl();return this.options.ns?(Se(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),t&&t(o)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Zl();Se(e)&&(e=[e]);const o=this.options.preload||[],l=e.filter(c=>o.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=o.concat(l),this.loadResources(c=>{r.resolve(),t&&t(c)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new $0(X0());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const r=new cu(e,t);return r.createInstance=cu.createInstance,r}cloneInstance(e={},t=Ah){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},l=new cu(o);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},r){const d=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((_,v)=>(_[v]={...p[g][v]},_),p[g]),p),{});l.store=new q0(d,o),l.services.resourceStore=l.store}return l.translator=new Kh(l.services,o),l.translator.on("*",(d,...p)=>{l.emit(d,...p)}),l.init(o,t),l.translator.options=o,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const un=cu.createInstance();un.createInstance;un.dir;un.init;un.loadResources;un.reloadResources;un.use;un.changeLanguage;un.getFixedT;un.t;un.exists;un.setDefaultNamespace;un.hasLoadedNamespace;un.loadNamespaces;un.loadLanguages;const xR=(i,e,t,r)=>{const o=[t,{code:e,...r||{}}];if(i?.services?.logger?.forward)return i.services.logger.forward(o,"warn","react-i18next::",!0);fa(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),i?.services?.logger?.warn?i.services.logger.warn(...o):console?.warn&&console.warn(...o)},J0={},nb=(i,e,t,r)=>{fa(t)&&J0[t]||(fa(t)&&(J0[t]=new Date),xR(i,e,t,r))},ib=(i,e)=>()=>{if(i.isInitialized)e();else{const t=()=>{setTimeout(()=>{i.off("initialized",t)},0),e()};i.on("initialized",t)}},bp=(i,e,t)=>{i.loadNamespaces(e,ib(i,t))},Z0=(i,e,t,r)=>{if(fa(t)&&(t=[t]),i.options.preload&&i.options.preload.indexOf(e)>-1)return bp(i,t,r);t.forEach(o=>{i.options.ns.indexOf(o)<0&&i.options.ns.push(o)}),i.loadLanguages(e,ib(i,r))},RR=(i,e,t={})=>!e.languages||!e.languages.length?(nb(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(i,{lng:t.lng,precheck:(r,o)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!o(r.isLanguageChangingTo,i))return!1}}),fa=i=>typeof i=="string",CR=i=>typeof i=="object"&&i!==null,IR=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,NR={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},OR=i=>NR[i],kR=i=>i.replace(IR,OR);let Tp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:kR};const DR=(i={})=>{Tp={...Tp,...i}},MR=()=>Tp;let sb;const VR=i=>{sb=i},LR=()=>sb,PR={type:"3rdParty",init(i){DR(i.options.react),VR(i)}},UR=P.createContext();class jR{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var ep={exports:{}},tp={};var eE;function zR(){if(eE)return tp;eE=1;var i=mf();function e(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var t=typeof Object.is=="function"?Object.is:e,r=i.useState,o=i.useEffect,l=i.useLayoutEffect,c=i.useDebugValue;function d(v,w){var C=w(),V=r({inst:{value:C,getSnapshot:w}}),j=V[0].inst,U=V[1];return l(function(){j.value=C,j.getSnapshot=w,p(j)&&U({inst:j})},[v,C,w]),o(function(){return p(j)&&U({inst:j}),v(function(){p(j)&&U({inst:j})})},[v]),c(C),C}function p(v){var w=v.getSnapshot;v=v.value;try{var C=w();return!t(v,C)}catch{return!0}}function g(v,w){return w()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return tp.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:_,tp}var tE;function BR(){return tE||(tE=1,ep.exports=zR()),ep.exports}var HR=BR();const qR=(i,e)=>fa(e)?e:CR(e)&&fa(e.defaultValue)?e.defaultValue:Array.isArray(i)?i[i.length-1]:i,FR={t:qR,ready:!1},$R=()=>()=>{},Ss=(i,e={})=>{const{i18n:t}=e,{i18n:r,defaultNS:o}=P.useContext(UR)||{},l=t||r||LR();l&&!l.reportNamespaces&&(l.reportNamespaces=new jR),l||nb(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const c=P.useMemo(()=>({...MR(),...l?.options?.react,...e}),[l,e]),{useSuspense:d,keyPrefix:p}=c,g=P.useMemo(()=>{const R=o||l?.options?.defaultNS;return fa(R)?[R]:R||["translation"]},[i,o,l]);l?.reportNamespaces?.addUsedNamespaces?.(g);const _=P.useRef(0),v=P.useCallback(R=>{if(!l)return $R;const{bindI18n:x,bindI18nStore:I}=c,k=()=>{_.current+=1,R()};return x&&l.on(x,k),I&&l.store.on(I,k),()=>{x&&x.split(" ").forEach(M=>l.off(M,k)),I&&I.split(" ").forEach(M=>l.store.off(M,k))}},[l,c]),w=P.useRef(),C=P.useCallback(()=>{if(!l)return FR;const R=!!(l.isInitialized||l.initializedStoreOnce)&&g.every(N=>RR(N,l,c)),x=e.lng||l.language,I=_.current,k=w.current;if(k&&k.ready===R&&k.lng===x&&k.keyPrefix===p&&k.revision===I)return k;const z={t:l.getFixedT(x,c.nsMode==="fallback"?g:g[0],p),ready:R,lng:x,keyPrefix:p,revision:I};return w.current=z,z},[l,g,p,c,e.lng]),[V,j]=P.useState(0),{t:U,ready:H}=HR.useSyncExternalStore(v,C,C);P.useEffect(()=>{if(l&&!H&&!d){const R=()=>j(x=>x+1);e.lng?Z0(l,e.lng,g,R):bp(l,g,R)}},[l,e.lng,g,H,d,V]);const B=l||{},$=P.useRef(null),re=P.useRef(),he=R=>{const x=Object.getOwnPropertyDescriptors(R);x.__original&&delete x.__original;const I=Object.create(Object.getPrototypeOf(R),x);if(!Object.prototype.hasOwnProperty.call(I,"__original"))try{Object.defineProperty(I,"__original",{value:R,writable:!1,enumerable:!1,configurable:!1})}catch{}return I},fe=P.useMemo(()=>{const R=B,x=R?.language;let I=R;R&&($.current&&$.current.__original===R?re.current!==x?(I=he(R),$.current=I,re.current=x):I=$.current:(I=he(R),$.current=I,re.current=x));const k=[U,I,H];return k.t=U,k.i18n=I,k.ready=H,k},[U,B,H,B.resolvedLanguage,B.language,B.languages]);if(l&&d&&!H)throw new Promise(R=>{const x=()=>R();e.lng?Z0(l,e.lng,g,x):bp(l,g,x)});return fe},GR=()=>{};var nE={};const rb=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},KR=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const o=i[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],c=i[t++],d=i[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],c=i[t++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},ab={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const l=i[o],c=o+1<i.length,d=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=l>>2,v=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,C=g&63;p||(C=64,c||(w=64)),r.push(t[_],t[v],t[w],t[C])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(rb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):KR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const v=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||d==null||g==null||v==null)throw new QR;const w=l<<2|d>>4;if(r.push(w),g!==64){const C=d<<4&240|g>>2;if(r.push(C),v!==64){const V=g<<6&192|v;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class QR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YR=function(i){const e=rb(i);return ab.encodeByteArray(e,!0)},Qh=function(i){return YR(i).replace(/\./g,"")},ob=function(i){try{return ab.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WR=()=>XR().__FIREBASE_DEFAULTS__,JR=()=>{if(typeof process>"u"||typeof nE>"u")return;const i=nE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ZR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ob(i[1]);return e&&JSON.parse(e)},_f=()=>{try{return GR()||WR()||JR()||ZR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},lb=i=>_f()?.emulatorHosts?.[i],e2=i=>{const e=lb(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ub=()=>_f()?.config,cb=i=>_f()?.[`_${i}`];class t2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Uo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hb(i){return(await fetch(i,{credentials:"include"})).ok}function n2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Qh(JSON.stringify(t)),Qh(JSON.stringify(c)),""].join(".")}const hu={};function i2(){const i={prod:[],emulator:[]};for(const e of Object.keys(hu))hu[e]?i.emulator.push(e):i.prod.push(e);return i}function s2(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let iE=!1;function fb(i,e){if(typeof window>"u"||typeof document>"u"||!Uo(window.location.host)||hu[i]===e||hu[i]||iE)return;hu[i]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",l=i2().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{iE=!0,c()},w}function _(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=s2(r),C=t("text"),V=document.getElementById(C)||document.createElement("span"),j=t("learnmore"),U=document.getElementById(j)||document.createElement("a"),H=t("preprendIcon"),B=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const $=w.element;d($),_(U,j);const re=g();p(B,H),$.append(B,V,U,re),document.body.appendChild($)}l?(V.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function a2(){const i=_f()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function u2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c2(){const i=sn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function h2(){return!a2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f2(){try{return typeof indexedDB=="object"}catch{return!1}}function d2(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const m2="FirebaseError";class As extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=m2,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?p2(l,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new As(o,d,r)}}function p2(i,e){return i.replace(g2,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const g2=/\{\$([^}]+)}/g;function y2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function da(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const l=i[o],c=e[o];if(sE(l)&&sE(c)){if(!da(l,c))return!1}else if(l!==c)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function sE(i){return i!==null&&typeof i=="object"}function Vu(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function su(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function _2(i,e){const t=new v2(i,e);return t.subscribe.bind(t)}class v2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");E2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=np),o.error===void 0&&(o.error=np),o.complete===void 0&&(o.complete=np);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function np(){}function jt(i){return i&&i._delegate?i._delegate:i}class ma{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oa="[DEFAULT]";class b2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new t2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w2(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T2(i){return i===oa?void 0:i}function w2(i){return i.instantiationMode==="EAGER"}class S2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new b2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const A2={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},x2=Ue.INFO,R2={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},C2=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=R2[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=x2,this._logHandler=C2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const I2=(i,e)=>e.some(t=>i instanceof t);let rE,aE;function N2(){return rE||(rE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O2(){return aE||(aE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const db=new WeakMap,wp=new WeakMap,mb=new WeakMap,ip=new WeakMap,fg=new WeakMap;function k2(i){const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(hr(i.result)),o()},c=()=>{r(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&db.set(t,i)}).catch(()=>{}),fg.set(e,i),e}function D2(i){if(wp.has(i))return;const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});wp.set(i,e)}let Sp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return wp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||mb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return hr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function M2(i){Sp=i(Sp)}function V2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(sp(this),e,...t);return mb.set(r,e.sort?e.sort():[e]),hr(r)}:O2().includes(i)?function(...e){return i.apply(sp(this),e),hr(db.get(this))}:function(...e){return hr(i.apply(sp(this),e))}}function L2(i){return typeof i=="function"?V2(i):(i instanceof IDBTransaction&&D2(i),I2(i,N2())?new Proxy(i,Sp):i)}function hr(i){if(i instanceof IDBRequest)return k2(i);if(ip.has(i))return ip.get(i);const e=L2(i);return e!==i&&(ip.set(i,e),fg.set(e,i)),e}const sp=i=>fg.get(i);function P2(i,e,{blocked:t,upgrade:r,blocking:o,terminated:l}={}){const c=indexedDB.open(i,e),d=hr(c);return r&&c.addEventListener("upgradeneeded",p=>{r(hr(c.result),p.oldVersion,p.newVersion,hr(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const U2=["get","getKey","getAll","getAllKeys","count"],j2=["put","add","delete","clear"],rp=new Map;function oE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(rp.get(e))return rp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=j2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||U2.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return rp.set(e,l),l}M2(i=>({...i,get:(e,t,r)=>oE(e,t)||i.get(e,t,r),has:(e,t)=>!!oE(e,t)||i.has(e,t)}));class z2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(B2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function B2(i){return i.getComponent()?.type==="VERSION"}const Ap="@firebase/app",lE="0.14.6";const _s=new hg("@firebase/app"),H2="@firebase/app-compat",q2="@firebase/analytics-compat",F2="@firebase/analytics",$2="@firebase/app-check-compat",G2="@firebase/app-check",K2="@firebase/auth",Q2="@firebase/auth-compat",Y2="@firebase/database",X2="@firebase/data-connect",W2="@firebase/database-compat",J2="@firebase/functions",Z2="@firebase/functions-compat",eC="@firebase/installations",tC="@firebase/installations-compat",nC="@firebase/messaging",iC="@firebase/messaging-compat",sC="@firebase/performance",rC="@firebase/performance-compat",aC="@firebase/remote-config",oC="@firebase/remote-config-compat",lC="@firebase/storage",uC="@firebase/storage-compat",cC="@firebase/firestore",hC="@firebase/ai",fC="@firebase/firestore-compat",dC="firebase",mC="12.6.0";const xp="[DEFAULT]",pC={[Ap]:"fire-core",[H2]:"fire-core-compat",[F2]:"fire-analytics",[q2]:"fire-analytics-compat",[G2]:"fire-app-check",[$2]:"fire-app-check-compat",[K2]:"fire-auth",[Q2]:"fire-auth-compat",[Y2]:"fire-rtdb",[X2]:"fire-data-connect",[W2]:"fire-rtdb-compat",[J2]:"fire-fn",[Z2]:"fire-fn-compat",[eC]:"fire-iid",[tC]:"fire-iid-compat",[nC]:"fire-fcm",[iC]:"fire-fcm-compat",[sC]:"fire-perf",[rC]:"fire-perf-compat",[aC]:"fire-rc",[oC]:"fire-rc-compat",[lC]:"fire-gcs",[uC]:"fire-gcs-compat",[cC]:"fire-fst",[fC]:"fire-fst-compat",[hC]:"fire-vertex","fire-js":"fire-js",[dC]:"fire-js-all"};const Yh=new Map,gC=new Map,Rp=new Map;function uE(i,e){try{i.container.addComponent(e)}catch(t){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Io(i){const e=i.name;if(Rp.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;Rp.set(e,i);for(const t of Yh.values())uE(t,i);for(const t of gC.values())uE(t,i);return!0}function dg(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Nn(i){return i==null?!1:i.settings!==void 0}const yC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Mu("app","Firebase",yC);class _C{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const jo=mC;function pb(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r={name:xp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw fr.create("bad-app-name",{appName:String(o)});if(t||(t=ub()),!t)throw fr.create("no-options");const l=Yh.get(o);if(l){if(da(t,l.options)&&da(r,l.config))return l;throw fr.create("duplicate-app",{appName:o})}const c=new S2(o);for(const p of Rp.values())c.addComponent(p);const d=new _C(t,r,c);return Yh.set(o,d),d}function gb(i=xp){const e=Yh.get(i);if(!e&&i===xp&&ub())return pb();if(!e)throw fr.create("no-app",{appName:i});return e}function dr(i,e,t){let r=pC[i]??i;t&&(r+=`-${t}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(c.join(" "));return}Io(new ma(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const vC="firebase-heartbeat-database",EC=1,vu="firebase-heartbeat-store";let ap=null;function yb(){return ap||(ap=P2(vC,EC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vu)}catch(t){console.warn(t)}}}}).catch(i=>{throw fr.create("idb-open",{originalErrorMessage:i.message})})),ap}async function bC(i){try{const t=(await yb()).transaction(vu),r=await t.objectStore(vu).get(_b(i));return await t.done,r}catch(e){if(e instanceof As)_s.warn(e.message);else{const t=fr.create("idb-get",{originalErrorMessage:e?.message});_s.warn(t.message)}}}async function cE(i,e){try{const r=(await yb()).transaction(vu,"readwrite");await r.objectStore(vu).put(e,_b(i)),await r.done}catch(t){if(t instanceof As)_s.warn(t.message);else{const r=fr.create("idb-set",{originalErrorMessage:t?.message});_s.warn(r.message)}}}function _b(i){return`${i.name}!${i.options.appId}`}const TC=1024,wC=30;class SC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>wC){const o=RC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hE(),{heartbeatsToSend:t,unsentEntries:r}=AC(this._heartbeatsCache.heartbeats),o=Qh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _s.warn(e),""}}}function hE(){return new Date().toISOString().substring(0,10)}function AC(i,e=TC){const t=[];let r=i.slice();for(const o of i){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),fE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),fE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class xC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f2()?d2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fE(i){return Qh(JSON.stringify({version:2,heartbeats:i})).length}function RC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}function CC(i){Io(new ma("platform-logger",e=>new z2(e),"PRIVATE")),Io(new ma("heartbeat",e=>new SC(e),"PRIVATE")),dr(Ap,lE,i),dr(Ap,lE,"esm2020"),dr("fire-js","")}CC("");function vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IC=vb,Eb=new Mu("auth","Firebase",vb());const Xh=new hg("@firebase/auth");function NC(i,...e){Xh.logLevel<=Ue.WARN&&Xh.warn(`Auth (${jo}): ${i}`,...e)}function Vh(i,...e){Xh.logLevel<=Ue.ERROR&&Xh.error(`Auth (${jo}): ${i}`,...e)}function Qn(i,...e){throw pg(i,...e)}function ui(i,...e){return pg(i,...e)}function mg(i,e,t){const r={...IC(),[e]:t};return new Mu("auth","Firebase",r).create(e,{appName:i.name})}function ps(i){return mg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OC(i,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qn(i,"argument-error"),mg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pg(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return Eb.create(i,...e)}function Te(i,e,...t){if(!i)throw pg(e,...t)}function fs(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Vh(e),new Error(e)}function vs(i,e){i||fs(e)}function Cp(){return typeof self<"u"&&self.location?.href||""}function kC(){return dE()==="http:"||dE()==="https:"}function dE(){return typeof self<"u"&&self.location?.protocol||null}function DC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kC()||l2()||"connection"in navigator)?navigator.onLine:!0}function MC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Lu{constructor(e,t){this.shortDelay=e,this.longDelay=t,vs(t>e,"Short delay should be less than long delay!"),this.isMobile=r2()||u2()}get(){return DC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gg(i,e){vs(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class bb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const LC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PC=new Lu(3e4,6e4);function wr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Sr(i,e,t,r,o={}){return Tb(i,o,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=Vu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...l};return o2()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Uo(i.emulatorConfig.host)&&(g.credentials="include"),bb.fetch()(await wb(i,i.config.apiHost,t,d),g)})}async function Tb(i,e,t){i._canInitEmulator=!1;const r={...VC,...e};try{const o=new jC(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw xh(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw xh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw xh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw xh(i,"user-disabled",c);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw mg(i,_,g);Qn(i,_)}}catch(o){if(o instanceof As)throw o;Qn(i,"network-request-failed",{message:String(o)})}}async function Pu(i,e,t,r,o={}){const l=await Sr(i,e,t,r,o);return"mfaPendingCredential"in l&&Qn(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function wb(i,e,t,r){const o=`${e}${t}?${r}`,l=i,c=l.config.emulator?gg(i.config,o):`${i.config.apiScheme}://${o}`;return LC.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function UC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),PC.get())})}}function xh(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=ui(i,e,r);return o.customData._tokenResponse=t,o}function mE(i){return i!==void 0&&i.enterprise!==void 0}class zC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return UC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BC(i,e){return Sr(i,"GET","/v2/recaptchaConfig",wr(i,e))}async function HC(i,e){return Sr(i,"POST","/v1/accounts:delete",e)}async function Wh(i,e){return Sr(i,"POST","/v1/accounts:lookup",e)}function fu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qC(i,e=!1){const t=jt(i),r=await t.getIdToken(e),o=yg(r);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:r,authTime:fu(op(o.auth_time)),issuedAtTime:fu(op(o.iat)),expirationTime:fu(op(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function op(i){return Number(i)*1e3}function yg(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ob(t);return o?JSON.parse(o):(Vh("Failed to decode base64 JWT payload"),null)}catch(o){return Vh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function pE(i){const e=yg(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Eu(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof As&&FC(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function FC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class $C{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ip{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jh(i){const e=i.auth,t=await i.getIdToken(),r=await Eu(i,Wh(e,{idToken:t}));Te(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const l=o.providerUserInfo?.length?Sb(o.providerUserInfo):[],c=KC(i.providerData,l),d=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ip(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function GC(i){const e=jt(i);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KC(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Sb(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function QC(i,e){const t=await Tb(i,{},async()=>{const r=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,c=await wb(i,o,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return i.emulatorConfig&&Uo(i.emulatorConfig.host)&&(p.credentials="include"),bb.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function YC(i,e){return Sr(i,"POST","/v2/accounts:revokeToken",wr(i,e))}class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=pE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:l}=await QC(e,t);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:l}=t,c=new wo;return r&&(Te(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return fs("not implemented")}}function rr(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new $C(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ip(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qC(this,e)}reload(){return GC(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await Eu(this,HC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:C,providerData:V,stsTokenManager:j}=t;Te(v&&j,e,"internal-error");const U=wo.fromJSON(this.name,j);Te(typeof v=="string",e,"internal-error"),rr(r,e.name),rr(o,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof C=="boolean",e,"internal-error"),rr(l,e.name),rr(c,e.name),rr(d,e.name),rr(p,e.name),rr(g,e.name),rr(_,e.name);const H=new li({uid:v,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:U,createdAt:g,lastLoginAt:_});return V&&Array.isArray(V)&&(H.providerData=V.map(B=>({...B}))),p&&(H._redirectEventId=p),H}static async _fromIdTokenResponse(e,t,r=!1){const o=new wo;o.updateFromServerResponse(t);const l=new li({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Jh(l),l}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Sb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new wo;d.updateFromIdToken(r);const p=new li({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Ip(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const gE=new Map;function ds(i){vs(i instanceof Function,"Expected a class definition");let e=gE.get(i);return e?(vs(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,gE.set(i,e),e)}class Ab{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ab.type="NONE";const yE=Ab;function Lh(i,e,t){return`firebase:${i}:${e}:${t}`}class So{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=Lh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Lh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Wh(this.auth,{idToken:e}).catch(()=>{});return t?li._fromGetAccountInfoResponse(this.auth,t,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new So(ds(yE),e,r);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||ds(yE);const c=Lh(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let v;if(typeof _=="string"){const w=await Wh(e,{idToken:_}).catch(()=>{});if(!w)break;v=await li._fromGetAccountInfoResponse(e,w,_)}else v=li._fromJSON(e,_);g!==l&&(d=v),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new So(l,e,r):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new So(l,e,r))}}function _E(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ib(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ob(e))return"Blackberry";if(kb(e))return"Webos";if(Rb(e))return"Safari";if((e.includes("chrome/")||Cb(e))&&!e.includes("edge/"))return"Chrome";if(Nb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if(r?.length===2)return r[1]}return"Other"}function xb(i=sn()){return/firefox\//i.test(i)}function Rb(i=sn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cb(i=sn()){return/crios\//i.test(i)}function Ib(i=sn()){return/iemobile/i.test(i)}function Nb(i=sn()){return/android/i.test(i)}function Ob(i=sn()){return/blackberry/i.test(i)}function kb(i=sn()){return/webos/i.test(i)}function _g(i=sn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function XC(i=sn()){return _g(i)&&!!window.navigator?.standalone}function WC(){return c2()&&document.documentMode===10}function Db(i=sn()){return _g(i)||Nb(i)||kb(i)||Ob(i)||/windows phone/i.test(i)||Ib(i)}function Mb(i,e=[]){let t;switch(i){case"Browser":t=_E(sn());break;case"Worker":t=`${_E(sn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${jo}/${r}`}class JC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function ZC(i,e={}){return Sr(i,"GET","/v2/passwordPolicy",wr(i,e))}const eI=6;class tI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??eI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class nI{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new JC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ds(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Wh(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Nn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(ps(this));const t=e?jt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZC(this),t=new tI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await YC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ds(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[ds(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ar(i){return jt(i)}class vE{constructor(e){this.auth=e,this.observer=null,this.addObserver=_2(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iI(i){vf=i}function Vb(i){return vf.loadJS(i)}function sI(){return vf.recaptchaEnterpriseScript}function rI(){return vf.gapiScript}function aI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class oI{constructor(){this.enterprise=new lI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class lI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const uI="recaptcha-enterprise",Lb="NO_RECAPTCHA";class cI{constructor(e){this.type=uI,this.auth=Ar(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{BC(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new zC(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;mE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(Lb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oI().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(d=>{if(!t&&mE(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=sI();p.length!==0&&(p+=d),Vb(p).then(()=>{o(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function EE(i,e,t,r=!1,o=!1){const l=new cI(i);let c;if(o)c=Lb;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Np(i,e,t,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await EE(i,e,t,t==="getOobCode");return r(i,l)}else return r(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await EE(i,e,t,t==="getOobCode");return r(i,c)}else return Promise.reject(l)})}function hI(i,e){const t=dg(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(da(l,e??{}))return o;Qn(o,"already-initialized")}return t.initialize({options:e})}function fI(i,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ds);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function dI(i,e,t){const r=Ar(i);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,l=Pb(e),{host:c,port:d}=mI(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(da(g,r.config.emulator)&&da(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Uo(c)?(hb(`${l}//${c}${p}`),fb("Auth",!0)):pI()}function Pb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function mI(i){const e=Pb(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:bE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:bE(c)}}}function bE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function pI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class vg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,t){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function gI(i,e){return Sr(i,"POST","/v1/accounts:signUp",e)}async function yI(i,e){return Pu(i,"POST","/v1/accounts:signInWithPassword",wr(i,e))}async function _I(i,e){return Pu(i,"POST","/v1/accounts:signInWithEmailLink",wr(i,e))}async function vI(i,e){return Pu(i,"POST","/v1/accounts:signInWithEmailLink",wr(i,e))}class bu extends vg{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new bu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new bu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(e,t,"signInWithPassword",yI);case"emailLink":return _I(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(e,r,"signUpPassword",gI);case"emailLink":return vI(e,{idToken:t,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ao(i,e){return Pu(i,"POST","/v1/accounts:signInWithIdp",wr(i,e))}const EI="http://localhost";class pa extends vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...l}=t;if(!r||!o)return null;const c=new pa(r,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ao(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ao(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ao(e,t)}buildRequest(){const e={requestUri:EI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vu(t)}return e}}function bI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TI(i){const e=iu(su(i)).link,t=e?iu(su(e)).deep_link_id:null,r=iu(su(i)).deep_link_id;return(r?iu(su(r)).link:null)||r||t||e||i}class Eg{constructor(e){const t=iu(su(e)),r=t.apiKey??null,o=t.oobCode??null,l=bI(t.mode??null);Te(r&&o&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=TI(e);try{return new Eg(t)}catch{return null}}}class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,t){return bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Eg.parseLink(t);return Te(r,"argument-error"),bu._fromEmailAndCode(e,r.code,r.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class bg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uu extends bg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class or extends Uu{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class hs extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return pa._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return hs.credential(t,r)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";class lr extends Uu{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class ur extends Uu{constructor(){super("twitter.com")}static credential(e,t){return pa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ur.credential(t,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";async function wI(i,e){return Pu(i,"POST","/v1/accounts:signUp",wr(i,e))}class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const l=await li._fromIdTokenResponse(e,r,o),c=TE(r);return new ga({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=TE(r);return new ga({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function TE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Zh extends As{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Zh(e,t,r,o)}}function Ub(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(i,l,e,r):l})}async function SI(i,e,t=!1){const r=await Eu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ga._forOperation(i,"link",r)}async function AI(i,e,t=!1){const{auth:r}=i;if(Nn(r.app))return Promise.reject(ps(r));const o="reauthenticate";try{const l=await Eu(i,Ub(r,o,e,i),t);Te(l.idToken,r,"internal-error");const c=yg(l.idToken);Te(c,r,"internal-error");const{sub:d}=c;return Te(i.uid===d,r,"user-mismatch"),ga._forOperation(i,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Qn(r,"user-mismatch"),l}}async function jb(i,e,t=!1){if(Nn(i.app))return Promise.reject(ps(i));const r="signIn",o=await Ub(i,r,e),l=await ga._fromIdTokenResponse(i,r,o);return t||await i._updateCurrentUser(l.user),l}async function xI(i,e){return jb(Ar(i),e)}async function zb(i){const e=Ar(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RI(i,e,t){if(Nn(i.app))return Promise.reject(ps(i));const r=Ar(i),c=await Np(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&zb(i),p}),d=await ga._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function CI(i,e,t){return Nn(i.app)?Promise.reject(ps(i)):xI(jt(i),zo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zb(i),r})}function II(i,e,t,r){return jt(i).onIdTokenChanged(e,t,r)}function NI(i,e,t){return jt(i).beforeAuthStateChanged(e,t)}function OI(i){return jt(i).signOut()}const ef="__sak";class Bb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kI=1e3,DI=10;class Hb extends Bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Db(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);WC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DI):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},kI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hb.type="LOCAL";const MI=Hb;class qb extends Bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qb.type="SESSION";const Fb=qb;function VI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await VI(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ef.receivers=[];function Tg(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}class LI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=Tg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(v){const w=v;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Pi(){return window}function PI(i){Pi().location.href=i}function $b(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function UI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jI(){return navigator?.serviceWorker?.controller||null}function zI(){return $b()?self:null}const Gb="firebaseLocalStorageDb",BI=1,tf="firebaseLocalStorage",Kb="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bf(i,e){return i.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function HI(){const i=indexedDB.deleteDatabase(Gb);return new ju(i).toPromise()}function Op(){const i=indexedDB.open(Gb,BI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(tf,{keyPath:Kb})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(tf)?e(r):(r.close(),await HI(),e(await Op()))})})}async function wE(i,e,t){const r=bf(i,!0).put({[Kb]:e,value:t});return new ju(r).toPromise()}async function qI(i,e){const t=bf(i,!1).get(e),r=await new ju(t).toPromise();return r===void 0?null:r.value}function SE(i,e){const t=bf(i,!0).delete(e);return new ju(t).toPromise()}const FI=800,$I=3;class Qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Op(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>$I)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ef._getInstance(zI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UI(),!this.activeServiceWorker)return;this.sender=new LI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Op();return await wE(e,ef,"1"),await SE(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>wE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>qI(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>SE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=bf(o,!1).getAll();return new ju(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qb.type="LOCAL";const GI=Qb;new Lu(3e4,6e4);function Yb(i,e){return e?ds(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class wg extends vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ao(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function KI(i){return jb(i.auth,new wg(i),i.bypassAuthState)}function QI(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),AI(t,new wg(i),i.bypassAuthState)}async function YI(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),SI(t,new wg(i),i.bypassAuthState)}class Xb{constructor(e,t,r,o,l=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KI;case"linkViaPopup":case"linkViaRedirect":return YI;case"reauthViaPopup":case"reauthViaRedirect":return QI;default:Qn(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XI=new Lu(2e3,1e4);async function WI(i,e,t){if(Nn(i.app))return Promise.reject(ui(i,"operation-not-supported-in-this-environment"));const r=Ar(i);OC(i,e,bg);const o=Yb(r,t);return new la(r,"signInViaPopup",e,o).executeNotNull()}class la extends Xb{constructor(e,t,r,o,l){super(e,t,o,l),this.provider=r,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XI.get())};e()}}la.currentPopupAction=null;const JI="pendingRedirect",Ph=new Map;class ZI extends Xb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const r=await eN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eN(i,e){const t=iN(e),r=nN(i);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function tN(i,e){Ph.set(i._key(),e)}function nN(i){return ds(i._redirectPersistence)}function iN(i){return Lh(JI,i.config.apiKey,i.name)}async function sN(i,e,t=!1){if(Nn(i.app))return Promise.reject(ps(i));const r=Ar(i),o=Yb(r,e),c=await new ZI(r,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const rN=600*1e3;class aN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Wb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ui(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rN&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Wb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function oN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wb(i);default:return!1}}async function lN(i,e={}){return Sr(i,"GET","/v1/projects",e)}const uN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cN=/^https?/;async function hN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await lN(i);for(const t of e)try{if(fN(t))return}catch{}Qn(i,"unauthorized-domain")}function fN(i){const e=Cp(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!cN.test(t))return!1;if(uN.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const dN=new Lu(3e4,6e4);function xE(){const i=Pi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function mN(i){return new Promise((e,t)=>{function r(){xE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xE(),t(ui(i,"network-request-failed"))},timeout:dN.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)r();else{const o=aI("iframefcb");return Pi()[o]=()=>{gapi.load?r():t(ui(i,"network-request-failed"))},Vb(`${rI()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function pN(i){return Uh=Uh||mN(i),Uh}const gN=new Lu(5e3,15e3),yN="__/auth/iframe",_N="emulator/auth/iframe",vN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bN(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?gg(e,_N):`https://${i.config.authDomain}/${yN}`,r={apiKey:e.apiKey,appName:i.name,v:jo},o=EN.get(i.config.apiHost);o&&(r.eid=o);const l=i._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Vu(r).slice(1)}`}async function TN(i){const e=await pN(i),t=Pi().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:bN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vN,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const c=ui(i,"network-request-failed"),d=Pi().setTimeout(()=>{l(c)},gN.get());function p(){Pi().clearTimeout(d),o(r)}r.ping(p).then(p,()=>{l(c)})}))}const wN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SN=500,AN=600,xN="_blank",RN="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CN(i,e,t,r=SN,o=AN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p={...wN,width:r.toString(),height:o.toString(),top:l,left:c},g=sn().toLowerCase();t&&(d=Cb(g)?xN:t),xb(g)&&(e=e||RN,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[C,V])=>`${w}${C}=${V},`,"");if(XC(g)&&d!=="_self")return IN(e||"",d),new RE(null);const v=window.open(e||"",d,_);Te(v,i,"popup-blocked");try{v.focus()}catch{}return new RE(v)}function IN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const NN="__/auth/handler",ON="emulator/auth/handler",kN=encodeURIComponent("fac");async function CE(i,e,t,r,o,l){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:jo,eventId:o};if(e instanceof bg){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",y2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))c[_]=v}if(e instanceof Uu){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await i._getAppCheckToken(),g=p?`#${kN}=${encodeURIComponent(p)}`:"";return`${DN(i)}?${Vu(d).slice(1)}${g}`}function DN({config:i}){return i.emulator?gg(i,ON):`https://${i.authDomain}/${NN}`}const lp="webStorageSupport";class MN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fb,this._completeRedirectFn=sN,this._overrideRedirectResult=tN}async _openPopup(e,t,r,o){vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await CE(e,t,r,Cp(),o);return CN(e,l,Tg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const l=await CE(e,t,r,Cp(),o);return PI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(vs(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await TN(e),r=new aN(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lp,{type:lp},o=>{const l=o?.[0]?.[lp];l!==void 0&&t(!!l),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Db()||Rb()||_g()}}const VN=MN;var IE="@firebase/auth",NE="1.11.1";class LN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UN(i){Io(new ma("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mb(i)},g=new nI(r,o,l,p);return fI(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Io(new ma("auth-internal",e=>{const t=Ar(e.getProvider("auth").getImmediate());return(r=>new LN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(IE,NE,PN(i)),dr(IE,NE,"esm2020")}const jN=300,zN=cb("authIdTokenMaxAge")||jN;let OE=null;const BN=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>zN)return;const o=t?.token;OE!==o&&(OE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function HN(i=gb()){const e=dg(i,"auth");if(e.isInitialized())return e.getImmediate();const t=hI(i,{popupRedirectResolver:VN,persistence:[GI,MI,Fb]}),r=cb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=BN(l.toString());NI(t,c,()=>c(t.currentUser)),II(t,d=>c(d))}}const o=lb("auth");return o&&dI(t,`http://${o}`),t}function qN(){return document.getElementsByTagName("head")?.[0]??document}iI({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const l=ui("internal-error");l.customData=o,t(l)},r.type="text/javascript",r.charset="UTF-8",qN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UN("Browser");var FN="firebase",$N="12.6.0";dr(FN,$N,"app");var kE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mr,Jb;(function(){var i;function e(R,x){function I(){}I.prototype=x.prototype,R.F=x.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(k,M,z){for(var N=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)N[Oe-2]=arguments[Oe];return x.prototype[M].apply(k,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,x,I){I||(I=0);const k=Array(16);if(typeof x=="string")for(var M=0;M<16;++M)k[M]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(M=0;M<16;++M)k[M]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=R.g[0],I=R.g[1],M=R.g[2];let z=R.g[3],N;N=x+(z^I&(M^z))+k[0]+3614090360&4294967295,x=I+(N<<7&4294967295|N>>>25),N=z+(M^x&(I^M))+k[1]+3905402710&4294967295,z=x+(N<<12&4294967295|N>>>20),N=M+(I^z&(x^I))+k[2]+606105819&4294967295,M=z+(N<<17&4294967295|N>>>15),N=I+(x^M&(z^x))+k[3]+3250441966&4294967295,I=M+(N<<22&4294967295|N>>>10),N=x+(z^I&(M^z))+k[4]+4118548399&4294967295,x=I+(N<<7&4294967295|N>>>25),N=z+(M^x&(I^M))+k[5]+1200080426&4294967295,z=x+(N<<12&4294967295|N>>>20),N=M+(I^z&(x^I))+k[6]+2821735955&4294967295,M=z+(N<<17&4294967295|N>>>15),N=I+(x^M&(z^x))+k[7]+4249261313&4294967295,I=M+(N<<22&4294967295|N>>>10),N=x+(z^I&(M^z))+k[8]+1770035416&4294967295,x=I+(N<<7&4294967295|N>>>25),N=z+(M^x&(I^M))+k[9]+2336552879&4294967295,z=x+(N<<12&4294967295|N>>>20),N=M+(I^z&(x^I))+k[10]+4294925233&4294967295,M=z+(N<<17&4294967295|N>>>15),N=I+(x^M&(z^x))+k[11]+2304563134&4294967295,I=M+(N<<22&4294967295|N>>>10),N=x+(z^I&(M^z))+k[12]+1804603682&4294967295,x=I+(N<<7&4294967295|N>>>25),N=z+(M^x&(I^M))+k[13]+4254626195&4294967295,z=x+(N<<12&4294967295|N>>>20),N=M+(I^z&(x^I))+k[14]+2792965006&4294967295,M=z+(N<<17&4294967295|N>>>15),N=I+(x^M&(z^x))+k[15]+1236535329&4294967295,I=M+(N<<22&4294967295|N>>>10),N=x+(M^z&(I^M))+k[1]+4129170786&4294967295,x=I+(N<<5&4294967295|N>>>27),N=z+(I^M&(x^I))+k[6]+3225465664&4294967295,z=x+(N<<9&4294967295|N>>>23),N=M+(x^I&(z^x))+k[11]+643717713&4294967295,M=z+(N<<14&4294967295|N>>>18),N=I+(z^x&(M^z))+k[0]+3921069994&4294967295,I=M+(N<<20&4294967295|N>>>12),N=x+(M^z&(I^M))+k[5]+3593408605&4294967295,x=I+(N<<5&4294967295|N>>>27),N=z+(I^M&(x^I))+k[10]+38016083&4294967295,z=x+(N<<9&4294967295|N>>>23),N=M+(x^I&(z^x))+k[15]+3634488961&4294967295,M=z+(N<<14&4294967295|N>>>18),N=I+(z^x&(M^z))+k[4]+3889429448&4294967295,I=M+(N<<20&4294967295|N>>>12),N=x+(M^z&(I^M))+k[9]+568446438&4294967295,x=I+(N<<5&4294967295|N>>>27),N=z+(I^M&(x^I))+k[14]+3275163606&4294967295,z=x+(N<<9&4294967295|N>>>23),N=M+(x^I&(z^x))+k[3]+4107603335&4294967295,M=z+(N<<14&4294967295|N>>>18),N=I+(z^x&(M^z))+k[8]+1163531501&4294967295,I=M+(N<<20&4294967295|N>>>12),N=x+(M^z&(I^M))+k[13]+2850285829&4294967295,x=I+(N<<5&4294967295|N>>>27),N=z+(I^M&(x^I))+k[2]+4243563512&4294967295,z=x+(N<<9&4294967295|N>>>23),N=M+(x^I&(z^x))+k[7]+1735328473&4294967295,M=z+(N<<14&4294967295|N>>>18),N=I+(z^x&(M^z))+k[12]+2368359562&4294967295,I=M+(N<<20&4294967295|N>>>12),N=x+(I^M^z)+k[5]+4294588738&4294967295,x=I+(N<<4&4294967295|N>>>28),N=z+(x^I^M)+k[8]+2272392833&4294967295,z=x+(N<<11&4294967295|N>>>21),N=M+(z^x^I)+k[11]+1839030562&4294967295,M=z+(N<<16&4294967295|N>>>16),N=I+(M^z^x)+k[14]+4259657740&4294967295,I=M+(N<<23&4294967295|N>>>9),N=x+(I^M^z)+k[1]+2763975236&4294967295,x=I+(N<<4&4294967295|N>>>28),N=z+(x^I^M)+k[4]+1272893353&4294967295,z=x+(N<<11&4294967295|N>>>21),N=M+(z^x^I)+k[7]+4139469664&4294967295,M=z+(N<<16&4294967295|N>>>16),N=I+(M^z^x)+k[10]+3200236656&4294967295,I=M+(N<<23&4294967295|N>>>9),N=x+(I^M^z)+k[13]+681279174&4294967295,x=I+(N<<4&4294967295|N>>>28),N=z+(x^I^M)+k[0]+3936430074&4294967295,z=x+(N<<11&4294967295|N>>>21),N=M+(z^x^I)+k[3]+3572445317&4294967295,M=z+(N<<16&4294967295|N>>>16),N=I+(M^z^x)+k[6]+76029189&4294967295,I=M+(N<<23&4294967295|N>>>9),N=x+(I^M^z)+k[9]+3654602809&4294967295,x=I+(N<<4&4294967295|N>>>28),N=z+(x^I^M)+k[12]+3873151461&4294967295,z=x+(N<<11&4294967295|N>>>21),N=M+(z^x^I)+k[15]+530742520&4294967295,M=z+(N<<16&4294967295|N>>>16),N=I+(M^z^x)+k[2]+3299628645&4294967295,I=M+(N<<23&4294967295|N>>>9),N=x+(M^(I|~z))+k[0]+4096336452&4294967295,x=I+(N<<6&4294967295|N>>>26),N=z+(I^(x|~M))+k[7]+1126891415&4294967295,z=x+(N<<10&4294967295|N>>>22),N=M+(x^(z|~I))+k[14]+2878612391&4294967295,M=z+(N<<15&4294967295|N>>>17),N=I+(z^(M|~x))+k[5]+4237533241&4294967295,I=M+(N<<21&4294967295|N>>>11),N=x+(M^(I|~z))+k[12]+1700485571&4294967295,x=I+(N<<6&4294967295|N>>>26),N=z+(I^(x|~M))+k[3]+2399980690&4294967295,z=x+(N<<10&4294967295|N>>>22),N=M+(x^(z|~I))+k[10]+4293915773&4294967295,M=z+(N<<15&4294967295|N>>>17),N=I+(z^(M|~x))+k[1]+2240044497&4294967295,I=M+(N<<21&4294967295|N>>>11),N=x+(M^(I|~z))+k[8]+1873313359&4294967295,x=I+(N<<6&4294967295|N>>>26),N=z+(I^(x|~M))+k[15]+4264355552&4294967295,z=x+(N<<10&4294967295|N>>>22),N=M+(x^(z|~I))+k[6]+2734768916&4294967295,M=z+(N<<15&4294967295|N>>>17),N=I+(z^(M|~x))+k[13]+1309151649&4294967295,I=M+(N<<21&4294967295|N>>>11),N=x+(M^(I|~z))+k[4]+4149444226&4294967295,x=I+(N<<6&4294967295|N>>>26),N=z+(I^(x|~M))+k[11]+3174756917&4294967295,z=x+(N<<10&4294967295|N>>>22),N=M+(x^(z|~I))+k[2]+718787259&4294967295,M=z+(N<<15&4294967295|N>>>17),N=I+(z^(M|~x))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+z&4294967295}r.prototype.v=function(R,x){x===void 0&&(x=R.length);const I=x-this.blockSize,k=this.C;let M=this.h,z=0;for(;z<x;){if(M==0)for(;z<=I;)o(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<x;)if(k[M++]=R.charCodeAt(z++),M==this.blockSize){o(this,k),M=0;break}}else for(;z<x;)if(k[M++]=R[z++],M==this.blockSize){o(this,k),M=0;break}}this.h=M,this.o+=x},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)R[x++]=this.g[I]>>>k&255;return R};function l(R,x){var I=d;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=x(R)}function c(R,x){this.h=x;const I=[];let k=!0;for(let M=R.length-1;M>=0;M--){const z=R[M]|0;k&&z==x||(I[M]=z,k=!1)}this.g=I}var d={};function p(R){return-128<=R&&R<128?l(R,function(x){return new c([x|0],x<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return U(g(-R));const x=[];let I=1;for(let k=0;R>=I;k++)x[k]=R/I|0,I*=4294967296;return new c(x,0)}function _(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return U(_(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(x,8));let k=v;for(let z=0;z<R.length;z+=8){var M=Math.min(8,R.length-z);const N=parseInt(R.substring(z,z+M),x);M<8?(M=g(Math.pow(x,M)),k=k.j(M).add(g(N))):(k=k.j(I),k=k.add(g(N)))}return k}var v=p(0),w=p(1),C=p(16777216);i=c.prototype,i.m=function(){if(j(this))return-U(this).m();let R=0,x=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);R+=(k>=0?k:4294967296+k)*x,x*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(V(this))return"0";if(j(this))return"-"+U(this).toString(R);const x=g(Math.pow(R,6));var I=this;let k="";for(;;){const M=re(I,x).g;I=H(I,M.j(x));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=M,V(I))return z+k;for(;z.length<6;)z="0"+z;k=z+k}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function V(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function j(R){return R.h==-1}i.l=function(R){return R=H(this,R),j(R)?-1:V(R)?0:1};function U(R){const x=R.g.length,I=[];for(let k=0;k<x;k++)I[k]=~R.g[k];return new c(I,~R.h).add(w)}i.abs=function(){return j(this)?U(this):this},i.add=function(R){const x=Math.max(this.g.length,R.g.length),I=[];let k=0;for(let M=0;M<=x;M++){let z=k+(this.i(M)&65535)+(R.i(M)&65535),N=(z>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);k=N>>>16,z&=65535,N&=65535,I[M]=N<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function H(R,x){return R.add(U(x))}i.j=function(R){if(V(this)||V(R))return v;if(j(this))return j(R)?U(this).j(U(R)):U(U(this).j(R));if(j(R))return U(this.j(U(R)));if(this.l(C)<0&&R.l(C)<0)return g(this.m()*R.m());const x=this.g.length+R.g.length,I=[];for(var k=0;k<2*x;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<R.g.length;M++){const z=this.i(k)>>>16,N=this.i(k)&65535,Oe=R.i(M)>>>16,it=R.i(M)&65535;I[2*k+2*M]+=N*it,B(I,2*k+2*M),I[2*k+2*M+1]+=z*it,B(I,2*k+2*M+1),I[2*k+2*M+1]+=N*Oe,B(I,2*k+2*M+1),I[2*k+2*M+2]+=z*Oe,B(I,2*k+2*M+2)}for(R=0;R<x;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=x;R<2*x;R++)I[R]=0;return new c(I,0)};function B(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function $(R,x){this.g=R,this.h=x}function re(R,x){if(V(x))throw Error("division by zero");if(V(R))return new $(v,v);if(j(R))return x=re(U(R),x),new $(U(x.g),U(x.h));if(j(x))return x=re(R,U(x)),new $(U(x.g),x.h);if(R.g.length>30){if(j(R)||j(x))throw Error("slowDivide_ only works with positive integers.");for(var I=w,k=x;k.l(R)<=0;)I=he(I),k=he(k);var M=fe(I,1),z=fe(k,1);for(k=fe(k,2),I=fe(I,2);!V(k);){var N=z.add(k);N.l(R)<=0&&(M=M.add(I),z=N),k=fe(k,1),I=fe(I,1)}return x=H(R,M.j(x)),new $(M,x)}for(M=v;R.l(x)>=0;){for(I=Math.max(1,Math.floor(R.m()/x.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),z=g(I),N=z.j(x);j(N)||N.l(R)>0;)I-=k,z=g(I),N=z.j(x);V(z)&&(z=w),M=M.add(z),R=H(R,N)}return new $(M,R)}i.B=function(R){return re(this,R).h},i.and=function(R){const x=Math.max(this.g.length,R.g.length),I=[];for(let k=0;k<x;k++)I[k]=this.i(k)&R.i(k);return new c(I,this.h&R.h)},i.or=function(R){const x=Math.max(this.g.length,R.g.length),I=[];for(let k=0;k<x;k++)I[k]=this.i(k)|R.i(k);return new c(I,this.h|R.h)},i.xor=function(R){const x=Math.max(this.g.length,R.g.length),I=[];for(let k=0;k<x;k++)I[k]=this.i(k)^R.i(k);return new c(I,this.h^R.h)};function he(R){const x=R.g.length+1,I=[];for(let k=0;k<x;k++)I[k]=R.i(k)<<1|R.i(k-1)>>>31;return new c(I,R.h)}function fe(R,x){const I=x>>5;x%=32;const k=R.g.length-I,M=[];for(let z=0;z<k;z++)M[z]=x>0?R.i(z+I)>>>x|R.i(z+I+1)<<32-x:R.i(z+I);return new c(M,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Jb=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,mr=c}).apply(typeof kE<"u"?kE:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zb,ru,eT,jh,kp,tT,nT,iT;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var y=0;y<h.length;++y){var b=h[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function o(h,y){if(y)e:{var b=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in b))break e;b=b[F]}h=h[h.length-1],A=b[h],y=y(A),y!=A&&y!=null&&e(b,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var b=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&b.push([A,y[A]]);return b}});var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,b){return h.call.apply(h.bind,arguments)}function g(h,y,b){return g=p,g.apply(null,arguments)}function _(h,y){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function v(h,y){function b(){}b.prototype=y.prototype,h.Z=y.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(A,F,Y){for(var le=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)le[Ie-2]=arguments[Ie];return y.prototype[F].apply(A,le)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const y=h.length;if(y>0){const b=Array(y);for(let A=0;A<y;A++)b[A]=h[A];return b}return[]}function V(h,y){for(let A=1;A<arguments.length;A++){const F=arguments[A];var b=typeof F;if(b=b!="object"?b:F?Array.isArray(F)?"array":b:"null",b=="array"||b=="object"&&typeof F.length=="number"){b=h.length||0;const Y=F.length||0;h.length=b+Y;for(let le=0;le<Y;le++)h[b+le]=F[le]}else h.push(F)}}class j{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){c.setTimeout(()=>{throw h},0)}function H(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class B{constructor(){this.h=this.g=null}add(y,b){const A=$.get();A.set(y,b),this.h?this.h.next=A:this.g=A,this.h=A}}var $=new j(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let he,fe=!1,R=new B,x=()=>{const h=Promise.resolve(void 0);he=()=>{h.then(I)}};function I(){for(var h;h=H();){try{h.h.call(h.g)}catch(b){U(b)}var y=$;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}fe=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,y),c.removeEventListener("test",b,y)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Oe(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}v(Oe,M),Oe.prototype.init=function(h,y){const b=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(b=="mouseover"?y=h.fromElement:b=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var it="closure_listenable_"+(Math.random()*1e6|0),X=0;function oe(h,y,b,A,F){this.listener=h,this.proxy=null,this.src=y,this.type=b,this.capture=!!A,this.ha=F,this.key=++X,this.da=this.fa=!1}function me(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,y,b){for(const A in h)y.call(b,h[A],A,h)}function ie(h,y){for(const b in h)y.call(void 0,h[b],b,h)}function O(h){const y={};for(const b in h)y[b]=h[b];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(h,y){let b,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(b in A)h[b]=A[b];for(let Y=0;Y<J.length;Y++)b=J[Y],Object.prototype.hasOwnProperty.call(A,b)&&(h[b]=A[b])}}function ue(h){this.src=h,this.g={},this.h=0}ue.prototype.add=function(h,y,b,A,F){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const le=Ce(h,y,A,F);return le>-1?(y=h[le],b||(y.fa=!1)):(y=new oe(y,this.src,Y,!!A,F),y.fa=b,h.push(y)),y};function be(h,y){const b=y.type;if(b in h.g){var A=h.g[b],F=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(A,F,1),Y&&(me(y),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Ce(h,y,b,A){for(let F=0;F<h.length;++F){const Y=h[F];if(!Y.da&&Y.listener==y&&Y.capture==!!b&&Y.ha==A)return F}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Vt={};function ut(h,y,b,A,F){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)ut(h,y[Y],b,A,F);return null}return b=Qo(b),h&&h[it]?h.J(y,b,d(A)?!!A.capture:!1,F):Ir(h,y,b,!1,A,F)}function Ir(h,y,b,A,F,Y){if(!y)throw Error("Invalid event type");const le=d(F)?!!F.capture:!!F;let Ie=Nr(h);if(Ie||(h[He]=Ie=new ue(h)),b=Ie.add(y,b,A,le,Y),b.proxy)return b;if(A=Aa(),b.proxy=A,A.src=h,A.listener=b,h.addEventListener)z||(F=le),F===void 0&&(F=!1),h.addEventListener(y.toString(),A,F);else if(h.attachEvent)h.attachEvent(di(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Aa(){function h(b){return y.call(h.src,h.listener,b)}const y=Go;return h}function xa(h,y,b,A,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)xa(h,y[Y],b,A,F);else A=d(A)?!!A.capture:!!A,b=Qo(b),h&&h[it]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],b=Ce(y,b,A,F),b>-1&&(me(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Nr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ce(y,b,A,F)),(b=h>-1?y[h]:null)&&Ra(b))}function Ra(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[it])be(y.i,h);else{var b=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(b,A,h.capture):y.detachEvent?y.detachEvent(di(b),A):y.addListener&&y.removeListener&&y.removeListener(A),(b=Nr(y))?(be(b,h),b.h==0&&(b.src=null,y[He]=null)):me(h)}}}function di(h){return h in Vt?Vt[h]:Vt[h]="on"+h}function Go(h,y){if(h.da)h=!0;else{y=new Oe(y,this);const b=h.listener,A=h.ha||h.src;h.fa&&Ra(h),h=b.call(A,y)}return h}function Nr(h){return h=h[He],h instanceof ue?h:null}var Ko="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qo(h){return typeof h=="function"?h:(h[Ko]||(h[Ko]=function(y){return h.handleEvent(y)}),h[Ko])}function Tt(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}v(Tt,k),Tt.prototype[it]=!0,Tt.prototype.removeEventListener=function(h,y,b,A){xa(this,h,y,b,A)};function Lt(h,y){var b,A=h.G;if(A)for(b=[];A;A=A.G)b.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var F=y;y=new M(A,h),ae(y,F)}F=!0;let Y,le;if(b)for(le=b.length-1;le>=0;le--)Y=y.g=b[le],F=xs(Y,A,!0,y)&&F;if(Y=y.g=h,F=xs(Y,A,!0,y)&&F,F=xs(Y,A,!1,y)&&F,b)for(le=0;le<b.length;le++)Y=y.g=b[le],F=xs(Y,A,!1,y)&&F}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const b=h.g[y];for(let A=0;A<b.length;A++)me(b[A]);delete h.g[y],h.h--}}this.G=null},Tt.prototype.J=function(h,y,b,A){return this.i.add(String(h),y,!1,b,A)},Tt.prototype.K=function(h,y,b,A){return this.i.add(String(h),y,!0,b,A)};function xs(h,y,b,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let Y=0;Y<y.length;++Y){const le=y[Y];if(le&&!le.da&&le.capture==b){const Ie=le.listener,_t=le.ha||le.src;le.fa&&be(h.i,le),F=Ie.call(_t,A)!==!1&&F}}return F&&!A.defaultPrevented}function Gf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Yu(h){h.g=Gf(()=>{h.g=null,h.i&&(h.i=!1,Yu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class rn extends k{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Yu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(h){k.call(this),this.h=h,this.g={}}v(Or,k);var Yo=[];function Xo(h){De(h.g,function(y,b){this.g.hasOwnProperty(b)&&Ra(y)},h),h.g={}}Or.prototype.N=function(){Or.Z.N.call(this),Xo(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rs=c.JSON.stringify,Kf=c.JSON.parse,Xu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Wu(){}function Ju(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){M.call(this,"d")}v(Ft,M);function Mn(){M.call(this,"c")}v(Mn,M);var yt={},Zu=null;function Ca(){return Zu=Zu||new Tt}yt.Ia="serverreachability";function ec(h){M.call(this,yt.Ia,h)}v(ec,M);function mi(h){const y=Ca();Lt(y,new ec(y))}yt.STAT_EVENT="statevent";function kr(h,y){M.call(this,yt.STAT_EVENT,h),this.stat=y}v(kr,M);function wt(h){const y=Ca();Lt(y,new kr(y,h))}yt.Ja="timingevent";function pi(h,y){M.call(this,yt.Ja,h),this.size=y}v(pi,M);function gi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Qf(h,y,b,A,F,Y){h.info(function(){if(h.g)if(Y){var le="",Ie=Y.split("&");for(let Ge=0;Ge<Ie.length;Ge++){var _t=Ie[Ge].split("=");if(_t.length>1){const ct=_t[0];_t=_t[1];const Un=ct.split("_");le=Un.length>=2&&Un[1]=="type"?le+(ct+"="+_t+"&"):le+(ct+"=redacted&")}}}else le=null;else le=Y;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+b+`
`+le})}function tc(h,y,b,A,F,Y,le){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+b+`
`+Y+" "+le})}function yi(h,y,b,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Yf(h,b)+(A?" "+A:"")})}function Dr(h,y){h.info(function(){return"TIMEOUT: "+y})}Xn.prototype.info=function(){};function Yf(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var b=Y[h];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(let le=1;le<A.length;le++)A[le]=""}}}}return Rs(Y)}catch{return y}}var Mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jo;function Vr(){}v(Vr,Wu),Vr.prototype.g=function(){return new XMLHttpRequest},Jo=new Vr;function Fi(h){return encodeURIComponent(String(h))}function nc(h){var y=1;h=h.split(":");const b=[];for(;y>0&&h.length;)b.push(h.shift()),y--;return h.length&&b.push(h.join(":")),b}function Wn(h,y,b,A){this.j=h,this.i=y,this.l=b,this.S=A||1,this.V=new Or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var St={},zt={};function _i(h,y,b){h.M=1,h.A=Lr(xt(y)),h.u=b,h.R=!0,Ia(h,null)}function Ia(h,y){h.F=Date.now(),vi(h),h.B=xt(h.A);var b=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Da(b.i,"t",A),h.C=0,b=h.j.L,h.h=new Jn,h.g=yc(h.j,b?y:null,!h.u),h.P>0&&(h.O=new rn(g(h.Y,h,h.g),h.P)),y=h.V,b=h.g,A=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(Yo[0]=F.toString()),F=Yo);for(let Y=0;Y<F.length;Y++){const le=ut(b,F[Y],A||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),mi(),Qf(h.i,h.v,h.B,h.l,h.S,h.u)}Wn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ti(h)==3?y.j():this.Y(h)},Wn.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=ti(this.g),_t=this.g.ya(),Ge=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Ie!=4||_t==7||(_t==8||Ge<=0?mi(3):mi(2)),Ei(this);var y=this.g.ca();this.X=y;var b=Xf(this);if(this.o=y==200,tc(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,F=this.g;if((A=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var Y=A;break t}}Y=null}if(h=Y)yi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,h);else{this.o=!1,this.m=3,wt(12),bn(this),Vn(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<b.length;)if(ct=sc(this,b),ct==zt){Ie==4&&(this.m=4,wt(14),h=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==St){this.m=4,wt(15),yi(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else yi(this.i,this.l,ct,null),bi(this,ct);if(ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,wt(16),h=!1),this.o=this.o&&h,!h)yi(this.i,this.l,b,"[Invalid Chunked Response]"),bn(this),Vn(this);else if(b.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),dl(le),le.P=!0,wt(11))}}else yi(this.i,this.l,b,null),bi(this,b);Ie==4&&bn(this),this.o&&!this.K&&(Ie==4?dc(this.j,this):(this.o=!1,vi(this)))}else Gi(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),bn(this),Vn(this)}}}catch{}finally{}};function Xf(h){if(!ic(h))return h.g.la();const y=$t(h.g);if(y==="")return"";let b="";const A=y.length,F=ti(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),Vn(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<A;Y++)h.h.h=!0,b+=h.h.i.decode(y[Y],{stream:!(F&&Y==A-1)});return y.length=0,h.h.g+=b,h.C=0,h.h.g}function ic(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function sc(h,y){var b=h.C,A=y.indexOf(`
`,b);return A==-1?zt:(b=Number(y.substring(b,A)),isNaN(b)?St:(A+=1,A+b>y.length?zt:(y=y.slice(A,A+b),h.C=A+b,y)))}Wn.prototype.cancel=function(){this.K=!0,bn(this)};function vi(h){h.T=Date.now()+h.H,Na(h,h.H)}function Na(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=gi(g(h.aa,h),y)}function Ei(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Wn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Dr(this.i,this.B),this.M!=2&&(mi(),wt(17)),bn(this),this.m=2,Vn(this)):Na(this,this.T-h)};function Vn(h){h.j.I==0||h.K||dc(h.j,h)}function bn(h){Ei(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Xo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function bi(h,y){try{var b=h.j;if(b.I!=0&&(b.g==h||wi(b.h,h))){if(!h.L&&wi(b.h,h)&&b.I==3){try{var A=b.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Ua(b),Vs(b);else break e;qr(b),wt(18)}}else b.xa=F[1],0<b.xa-b.K&&F[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=gi(g(b.Va,b),6e3));Ti(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ii(b,11)}else if((h.L||b.g==h)&&Ua(b),!N(y))for(F=b.Ba.g.parse(y),y=0;y<F.length;y++){let Ge=F[y];const ct=Ge[0];if(!(ct<=b.K))if(b.K=ct,Ge=Ge[1],b.I==2)if(Ge[0]=="c"){b.M=Ge[1],b.ba=Ge[2];const Un=Ge[3];Un!=null&&(b.ka=Un,b.j.info("VER="+b.ka));const Ni=Ge[4];Ni!=null&&(b.za=Ni,b.j.info("SVER="+b.za));const ni=Ge[5];ni!=null&&typeof ni=="number"&&ni>0&&(A=1.5*ni,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const ii=h.g;if(ii){const Fr=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var Y=A.h;Y.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(tl(Y,Y.h),Y.h=null))}if(A.G){const ja=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(A.wa=ja,Ye(A.J,A.G,ja))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var le=h;if(A.na=gc(A,A.L?A.ba:null,A.W),le.L){nl(A.h,le);var Ie=le,_t=A.O;_t&&(Ie.H=_t),Ie.D&&(Ei(Ie),vi(Ie)),A.g=le}else hc(A);b.i.length>0&&Ci(b)}else Ge[0]!="stop"&&Ge[0]!="close"||Ii(b,7);else b.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ii(b,7):hl(b):Ge[0]!="noop"&&b.l&&b.l.qa(Ge),b.A=0)}}mi(4)}catch{}}var At=class{constructor(h,y){this.g=h,this.map=y}};function Zo(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ti(h){return h.h?1:h.g?h.g.size:0}function wi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function tl(h,y){h.g?h.g.add(y):h.h=y}function nl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Zo.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function il(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const b of h.g.values())y=y.concat(b.G);return y}return C(h.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(h,y){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const A=h[b].indexOf("=");let F,Y=null;A>=0?(F=h[b].substring(0,A),Y=h[b].substring(A+1)):F=h[b],y(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Tn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Tn?(this.l=h.l,Bt(this,h.j),this.o=h.o,this.g=h.g,Cs(this,h.u),this.h=h.h,sl(this,uc(h.i)),this.m=h.m):h&&(y=String(h).match(rc))?(this.l=!1,Bt(this,y[1]||"",!0),this.o=Si(y[2]||""),this.g=Si(y[3]||"",!0),Cs(this,y[4]),this.h=Si(y[5]||"",!0),sl(this,y[6]||"",!0),this.m=Si(y[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}Tn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Pr(y,ka,!0),":");var b=this.g;return(b||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Pr(y,ka,!0),"@"),h.push(Fi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Pr(b,b.charAt(0)=="/"?rl:ac,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Pr(b,oc)),h.join("")},Tn.prototype.resolve=function(h){const y=xt(this);let b=!!h.j;b?Bt(y,h.j):b=!!h.o,b?y.o=h.o:b=!!h.g,b?y.g=h.g:b=h.u!=null;var A=h.h;if(b)Cs(y,h.u);else if(b=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var F=y.h.lastIndexOf("/");F!=-1&&(A=y.h.slice(0,F+1)+A)}if(F=A,F==".."||F==".")A="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){A=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let le=0;le<F.length;){const Ie=F[le++];Ie=="."?A&&le==F.length&&Y.push(""):Ie==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&le==F.length&&Y.push("")):(Y.push(Ie),A=!0)}A=Y.join("/")}else A=F}return b?y.h=A:b=h.i.toString()!=="",b?sl(y,uc(h.i)):b=!!h.m,b&&(y.m=h.m),y};function xt(h){return new Tn(h)}function Bt(h,y,b){h.j=b?Si(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Cs(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function sl(h,y,b){y instanceof Ns?(h.i=y,Ma(h.i,h.l)):(b||(y=Pr(y,Is)),h.i=new Ns(y,h.l))}function Ye(h,y,b){h.i.set(y,b)}function Lr(h){return Ye(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Si(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Pr(h,y,b){return typeof h=="string"?(h=encodeURI(h).replace(y,cn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ka=/[#\/\?@]/g,ac=/[#\?:]/g,rl=/[#\?]/g,Is=/[#\?@]/g,oc=/#/g;function Ns(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function hn(h){h.g||(h.g=new Map,h.h=0,h.i&&Oa(h.i,function(y,b){h.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}i=Ns.prototype,i.add=function(h,y){hn(this),this.i=null,h=Os(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(y),this.h+=1,this};function lc(h,y){hn(h),y=Os(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function al(h,y){return hn(h),y=Os(h,y),h.g.has(y)}i.forEach=function(h,y){hn(this),this.g.forEach(function(b,A){b.forEach(function(F){h.call(y,F,A,this)},this)},this)};function ol(h,y){hn(h);let b=[];if(typeof y=="string")al(h,y)&&(b=b.concat(h.g.get(Os(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)b=b.concat(h[y]);return b}i.set=function(h,y){return hn(this),this.i=null,h=Os(this,h),al(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=ol(this,h),h.length>0?String(h[0]):y):y};function Da(h,y,b){lc(h,y),b.length>0&&(h.i=null,h.g.set(Os(h,y),C(b)),h.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var b=y[A];const F=Fi(b);b=ol(this,b);for(let Y=0;Y<b.length;Y++){let le=F;b[Y]!==""&&(le+="="+Fi(b[Y])),h.push(le)}}return this.i=h.join("&")};function uc(h){const y=new Ns;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Os(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ma(h,y){y&&!h.j&&(hn(h),h.i=null,h.g.forEach(function(b,A){const F=A.toLowerCase();A!=F&&(lc(this,A),Da(this,F,b))},h)),h.j=y}function Zn(h,y){const b=new Xn;if(c.Image){const A=new Image;A.onload=_(Ln,b,"TestLoadImage: loaded",!0,y,A),A.onerror=_(Ln,b,"TestLoadImage: error",!1,y,A),A.onabort=_(Ln,b,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(Ln,b,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function ll(h,y){const b=new Xn,A=new AbortController,F=setTimeout(()=>{A.abort(),Ln(b,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(Y=>{clearTimeout(F),Y.ok?Ln(b,"TestPingServer: ok",!0,y):Ln(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Ln(b,"TestPingServer: error",!1,y)})}function Ln(h,y,b,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(b)}catch{}}function ks(){this.g=new Xu}function Ai(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Ai,Wu),Ai.prototype.g=function(){return new Ur(this.i,this.h)};function Ur(h,y){Tt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ur,Tt),i=Ur.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ei(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Va(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Va(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Ds(this):ei(this),this.readyState==3&&Va(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Ds(this))},i.Na=function(h){this.g&&(this.response=h,Ds(this))},i.ga=function(){this.g&&Ds(this)};function Ds(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ei(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=y.next();return h.join(`\r
`)};function ei(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pn(h){let y="";return De(h,function(b,A){y+=A,y+=":",y+=b,y+=`\r
`}),y}function jr(h,y,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=Pn(b),typeof h=="string"?b!=null&&Fi(b):Ye(h,y,b))}function Je(h){Tt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Je,Tt);var xi=/^https?$/i,ul=["POST","PUT"];i=Je.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jo.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){zr(this,Y);return}if(h=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)b.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())b.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(ul,y,void 0)>=0)||A||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of b)this.g.setRequestHeader(Y,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){zr(this,Y)}};function zr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,cl(h),$i(h)}function cl(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Lt(this,"complete"),Lt(this,"abort"),$i(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},i.Xa=function(){Br(this)};function Br(h){if(h.h&&typeof l<"u"){if(h.v&&ti(h)==4)setTimeout(h.Ca.bind(h),0);else if(Lt(h,"readystatechange"),ti(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var A;if(A=Y===0){let le=String(h.D).match(rc)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),A=!xi.test(le?le.toLowerCase():"")}b=A}if(b)Lt(h,"complete"),Lt(h,"success");else{h.o=6;try{var F=ti(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",cl(h)}}finally{$i(h)}}}}function $i(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,y||Lt(h,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ti(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Kf(y)}};function $t(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(h){const y={};h=(h.g&&ti(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(N(h[A]))continue;var b=nc(h[A]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=y[F]||[];y[F]=Y,Y.push(b)}ie(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(h,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||y}function Ms(h){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,h),this.Za=Ri("retryDelaySeedMs",1e4,h),this.Ta=Ri("forwardChannelMaxRetries",2,h),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Zo(h&&h.concurrentRequestLimit),this.Ba=new ks,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ms.prototype,i.ka=8,i.I=1,i.connect=function(h,y,b,A){wt(0),this.W=h,this.H=y||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=gc(this,null,this.W),Ci(this)};function hl(h){if(La(h),h.I==3){var y=h.V++,b=xt(h.J);if(Ye(b,"SID",h.M),Ye(b,"RID",y),Ye(b,"TYPE","terminate"),Hr(h,b),y=new Wn(h,h.j,y),y.M=2,y.A=Lr(xt(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=y.A,b=!0),b||(y.g=yc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),vi(y)}pc(h)}function Vs(h){h.g&&(dl(h),h.g.cancel(),h.g=null)}function La(h){Vs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ua(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ci(h){if(!el(h.h)&&!h.m){h.m=!0;var y=h.Ea;he||x(),fe||(he(),fe=!0),R.add(y,h),h.D=0}}function Pa(h,y){return Ti(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=gi(g(h.Ea,h,y),mc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new Wn(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=O(Y),ae(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=cc(this,F,y),b=xt(this.J),Ye(b,"RID",h),Ye(b,"CVER",22),this.G&&Ye(b,"X-HTTP-Session-Id",this.G),Hr(this,b),Y&&(this.R?y="headers="+Fi(Pn(Y))+"&"+y:this.u&&jr(b,this.u,Y)),tl(this.h,F),this.Ra&&Ye(b,"TYPE","init"),this.S?(Ye(b,"$req",y),Ye(b,"SID","null"),F.U=!0,_i(F,b,null)):_i(F,b,y),this.I=2}}else this.I==3&&(h?fl(this,h):this.i.length==0||el(this.h)||fl(this))};function fl(h,y){var b;y?b=y.l:b=h.V++;const A=xt(h.J);Ye(A,"SID",h.M),Ye(A,"RID",b),Ye(A,"AID",h.K),Hr(h,A),h.u&&h.o&&jr(A,h.u,h.o),b=new Wn(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),y&&(h.i=y.G.concat(h.i)),y=cc(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),tl(h.h,b),_i(b,A,y)}function Hr(h,y){h.H&&De(h.H,function(b,A){Ye(y,A,b)}),h.l&&De({},function(b,A){Ye(y,A,b)})}function cc(h,y,b){b=Math.min(h.i.length,b);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var F=h.i;let Ie=-1;for(;;){const _t=["count="+b];Ie==-1?b>0?(Ie=F[0].g,_t.push("ofs="+Ie)):Ie=0:_t.push("ofs="+Ie);let Ge=!0;for(let ct=0;ct<b;ct++){var Y=F[ct].g;const Un=F[ct].map;if(Y-=Ie,Y<0)Ie=Math.max(0,F[ct].g-100),Ge=!1;else try{Y="req"+Y+"_"||"";try{var le=Un instanceof Map?Un:Object.entries(Un);for(const[Ni,ni]of le){let ii=ni;d(ni)&&(ii=Rs(ni)),_t.push(Y+Ni+"="+encodeURIComponent(ii))}}catch(Ni){throw _t.push(Y+"type="+encodeURIComponent("_badmap")),Ni}}catch{A&&A(Un)}}if(Ge){le=_t.join("&");break e}}le=void 0}return h=h.i.splice(0,b),y.G=h,le}function hc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;he||x(),fe||(he(),fe=!0),R.add(y,h),h.A=0}}function qr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=gi(g(h.Da,h),mc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=gi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Vs(this),fc(this))};function dl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function fc(h){h.g=new Wn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=xt(h.na);Ye(y,"RID","rpc"),Ye(y,"SID",h.M),Ye(y,"AID",h.K),Ye(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ye(y,"TO",h.ia),Ye(y,"TYPE","xmlhttp"),Hr(h,y),h.u&&h.o&&jr(y,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Lr(xt(y)),b.u=null,b.R=!0,Ia(b,h)}i.Va=function(){this.C!=null&&(this.C=null,Vs(this),qr(this),wt(19))};function Ua(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function dc(h,y){var b=null;if(h.g==y){Ua(h),dl(h),h.g=null;var A=2}else if(wi(h.h,y))b=y.G,nl(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var F=h.D;A=Ca(),Lt(A,new pi(A,b)),Ci(h)}else hc(h);else if(F=y.m,F==3||F==0&&y.X>0||!(A==1&&Pa(h,y)||A==2&&qr(h)))switch(b&&b.length>0&&(y=h.h,y.i=y.i.concat(b)),F){case 1:Ii(h,5);break;case 4:Ii(h,10);break;case 3:Ii(h,6);break;default:Ii(h,2)}}}function mc(h,y){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*y}function Ii(h,y){if(h.j.info("Error code "+y),y==2){var b=g(h.bb,h),A=h.Ua;const F=!A;A=new Tn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Bt(A,"https"),Lr(A),F?Zn(A.toString(),b):ll(A.toString(),b)}else wt(2);h.I=0,h.l&&h.l.pa(y),pc(h),La(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function pc(h){if(h.I=0,h.ja=[],h.l){const y=il(h.h);(y.length!=0||h.i.length!=0)&&(V(h.ja,y),V(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function gc(h,y,b){var A=b instanceof Tn?xt(b):new Tn(b);if(A.g!="")y&&(A.g=y+"."+A.g),Cs(A,A.u);else{var F=c.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const Y=new Tn(null);A&&Bt(Y,A),y&&(Y.g=y),F&&Cs(Y,F),b&&(Y.h=b),A=Y}return b=h.G,y=h.wa,b&&y&&Ye(A,b,y),Ye(A,"VER",h.ka),Hr(h,A),A}function yc(h,y,b){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Je(new Ai({ab:b})):new Je(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function _c(){}i=_c.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ls(){}Ls.prototype.g=function(h,y){return new an(h,y)};function an(h,y){Tt.call(this),this.g=new Ms(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Ki(this)}v(an,Tt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){hl(this.g)},an.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Rs(h),h=b);y.i.push(new At(y.Ya++,h)),y.I==3&&Ci(y)},an.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,an.Z.N.call(this)};function vc(h){Ft.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const b in y){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}v(vc,Ft);function Ec(){Mn.call(this),this.status=1}v(Ec,Mn);function Ki(h){this.g=h}v(Ki,_c),Ki.prototype.ra=function(){Lt(this.g,"a")},Ki.prototype.qa=function(h){Lt(this.g,new vc(h))},Ki.prototype.pa=function(h){Lt(this.g,new Ec)},Ki.prototype.oa=function(){Lt(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,iT=function(){return new Ls},nT=function(){return Ca()},tT=yt,kp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,jh=Mr,Wo.COMPLETE="complete",eT=Wo,Ju.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,ru=Ju,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Zb=Je}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const DE="@firebase/firestore",ME="4.9.2";class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Bo="12.3.0";const ya=new hg("@firebase/firestore");function vo(){return ya.logLevel}function de(i,...e){if(ya.logLevel<=Ue.DEBUG){const t=e.map(Sg);ya.debug(`Firestore (${Bo}): ${i}`,...t)}}function Es(i,...e){if(ya.logLevel<=Ue.ERROR){const t=e.map(Sg);ya.error(`Firestore (${Bo}): ${i}`,...t)}}function No(i,...e){if(ya.logLevel<=Ue.WARN){const t=e.map(Sg);ya.warn(`Firestore (${Bo}): ${i}`,...t)}}function Sg(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function we(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,sT(i,r,t)}function sT(i,e,t){let r=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Es(r),new Error(r)}function Qe(i,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,i||sT(e,o,r)}function Re(i,e){return i}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends As{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class rT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(tn.UNAUTHENTICATED)))}shutdown(){}}class KN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class QN{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let l=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new gs,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new gs)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new rT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class YN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new YN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class VE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const r=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const o=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new VE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new VE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function JN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}class Ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=JN(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%62))}return r}}function je(i,e){return i<e?-1:i>e?1:0}function Dp(i,e){const t=Math.min(i.length,e.length);for(let r=0;r<t;r++){const o=i.charAt(r),l=e.charAt(r);if(o!==l)return up(o)===up(l)?je(o,l):up(o)?1:-1}return je(i.length,e.length)}const ZN=55296,eO=57343;function up(i){const e=i.charCodeAt(0);return e>=ZN&&e<=eO}function Oo(i,e,t){return i.length===e.length&&i.every(((r,o)=>t(r,e[o])))}const LE="__name__";class Vi{constructor(e,t,r){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&we(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=Vi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return je(e.length,t.length)}static compareSegments(e,t){const r=Vi.isNumericId(e),o=Vi.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(t)):Dp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class rt extends Vi{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const tO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Vi{construct(e,t,r){return new Wt(e,t,r)}static isValidIdentifier(e){return tO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LE}static keyField(){return new Wt([LE])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(l(),o++)}if(l(),c)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(rt.fromString(e))}static fromName(e){return new _e(rt.fromString(e).popFirst(5))}static empty(){return new _e(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new rt(e.slice()))}}function aT(i,e,t){if(!t)throw new ce(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function nO(i,e,t,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function PE(i){if(!_e.isDocumentKey(i))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function UE(i){if(_e.isDocumentKey(i))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function oT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Tf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we(12329,{type:typeof i})}function Hi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tf(i);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Dt(i,e){const t={typeString:i};return e&&(t.value=e),t}function zu(i,e){if(!oT(i))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const c=i[r];if(o&&typeof c!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new ce(te.INVALID_ARGUMENT,t);return!0}const jE=-62135596800,zE=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*zE);return new nt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jE)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zE}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Dt("string",nt._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new nt(0,0))}static max(){return new Ae(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tu=-1;function iO(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(r===1e9?new nt(t+1,0):new nt(t,r));return new gr(o,_e.empty(),e)}function sO(i){return new gr(i.readTime,i.key,Tu)}class gr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new gr(Ae.min(),_e.empty(),Tu)}static max(){return new gr(Ae.max(),_e.empty(),Tu)}}function rO(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:je(i.largestBatchId,e.largestBatchId))}const aO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ho(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==aO)throw i;de("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,r)=>{t(e)}))}static reject(e){return new se(((t,r)=>{r(e)}))}static waitFor(e){return new se(((t,r)=>{let o=0,l=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&t()}),(p=>r(p)))})),c=!0,l===o&&t()}))}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next((o=>o?se.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,l)=>{r.push(t.call(this,o,l))})),this.waitFor(r)}static mapArray(e,t){return new se(((r,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((_=>{c[g]=_,++d,d===l&&r(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new se(((r,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):r()};l()}))}}function lO(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qo(i){return i.name==="IndexedDbTransactionError"}class wf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wf.ce=-1;const xg=-1;function Sf(i){return i==null}function nf(i){return i===0&&1/i==-1/0}function uO(i){return typeof i=="number"&&Number.isInteger(i)&&!nf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const lT="";function cO(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=BE(e)),e=hO(i.get(t),e);return BE(e)}function hO(i,e){let t=e;const r=i.length;for(let o=0;o<r;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case lT:t+="";break;default:t+=l}}return t}function BE(i){return i+lT+""}function HE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function xr(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function uT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class mt{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}}class Ch{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??Xt.RED,this.left=o??Xt.EMPTY,this.right=l??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new Xt(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,r,o,l){return this}insert(e,t,r){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qE(this.data.getIterator())}getIteratorFrom(e){return new qE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class qE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new kn([])}unionWith(e){let t=new Ut(Wt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class cT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new cT("Invalid base64 string: "+l):l}})(e);return new Jt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const fO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(i){if(Qe(!!i,39018),typeof i=="string"){let e=0;const t=fO.exec(i);if(Qe(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function _r(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}const hT="server_timestamp",fT="__type__",dT="__previous_value__",mT="__local_write_time__";function Rg(i){return(i?.mapValue?.fields||{})[fT]?.stringValue===hT}function Af(i){const e=i.mapValue.fields[dT];return Rg(e)?Af(e):e}function wu(i){const e=yr(i.mapValue.fields[mT].timestampValue);return new nt(e.seconds,e.nanos)}class dO{constructor(e,t,r,o,l,c,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const sf="(default)";class Su{constructor(e,t){this.projectId=e,this.database=t||sf}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===sf}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}const pT="__type__",mO="__max__",Ih={mapValue:{}},gT="__vector__",rf="value";function vr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Rg(i)?4:gO(i)?9007199254740991:pO(i)?10:11:we(28295,{value:i})}function qi(i,e){if(i===e)return!0;const t=vr(i);if(t!==vr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return wu(i).isEqual(wu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=yr(o.timestampValue),d=yr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,l){return _r(o.bytesValue).isEqual(_r(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,l){return bt(o.geoPointValue.latitude)===bt(l.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(l.geoPointValue.longitude)})(i,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return bt(o.integerValue)===bt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=bt(o.doubleValue),d=bt(l.doubleValue);return c===d?nf(c)===nf(d):isNaN(c)&&isNaN(d)}return!1})(i,e);case 9:return Oo(i.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(HE(c)!==HE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!qi(c[p],d[p])))return!1;return!0})(i,e);default:return we(52216,{left:i})}}function Au(i,e){return(i.values||[]).find((t=>qi(t,e)))!==void 0}function ko(i,e){if(i===e)return 0;const t=vr(i),r=vr(e);if(t!==r)return je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(i.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=bt(l.integerValue||l.doubleValue),p=bt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(i,e);case 3:return FE(i.timestampValue,e.timestampValue);case 4:return FE(wu(i),wu(e));case 5:return Dp(i.stringValue,e.stringValue);case 6:return(function(l,c){const d=_r(l),p=_r(c);return d.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=je(d[g],p[g]);if(_!==0)return _}return je(d.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=je(bt(l.latitude),bt(c.latitude));return d!==0?d:je(bt(l.longitude),bt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return $E(i.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[rf]?.arrayValue,_=p[rf]?.arrayValue,v=je(g?.values?.length||0,_?.values?.length||0);return v!==0?v:$E(g,_)})(i.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Ih.mapValue&&c===Ih.mapValue)return 0;if(l===Ih.mapValue)return 1;if(c===Ih.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let v=0;v<p.length&&v<_.length;++v){const w=Dp(p[v],_[v]);if(w!==0)return w;const C=ko(d[p[v]],g[_[v]]);if(C!==0)return C}return je(p.length,_.length)})(i.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function FE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return je(i,e);const t=yr(i),r=yr(e),o=je(t.seconds,r.seconds);return o!==0?o:je(t.nanos,r.nanos)}function $E(i,e){const t=i.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const l=ko(t[o],r[o]);if(l)return l}return je(t.length,r.length)}function Do(i){return Mp(i)}function Mp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const r=yr(t);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return _r(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return _e.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let r="[",o=!0;for(const l of t.values||[])o?o=!1:r+=",",r+=Mp(l);return r+"]"})(i.arrayValue):"mapValue"in i?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of r)l?l=!1:o+=",",o+=`${c}:${Mp(t.fields[c])}`;return o+"}"})(i.mapValue):we(61005,{value:i})}function zh(i){switch(vr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Af(i);return e?16+zh(e):16;case 5:return 2*i.stringValue.length;case 6:return _r(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,l)=>o+zh(l)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return xr(r.fields,((l,c)=>{o+=l.length+zh(c)})),o})(i.mapValue);default:throw we(13486,{value:i})}}function GE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Vp(i){return!!i&&"integerValue"in i}function Cg(i){return!!i&&"arrayValue"in i}function KE(i){return!!i&&"nullValue"in i}function QE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Bh(i){return!!i&&"mapValue"in i}function pO(i){return(i?.mapValue?.fields||{})[pT]?.stringValue===gT}function du(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return xr(i.mapValue.fields,((t,r)=>e.mapValue.fields[t]=du(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=du(i.arrayValue.values[t]);return e}return{...i}}function gO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===mO}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(t)}setAll(e){let t=Wt.emptyPath(),r={},o=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,r,o),r={},o=[],t=d.popLast()}c?r[d.lastSegment()]=du(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());Bh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){xr(t,((o,l)=>e[o]=l));for(const o of r)delete e[o]}clone(){return new _n(du(this.value))}}function yT(i){const e=[];return xr(i.fields,((t,r)=>{const o=new Wt([t]);if(Bh(r)){const l=yT(r.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new kn(e)}class nn{constructor(e,t,r,o,l,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new nn(e,0,Ae.min(),Ae.min(),Ae.min(),_n.empty(),0)}static newFoundDocument(e,t,r,o){return new nn(e,1,t,Ae.min(),r,o,0)}static newNoDocument(e,t){return new nn(e,2,t,Ae.min(),Ae.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,Ae.min(),Ae.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class af{constructor(e,t){this.position=e,this.inclusive=t}}function YE(i,e,t){let r=0;for(let o=0;o<i.position.length;o++){const l=e[o],c=i.position[o];if(l.field.isKeyField()?r=_e.comparator(_e.fromName(c.referenceValue),t.key):r=ko(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function XE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!qi(i.position[t],e.position[t]))return!1;return!0}class xu{constructor(e,t="asc"){this.field=e,this.dir=t}}function yO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class _T{}class kt extends _T{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new vO(e,t,r):t==="array-contains"?new TO(e,r):t==="in"?new wO(e,r):t==="not-in"?new SO(e,r):t==="array-contains-any"?new AO(e,r):new kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new EO(e,r):new bO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ko(t,this.value)):t!==null&&vr(this.value)===vr(t)&&this.matchesComparison(ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends _T{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ci(e,t)}matches(e){return vT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vT(i){return i.op==="and"}function ET(i){return _O(i)&&vT(i)}function _O(i){for(const e of i.filters)if(e instanceof ci)return!1;return!0}function Lp(i){if(i instanceof kt)return i.field.canonicalString()+i.op.toString()+Do(i.value);if(ET(i))return i.filters.map((e=>Lp(e))).join(",");{const e=i.filters.map((t=>Lp(t))).join(",");return`${i.op}(${e})`}}function bT(i,e){return i instanceof kt?(function(r,o){return o instanceof kt&&r.op===o.op&&r.field.isEqual(o.field)&&qi(r.value,o.value)})(i,e):i instanceof ci?(function(r,o){return o instanceof ci&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((l,c,d)=>l&&bT(c,o.filters[d])),!0):!1})(i,e):void we(19439)}function TT(i){return i instanceof kt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`})(i):i instanceof ci?(function(t){return t.op.toString()+" {"+t.getFilters().map(TT).join(" ,")+"}"})(i):"Filter"}class vO extends kt{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class EO extends kt{constructor(e,t){super(e,"in",t),this.keys=wT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class bO extends kt{constructor(e,t){super(e,"not-in",t),this.keys=wT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function wT(i,e){return(e.arrayValue?.values||[]).map((t=>_e.fromName(t.referenceValue)))}class TO extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cg(t)&&Au(t.arrayValue,this.value)}}class wO extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Au(this.value.arrayValue,t)}}class SO extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Au(this.value.arrayValue,t)}}class AO extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Au(this.value.arrayValue,r)))}}class xO{constructor(e,t=null,r=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function WE(i,e=null,t=[],r=[],o=null,l=null,c=null){return new xO(i,e,t,r,o,l,c)}function Ig(i){const e=Re(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Lp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Do(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Do(r))).join(",")),e.Te=t}return e.Te}function Ng(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!yO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!bT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!XE(i.startAt,e.startAt)&&XE(i.endAt,e.endAt)}function Pp(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Fo{constructor(e,t=null,r=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RO(i,e,t,r,o,l,c,d){return new Fo(i,e,t,r,o,l,c,d)}function Og(i){return new Fo(i)}function JE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ST(i){return i.collectionGroup!==null}function mu(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ut(Wt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new xu(l,r))})),t.has(Wt.keyField().canonicalString())||e.Ie.push(new xu(Wt.keyField(),r))}return e.Ie}function Ui(i){const e=Re(i);return e.Ee||(e.Ee=CO(e,mu(i))),e.Ee}function CO(i,e){if(i.limitType==="F")return WE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new xu(o.field,l)}));const t=i.endAt?new af(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new af(i.startAt.position,i.startAt.inclusive):null;return WE(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function Up(i,e){const t=i.filters.concat([e]);return new Fo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function jp(i,e,t){return new Fo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function xf(i,e){return Ng(Ui(i),Ui(e))&&i.limitType===e.limitType}function AT(i){return`${Ig(Ui(i))}|lt:${i.limitType}`}function Eo(i){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>TT(o))).join(", ")}]`),Sf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>Do(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>Do(o))).join(",")),`Target(${r})`})(Ui(i))}; limitType=${i.limitType})`}function Rf(i,e){return e.isFoundDocument()&&(function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):_e.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(i,e)&&(function(r,o){for(const l of mu(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(c,d,p){const g=YE(c,d,p);return c.inclusive?g<=0:g<0})(r.startAt,mu(r),o)||r.endAt&&!(function(c,d,p){const g=YE(c,d,p);return c.inclusive?g>=0:g>0})(r.endAt,mu(r),o))})(i,e)}function IO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function xT(i){return(e,t)=>{let r=!1;for(const o of mu(i)){const l=NO(o,e,t);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function NO(i,e,t){const r=i.field.isKeyField()?_e.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?ko(p,g):we(42886)})(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:i.dir})}}class ba{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,((t,r)=>{for(const[o,l]of r)e(o,l)}))}isEmpty(){return uT(this.inner)}size(){return this.innerSize}}const OO=new mt(_e.comparator);function bs(){return OO}const RT=new mt(_e.comparator);function au(...i){let e=RT;for(const t of i)e=e.insert(t.key,t);return e}function CT(i){let e=RT;return i.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function ua(){return pu()}function IT(){return pu()}function pu(){return new ba((i=>i.toString()),((i,e)=>i.isEqual(e)))}const kO=new mt(_e.comparator),DO=new Ut(_e.comparator);function ze(...i){let e=DO;for(const t of i)e=e.add(t);return e}const MO=new Ut(je);function VO(){return MO}function kg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function NT(i){return{integerValue:""+i}}function LO(i,e){return uO(e)?NT(e):kg(i,e)}class Cf{constructor(){this._=void 0}}function PO(i,e,t){return i instanceof of?(function(o,l){const c={fields:{[fT]:{stringValue:hT},[mT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Rg(l)&&(l=Af(l)),l&&(c.fields[dT]=l),{mapValue:c}})(t,e):i instanceof Ru?kT(i,e):i instanceof Cu?DT(i,e):(function(o,l){const c=OT(o,l),d=ZE(c)+ZE(o.Ae);return Vp(c)&&Vp(o.Ae)?NT(d):kg(o.serializer,d)})(i,e)}function UO(i,e,t){return i instanceof Ru?kT(i,e):i instanceof Cu?DT(i,e):t}function OT(i,e){return i instanceof lf?(function(r){return Vp(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class of extends Cf{}class Ru extends Cf{constructor(e){super(),this.elements=e}}function kT(i,e){const t=MT(e);for(const r of i.elements)t.some((o=>qi(o,r)))||t.push(r);return{arrayValue:{values:t}}}class Cu extends Cf{constructor(e){super(),this.elements=e}}function DT(i,e){let t=MT(e);for(const r of i.elements)t=t.filter((o=>!qi(o,r)));return{arrayValue:{values:t}}}class lf extends Cf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ZE(i){return bt(i.integerValue||i.doubleValue)}function MT(i){return Cg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function jO(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof Ru&&o instanceof Ru||r instanceof Cu&&o instanceof Cu?Oo(r.elements,o.elements,qi):r instanceof lf&&o instanceof lf?qi(r.Ae,o.Ae):r instanceof of&&o instanceof of})(i.transform,e.transform)}class zO{constructor(e,t){this.version=e,this.transformResults=t}}class En{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class If{}function VT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Nf(i.key,En.none()):new Bu(i.key,i.data,En.none());{const t=i.data,r=_n.empty();let o=new Ut(Wt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),o=o.add(l)}return new Rr(i.key,r,new kn(o.toArray()),En.none())}}function BO(i,e,t){i instanceof Bu?(function(o,l,c){const d=o.value.clone(),p=t1(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(i,e,t):i instanceof Rr?(function(o,l,c){if(!Hh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=t1(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(LT(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function gu(i,e,t,r){return i instanceof Bu?(function(l,c,d,p){if(!Hh(l.precondition,c))return d;const g=l.value.clone(),_=n1(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,r):i instanceof Rr?(function(l,c,d,p){if(!Hh(l.precondition,c))return d;const g=n1(l.fieldTransforms,p,c),_=c.data;return _.setAll(LT(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(i,e,t,r):(function(l,c,d){return Hh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(i,e,t)}function HO(i,e){let t=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),l=OT(r.transform,o||null);l!=null&&(t===null&&(t=_n.empty()),t.set(r.field,l))}return t||null}function e1(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Oo(r,o,((l,c)=>jO(l,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Bu extends If{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rr extends If{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function LT(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}})),e}function t1(i,e,t){const r=new Map;Qe(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const l=i[o],c=l.transform,d=e.data.field(l.field);r.set(l.field,UO(c,d,t[o]))}return r}function n1(i,e,t){const r=new Map;for(const o of i){const l=o.transform,c=t.data.field(o.field);r.set(o.field,PO(l,c,e))}return r}class Nf extends If{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qO extends If{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FO{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&BO(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=IT();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=VT(c,d);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,((t,r)=>e1(t,r)))&&Oo(this.baseMutations,e.baseMutations,((t,r)=>e1(t,r)))}}class Dg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return kO})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,r[c].version);return new Dg(e,t,r,o)}}class $O{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class GO{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ot,qe;function KO(i){switch(i){case te.OK:return we(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return we(15467,{code:i})}}function PT(i){if(i===void 0)return Es("GRPC error has no .code"),te.UNKNOWN;switch(i){case Ot.OK:return te.OK;case Ot.CANCELLED:return te.CANCELLED;case Ot.UNKNOWN:return te.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return te.INTERNAL;case Ot.UNAVAILABLE:return te.UNAVAILABLE;case Ot.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ot.NOT_FOUND:return te.NOT_FOUND;case Ot.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ot.ABORTED:return te.ABORTED;case Ot.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ot.DATA_LOSS:return te.DATA_LOSS;default:return we(39323,{code:i})}}(qe=Ot||(Ot={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function QO(){return new TextEncoder}const YO=new mr([4294967295,4294967295],0);function i1(i){const e=QO().encode(i),t=new Jb;return t.update(e),new Uint8Array(t.digest())}function s1(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new mr([t,r],0),new mr([o,l],0)]}class Mg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ou(`Invalid padding: ${t}`);if(r<0)throw new ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ou(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=mr.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(mr.fromNumber(r)));return o.compare(YO)===1&&(o=new mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=i1(e),[r,o]=s1(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,o,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Mg(l,o,t);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=i1(e),[r,o]=s1(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Of{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Of(Ae.min(),o,new mt(je),bs(),ze())}}class Hu{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Hu(r,t,ze(),ze(),ze())}}class qh{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class UT{constructor(e,t){this.targetId=e,this.Ce=t}}class jT{constructor(e,t,r=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class r1{constructor(){this.ve=0,this.Fe=a1(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),r=ze();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:we(38017,{changeType:l})}})),new Hu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=a1()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class XO{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.Je=Nh(),this.He=Nh(),this.Ye=new mt(je)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Pp(l))if(r===0){const c=new _e(l.path);this.et(t,c,nn.newNoDocument(c,Ae.min()))}else Qe(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=_r(r).toUint8Array()}catch(p){if(p instanceof cT)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Mg(c,o,l)}catch(p){return No(p instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Pp(d.target)){const p=new _e(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,nn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let r=ze();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new Of(e,t,this.Ye,this.je,r);return this.je=bs(),this.Je=Nh(),this.He=Nh(),this.Ye=new mt(je),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new r1,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ut(je),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ut(je),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new r1),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Nh(){return new mt(_e.comparator)}function a1(){return new mt(_e.comparator)}const WO={asc:"ASCENDING",desc:"DESCENDING"},JO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZO={and:"AND",or:"OR"};class ek{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zp(i,e){return i.useProto3Json||Sf(e)?e:{value:e}}function uf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function tk(i,e){return uf(i,e.toTimestamp())}function ji(i){return Qe(!!i,49232),Ae.fromTimestamp((function(t){const r=yr(t);return new nt(r.seconds,r.nanos)})(i))}function Vg(i,e){return Bp(i,e).canonicalString()}function Bp(i,e){const t=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function BT(i){const e=rt.fromString(i);return Qe(GT(e),10190,{key:e.toString()}),e}function Hp(i,e){return Vg(i.databaseId,e.path)}function cp(i,e){const t=BT(e);if(t.get(1)!==i.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(qT(t))}function HT(i,e){return Vg(i.databaseId,e)}function nk(i){const e=BT(i);return e.length===4?rt.emptyPath():qT(e)}function qp(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qT(i){return Qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function o1(i,e,t){return{name:Hp(i,e),fields:t.value.mapValue.fields}}function ik(i,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(Qe(_===void 0||typeof _=="string",58123),Jt.fromBase64String(_||"")):(Qe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Jt.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?te.UNKNOWN:PT(g.code);return new ce(_,g.message||"")})(c);t=new jT(r,o,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=cp(i,r.document.name),l=ji(r.document.updateTime),c=r.document.createTime?ji(r.document.createTime):Ae.min(),d=new _n({mapValue:{fields:r.document.fields}}),p=nn.newFoundDocument(o,l,c,d),g=r.targetIds||[],_=r.removedTargetIds||[];t=new qh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=cp(i,r.document),l=r.readTime?ji(r.readTime):Ae.min(),c=nn.newNoDocument(o,l),d=r.removedTargetIds||[];t=new qh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=cp(i,r.document),l=r.removedTargetIds||[];t=new qh([],l,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,c=new GO(o,l),d=r.targetId;t=new UT(d,c)}}return t}function sk(i,e){let t;if(e instanceof Bu)t={update:o1(i,e.key,e.value)};else if(e instanceof Nf)t={delete:Hp(i,e.key)};else if(e instanceof Rr)t={update:o1(i,e.key,e.data),updateMask:dk(e.fieldMask)};else{if(!(e instanceof qO))return we(16599,{Vt:e.type});t={verify:Hp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof of)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Cu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof lf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw we(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:tk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)})(i,e.precondition)),t}function rk(i,e){return i&&i.length>0?(Qe(e!==void 0,14353),i.map((t=>(function(o,l){let c=o.updateTime?ji(o.updateTime):ji(l);return c.isEqual(Ae.min())&&(c=ji(l)),new zO(c,o.transformResults||[])})(t,e)))):[]}function ak(i,e){return{documents:[HT(i,e.path)]}}function ok(i,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=HT(i,o);const l=(function(g){if(g.length!==0)return $T(ci.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(w){return{field:bo(w.field),direction:ck(w.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=zp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function lk(i){let e=nk(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Qe(r===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(v){const w=FT(v);return w instanceof ci&&ET(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(v){return v.map((w=>(function(V){return new xu(To(V.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(w)))})(t.orderBy));let d=null;t.limit&&(d=(function(v){let w;return w=typeof v=="object"?v.value:v,Sf(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(v){const w=!!v.before,C=v.values||[];return new af(C,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(v){const w=!v.before,C=v.values||[];return new af(C,w)})(t.endAt)),RO(e,o,c,l,d,"F",p,g)}function uk(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FT(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=To(t.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=To(t.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=To(t.unaryFilter.field);return kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=To(t.unaryFilter.field);return kt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(i):i.fieldFilter!==void 0?(function(t){return kt.create(To(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return ci.create(t.compositeFilter.filters.map((r=>FT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(t.compositeFilter.op))})(i):we(30097,{filter:i})}function ck(i){return WO[i]}function hk(i){return JO[i]}function fk(i){return ZO[i]}function bo(i){return{fieldPath:i.canonicalString()}}function To(i){return Wt.fromServerFormat(i.fieldPath)}function $T(i){return i instanceof kt?(function(t){if(t.op==="=="){if(QE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NAN"}};if(KE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(QE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NAN"}};if(KE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(t.field),op:hk(t.op),value:t.value}}})(i):i instanceof ci?(function(t){const r=t.getFilters().map((o=>$T(o)));return r.length===1?r[0]:{compositeFilter:{op:fk(t.op),filters:r}}})(i):we(54877,{filter:i})}function dk(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function GT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class cr{constructor(e,t,r,o,l=Ae.min(),c=Ae.min(),d=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mk{constructor(e){this.yt=e}}function pk(i){const e=lk({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?jp(e,e.limit,"L"):e}class gk{constructor(){this.Cn=new yk}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(gr.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class yk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ut(rt.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ut(rt.comparator)).toArray()}}const l1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KT=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(KT,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mo(0)}static cr(){return new Mo(-1)}}const u1="LruGarbageCollector",_k=1048576;function c1([i,e],[t,r]){const o=je(i,t);return o===0?je(e,r):o}class vk{constructor(e){this.Ir=e,this.buffer=new Ut(c1),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();c1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ek{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(u1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qo(t)?de(u1,"Ignoring IndexedDB error during garbage collection: ",t):await Ho(t)}await this.Vr(3e5)}))}}class bk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(wf.ce);const r=new vk(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(l1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l1):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,l,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,c=Date.now(),this.nthSequenceNumber(e,o)))).next((v=>(r=v,d=Date.now(),this.removeTargets(e,r,t)))).next((v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(g=Date.now(),vo()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:v}))))}}function Tk(i,e){return new bk(i,e)}class wk{constructor(){this.changes=new ba((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Sk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ak{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&gu(r.mutation,o,kn.empty(),nt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ze()){const o=ua();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((l=>{let c=au();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=ua();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ze())))}populateOverlays(e,t,r){const o=[];return r.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,r,o){let l=bs();const c=pu(),d=(function(){return pu()})();return t.forEach(((p,g)=>{const _=r.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Rr)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),gu(_.mutation,g,_.mutation.getFieldMask(),nt.now())):c.set(g.key,kn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>d.set(g,new Sk(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=pu();let o=new mt(((c,d)=>c-d)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=r.get(p)||kn.empty();_=d.applyToLocalView(g,_),r.set(p,_);const v=(o.get(d.batchId)||ze()).add(p);o=o.insert(d.batchId,v)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,v=IT();_.forEach((w=>{if(!l.has(w)){const C=VT(t.get(w),r.get(w));C!==null&&v.set(w,C),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,v))}return se.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ST(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):se.resolve(ua());let d=Tu,p=l;return c.next((g=>se.forEach(g,((_,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(_)?se.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{p=p.insert(_,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,ze()))).next((_=>({batchId:d,changes:CT(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((r=>{let o=au();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const l=t.collectionGroup;let c=au();return this.indexManager.getCollectionParents(e,l).next((d=>se.forEach(d,(p=>{const g=(function(v,w){return new Fo(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((_=>{_.forEach(((v,w)=>{c=c.insert(v,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,o)))).next((c=>{l.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,nn.newInvalidDocument(_)))}));let d=au();return c.forEach(((p,g)=>{const _=l.get(p);_!==void 0&&gu(_.mutation,g,kn.empty(),nt.now()),Rf(t,g)&&(d=d.insert(p,g))})),d}))}}class xk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:pk(o.bundledQuery),readTime:ji(o.readTime)}})(t)),se.resolve()}}class Rk{constructor(){this.overlays=new mt(_e.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ua();return se.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,l)=>{this.St(e,t,l)})),se.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const o=ua(),l=t.length+1,c=new _e(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>r&&o.set(p.getKey(),p)}return se.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new mt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let _=l.get(g.largestBatchId);_===null&&(_=ua(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ua(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=o)););return se.resolve(d)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new $O(t,r));let l=this.qr.get(t);l===void 0&&(l=ze(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class Ck{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}class Lg{constructor(){this.Qr=new Ut(qt.$r),this.Ur=new Ut(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new qt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new qt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new _e(new rt([])),r=new qt(t,e),o=new qt(t,e+1),l=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new rt([])),r=new qt(t,e),o=new qt(t,e+1);let l=ze();return this.Ur.forEachInRange([r,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new qt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||je(e.Yr,t.Yr)}static Kr(e,t){return je(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}class Ik{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(qt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new FO(l,t,r,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new qt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),l=o<0?0:o;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?xg:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new qt(t,0),o=new qt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,o],(c=>{const d=this.Xr(c.Yr);l.push(d)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ut(je);return t.forEach((o=>{const l=new qt(o,0),c=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{r=r.add(d.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;_e.isDocumentKey(l)||(l=l.child(""));const c=new qt(new _e(l),0);let d=new Ut(je);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),c),se.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Qe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(t.mutations,(o=>{const l=new qt(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new qt(t,0),o=this.Zr.firstAfterOrEqual(r);return se.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Nk{constructor(e){this.ri=e,this.docs=(function(){return new mt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let r=bs();return t.forEach((o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():nn.newInvalidDocument(o))})),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let l=bs();const c=t.path,d=new _e(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||rO(sO(_),r)<=0||(o.has(_.key)||Rf(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,r,o){we(9500)}ii(e,t){return se.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new Ok(this)}getSize(e){return se.resolve(this.size)}}class Ok extends wk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class kk{constructor(e){this.persistence=e,this.si=new ba((t=>Ig(t)),Ng),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Lg,this.targetCount=0,this.ai=Mo.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Mo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),se.waitFor(l).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),se.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}class QT{constructor(e,t){this.ui={},this.overlays={},this.ci=new wf(0),this.li=!1,this.li=!0,this.hi=new Ck,this.referenceDelegate=e(this),this.Pi=new kk(this),this.indexManager=new gk,this.remoteDocumentCache=(function(o){return new Nk(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new mk(t),this.Ii=new xk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Ik(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const o=new Dk(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class Dk extends oO{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.Ri=new Lg,this.Vi=null}static mi(e){return new Pg(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const o=_e.fromPath(r);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class cf{constructor(e,t){this.persistence=e,this.pi=new ba((r=>cO(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Tk(this,t)}static mi(e,t){return new cf(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((r,o)=>this.br(e,r,o).next((l=>l?se.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((d=>{d||(r++,l.removeEntry(c,Ae.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zh(e.data.value)),t}br(e,t,r){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return se.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ug{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=ze(),o=ze();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Ug(e,t.fromCache,r,o)}}class Mk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Vk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return h2()?8:lO(sn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,o,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Mk;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(vo()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(vo()<=Ue.DEBUG&&de("QueryEngine","Query:",Eo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(vo()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(t))):se.resolve())}ys(e,t){if(JE(t))return se.resolve(null);let r=Ui(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=jp(t,null,"F"),r=Ui(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=ze(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.Ds(t,d);return this.Cs(t,g,c,p.readTime)?this.ys(e,jp(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,r,o){return JE(t)||o.isEqual(Ae.min())?se.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,r,o)?se.resolve(null):(vo()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(t)),this.vs(e,c,t,iO(o,Tu)).next((d=>d)))}))}Ds(e,t){let r=new Ut(xT(e));return t.forEach(((o,l)=>{Rf(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,r){return vo()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.ps.getDocumentsMatchingQuery(e,t,gr.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const jg="LocalStore",Lk=3e8;class Pk{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new mt(je),this.xs=new ba((l=>Ig(l)),Ng),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ak(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Uk(i,e,t,r){return new Pk(i,e,t,r)}async function YT(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let p=ze();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function jk(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const v=g.batch,w=v.keys();let C=se.resolve();return w.forEach((V=>{C=C.next((()=>_.getEntry(p,V))).next((j=>{const U=g.docVersions.get(V);Qe(U!==null,48541),j.version.compareTo(U)<0&&(v.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),_.addEntry(j)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(p,v)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=ze();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function XT(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function zk(i,e){const t=Re(i),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((_,v)=>{const w=o.get(v);if(!w)return;d.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(l,_.addedDocuments,v))));let C=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?C=C.withResumeToken(Jt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,r)),o=o.insert(v,C),(function(j,U,H){return j.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=Lk?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(w,C,_)&&d.push(t.Pi.updateTargetData(l,C))}));let p=bs(),g=ze();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(Bk(l,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!r.isEqual(Ae.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next((v=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(_)}return se.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function Bk(i,e,t){let r=ze(),o=ze();return t.forEach((l=>r=r.add(l))),e.getEntries(i,r).next((l=>{let c=bs();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):de(jg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function Hk(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function qk(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((l=>l?(o=l,se.resolve(o)):t.Pi.allocateTargetId(r).next((c=>(o=new cr(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Fp(i,e,t){const r=Re(i),o=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!qo(c))throw c;de(jg,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function h1(i,e,t){const r=Re(i);let o=Ae.min(),l=ze();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const v=Re(p),w=v.xs.get(_);return w!==void 0?se.resolve(v.Ms.get(w)):v.Pi.getTargetData(g,_)})(r,c,Ui(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?o:Ae.min(),t?l:ze()))).next((d=>(Fk(r,IO(e),d),{documents:d,Qs:l})))))}function Fk(i,e,t){let r=i.Os.get(e)||Ae.min();t.forEach(((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),i.Os.set(e,r)}class f1{constructor(){this.activeTargetIds=VO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $k{constructor(){this.Mo=new f1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new f1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gk{Oo(e){}shutdown(){}}const d1="ConnectivityMonitor";class m1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(d1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(d1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oh=null;function $p(){return Oh===null?Oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oh++,"0x"+Oh.toString(16)}const hp="RestConnection",Kk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===sf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,l){const c=$p(),d=this.zo(e,t.toUriEncodedString());de(hp,`Sending RPC '${e}' ${c}:`,d,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(d),_=Uo(g);return this.Jo(e,d,p,r,_).then((v=>(de(hp,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw No(hp,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",r),v}))}Ho(e,t,r,o,l,c){return this.Go(e,t,r,o,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),r&&r.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const r=Kk[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class Yk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const en="WebChannelConnection";class Xk extends Qk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,l){const c=$p();return new Promise(((d,p)=>{const g=new Zb;g.setWithCredentials(!0),g.listenOnce(eT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case jh.NO_ERROR:const v=g.getResponseJson();de(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case jh.TIMEOUT:de(en,`RPC '${e}' ${c} timed out`),p(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const w=g.getStatus();if(de(en,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const V=C?.error;if(V&&V.status&&V.message){const j=(function(H){const B=H.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(B)>=0?B:te.UNKNOWN})(V.status);p(new ce(j,V.message))}else p(new ce(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(te.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(en,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);de(en,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",_,r,15)}))}T_(e,t,r){const o=$p(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=iT(),d=nT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=l.join("");de(en,`Creating RPC '${e}' stream ${o}: ${_}`,p);const v=c.createWebChannel(_,p);this.I_(v);let w=!1,C=!1;const V=new Yk({Yo:U=>{C?de(en,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(w||(de(en,`Opening RPC '${e}' stream ${o} transport.`),v.open(),w=!0),de(en,`RPC '${e}' stream ${o} sending:`,U),v.send(U))},Zo:()=>v.close()}),j=(U,H,B)=>{U.listen(H,($=>{try{B($)}catch(re){setTimeout((()=>{throw re}),0)}}))};return j(v,ru.EventType.OPEN,(()=>{C||(de(en,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),j(v,ru.EventType.CLOSE,(()=>{C||(C=!0,de(en,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(v))})),j(v,ru.EventType.ERROR,(U=>{C||(C=!0,No(en,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),V.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),j(v,ru.EventType.MESSAGE,(U=>{if(!C){const H=U.data[0];Qe(!!H,16349);const B=H,$=B?.error||B[0]?.error;if($){de(en,`RPC '${e}' stream ${o} received error:`,$);const re=$.status;let he=(function(x){const I=Ot[x];if(I!==void 0)return PT(I)})(re),fe=$.message;he===void 0&&(he=te.INTERNAL,fe="Unknown error status: "+re+" with message "+$.message),C=!0,V.a_(new ce(he,fe)),v.close()}else de(en,`RPC '${e}' stream ${o} received:`,H),V.u_(H)}})),j(d,tT.STAT_EVENT,(U=>{U.stat===kp.PROXY?de(en,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===kp.NOPROXY&&de(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function fp(){return typeof document<"u"?document:null}function kf(i){return new ek(i,!0)}class WT{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const p1="PersistentStream";class JT{constructor(e,t,r,o,l,c,d,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Es(t.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(p1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(p1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Wk extends JT{constructor(e,t,r,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ik(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?ji(c.readTime):Ae.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=qp(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=Pp(p)?{documents:ak(l,p)}:{query:ok(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=zT(l,c.resumeToken);const g=zp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ae.min())>0){d.readTime=uf(l,c.snapshotVersion.toTimestamp());const g=zp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const r=uk(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=qp(this.serializer),t.removeTarget=e,this.q_(t)}}class Jk extends JT{constructor(e,t,r,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=rk(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=qp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>sk(this.serializer,r)))};this.q_(t)}}class Zk{}class eD extends Zk{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Bp(t,r),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(te.UNKNOWN,l.toString())}))}Ho(e,t,r,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Bp(t,r),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _a="RemoteStore";class nD{constructor(e,t,r,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ta(this)&&(de(_a,"Restarting streams for network reachability change."),await(async function(p){const g=Re(p);g.Ea.add(4),await qu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Df(g)})(this))}))})),this.Ra=new tD(r,o)}}async function Df(i){if(Ta(i))for(const e of i.da)await e(!0)}async function qu(i){for(const e of i.da)await e(!1)}function ZT(i,e){const t=Re(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),qg(t)?Hg(t):$o(t).O_()&&Bg(t,e))}function zg(i,e){const t=Re(i),r=$o(t);t.Ia.delete(e),r.O_()&&ew(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ta(t)&&t.Ra.set("Unknown"))}function Bg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$o(i).Y_(e)}function ew(i,e){i.Va.Ue(e),$o(i).Z_(e)}function Hg(i){i.Va=new XO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),$o(i).start(),i.Ra.ua()}function qg(i){return Ta(i)&&!$o(i).x_()&&i.Ia.size>0}function Ta(i){return Re(i).Ea.size===0}function tw(i){i.Va=void 0}async function iD(i){i.Ra.set("Online")}async function sD(i){i.Ia.forEach(((e,t)=>{Bg(i,e)}))}async function rD(i,e){tw(i),qg(i)?(i.Ra.ha(e),Hg(i)):i.Ra.set("Unknown")}async function aD(i,e,t){if(i.Ra.set("Online"),e instanceof jT&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(i,e)}catch(r){de(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hf(i,r)}else if(e instanceof qh?i.Va.Ze(e):e instanceof UT?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ae.min()))try{const r=await XT(i.localStore);t.compareTo(r)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const _=l.Ia.get(p);if(!_)return;l.Ia.set(p,_.withResumeToken(Jt.EMPTY_BYTE_STRING,_.snapshotVersion)),ew(l,p);const v=new cr(_.target,p,g,_.sequenceNumber);Bg(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(i,t)}catch(r){de(_a,"Failed to raise snapshot:",r),await hf(i,r)}}async function hf(i,e,t){if(!qo(e))throw e;i.Ea.add(1),await qu(i),i.Ra.set("Offline"),t||(t=()=>XT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{de(_a,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Df(i)}))}function nw(i,e){return e().catch((t=>hf(i,t,e)))}async function Mf(i){const e=Re(i),t=Er(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xg;for(;oD(e);)try{const o=await Hk(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,lD(e,o)}catch(o){await hf(e,o)}iw(e)&&sw(e)}function oD(i){return Ta(i)&&i.Ta.length<10}function lD(i,e){i.Ta.push(e);const t=Er(i);t.O_()&&t.X_&&t.ea(e.mutations)}function iw(i){return Ta(i)&&!Er(i).x_()&&i.Ta.length>0}function sw(i){Er(i).start()}async function uD(i){Er(i).ra()}async function cD(i){const e=Er(i);for(const t of i.Ta)e.ea(t.mutations)}async function hD(i,e,t){const r=i.Ta.shift(),o=Dg.from(r,e,t);await nw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Mf(i)}async function fD(i,e){e&&Er(i).X_&&await(async function(r,o){if((function(c){return KO(c)&&c!==te.ABORTED})(o.code)){const l=r.Ta.shift();Er(r).B_(),await nw(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Mf(r)}})(i,e),iw(i)&&sw(i)}async function g1(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),de(_a,"RemoteStore received new credentials");const r=Ta(t);t.Ea.add(3),await qu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Df(t)}async function dD(i,e){const t=Re(i);e?(t.Ea.delete(2),await Df(t)):e||(t.Ea.add(2),await qu(t),t.Ra.set("Unknown"))}function $o(i){return i.ma||(i.ma=(function(t,r,o){const l=Re(t);return l.sa(),new Wk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:iD.bind(null,i),t_:sD.bind(null,i),r_:rD.bind(null,i),H_:aD.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),qg(i)?Hg(i):i.Ra.set("Unknown")):(await i.ma.stop(),tw(i))}))),i.ma}function Er(i){return i.fa||(i.fa=(function(t,r,o){const l=Re(t);return l.sa(),new Jk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:uD.bind(null,i),r_:fD.bind(null,i),ta:cD.bind(null,i),na:hD.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Mf(i)):(await i.fa.stop(),i.Ta.length>0&&(de(_a,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Fg{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,l){const c=Date.now()+r,d=new Fg(e,t,c,o,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $g(i,e){if(Es("AsyncQueue",`${e}: ${i}`),qo(i))return new ce(te.UNAVAILABLE,`${e}: ${i}`);throw i}class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=au(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class y1{constructor(){this.ga=new mt(_e.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Vo{constructor(e,t,r,o,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,o,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Vo(e,t,xo.emptySet(t),c,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class mD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class pD{constructor(){this.queries=_1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Re(t),l=o.queries;o.queries=_1(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(r)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function _1(){return new ba((i=>AT(i)),xf)}async function rw(i,e){const t=Re(i);let r=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(r=2):(l=new mD,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=$g(c,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Gg(t)}async function aw(i,e){const t=Re(i),r=e.query;let o=3;const l=t.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function gD(i,e){const t=Re(i);let r=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(o)&&(r=!0);c.wa=o}}r&&Gg(t)}function yD(i,e,t){const r=Re(i),o=r.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);r.queries.delete(e)}function Gg(i){i.Ca.forEach((e=>{e.next()}))}var Gp,v1;(v1=Gp||(Gp={})).Ma="default",v1.Cache="cache";class ow{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gp.Cache}}class lw{constructor(e){this.key=e}}class uw{constructor(e){this.key=e}}class _D{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=xT(e),this.tu=new xo(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new y1,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,v)=>{const w=o.get(_),C=Rf(this.query,v)?v:null,V=!!w&&this.mutatedKeys.has(w.key),j=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let U=!1;w&&C?w.data.isEqual(C.data)?V!==j&&(r.track({type:3,doc:C}),U=!0):this.su(w,C)||(r.track({type:2,doc:C}),U=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!w&&C?(r.track({type:0,doc:C}),U=!0):w&&!C&&(r.track({type:1,doc:w}),U=!0,(p||g)&&(d=!0)),U&&(C?(c=c.add(C),l=j?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{tu:c,iu:r,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,v)=>(function(C,V){const j=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:U})}};return j(C)-j(V)})(_.type,v.type)||this.eu(_.doc,v.doc))),this.ou(r),o=o??!1;const d=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Vo(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new y1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new uw(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new lw(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kg="SyncEngine";class vD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ED{constructor(e){this.key=e,this.hu=!1}}class bD{constructor(e,t,r,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ba((d=>AT(d)),xf),this.Iu=new Map,this.Eu=new Set,this.du=new mt(_e.comparator),this.Au=new Map,this.Ru=new Lg,this.Vu={},this.mu=new Map,this.fu=Mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TD(i,e,t=!0){const r=pw(i);let o;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await cw(r,e,t,!0),o}async function wD(i,e){const t=pw(i);await cw(t,e,!0,!1)}async function cw(i,e,t,r){const o=await qk(i.localStore,Ui(e)),l=o.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let d;return r&&(d=await SD(i,e,l,c==="current",o.resumeToken)),i.isPrimaryClient&&t&&ZT(i.remoteStore,o),d}async function SD(i,e,t,r,o){i.pu=(v,w,C)=>(async function(j,U,H,B){let $=U.view.ru(H);$.Cs&&($=await h1(j.localStore,U.query,!1).then((({documents:R})=>U.view.ru(R,$))));const re=B&&B.targetChanges.get(U.targetId),he=B&&B.targetMismatches.get(U.targetId)!=null,fe=U.view.applyChanges($,j.isPrimaryClient,re,he);return b1(j,U.targetId,fe.au),fe.snapshot})(i,v,w,C);const l=await h1(i.localStore,e,!0),c=new _D(e,l.Qs),d=c.ru(l.documents),p=Hu.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",o),g=c.applyChanges(d,i.isPrimaryClient,p);b1(i,t,g.au);const _=new vD(e,t,c);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function AD(i,e,t){const r=Re(i),o=r.Tu.get(e),l=r.Iu.get(o.targetId);if(l.length>1)return r.Iu.set(o.targetId,l.filter((c=>!xf(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Fp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&zg(r.remoteStore,o.targetId),Kp(r,o.targetId)})).catch(Ho)):(Kp(r,o.targetId),await Fp(r.localStore,o.targetId,!0))}async function xD(i,e){const t=Re(i),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),zg(t.remoteStore,r.targetId))}async function RD(i,e,t){const r=MD(i);try{const o=await(function(c,d){const p=Re(c),g=nt.now(),_=d.reduce(((C,V)=>C.add(V.key)),ze());let v,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let V=bs(),j=ze();return p.Ns.getEntries(C,_).next((U=>{V=U,V.forEach(((H,B)=>{B.isValidDocument()||(j=j.add(H))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,V))).next((U=>{v=U;const H=[];for(const B of d){const $=HO(B,v.get(B.key).overlayedDocument);$!=null&&H.push(new Rr(B.key,$,yT($.value.mapValue),En.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,H,d)})).next((U=>{w=U;const H=U.applyToLocalDocumentSet(v,j);return p.documentOverlayCache.saveOverlays(C,U.batchId,H)}))})).then((()=>({batchId:w.batchId,changes:CT(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new mt(je)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,t),await Fu(r,o.changes),await Mf(r.remoteStore)}catch(o){const l=$g(o,"Failed to persist write");t.reject(l)}}async function hw(i,e){const t=Re(i);try{const r=await zk(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Qe(c.hu,14607):o.removedDocuments.size>0&&(Qe(c.hu,42227),c.hu=!1))})),await Fu(t,r,e)}catch(r){await Ho(r)}}function E1(i,e,t){const r=Re(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Re(c);p.onlineState=d;let g=!1;p.queries.forEach(((_,v)=>{for(const w of v.Sa)w.va(d)&&(g=!0)})),g&&Gg(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CD(i,e,t){const r=Re(i);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),l=o&&o.key;if(l){let c=new mt(_e.comparator);c=c.insert(l,nn.newNoDocument(l,Ae.min()));const d=ze().add(l),p=new Of(Ae.min(),new Map,new mt(je),c,d);await hw(r,p),r.du=r.du.remove(l),r.Au.delete(e),Qg(r)}else await Fp(r.localStore,e,!1).then((()=>Kp(r,e,t))).catch(Ho)}async function ID(i,e){const t=Re(i),r=e.batch.batchId;try{const o=await jk(t.localStore,e);dw(t,r,null),fw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(t,o)}catch(o){await Ho(o)}}async function ND(i,e,t){const r=Re(i);try{const o=await(function(c,d){const p=Re(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((v=>(Qe(v!==null,37113),_=v.keys(),p.mutationQueue.removeMutationBatch(g,v)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(r.localStore,e);dw(r,e,t),fw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fu(r,o)}catch(o){await Ho(o)}}function fw(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function dw(i,e,t){const r=Re(i);let o=r.Vu[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Kp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),t&&i.Pu.yu(r,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||mw(i,r)}))}function mw(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(zg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Qg(i))}function b1(i,e,t){for(const r of t)r instanceof lw?(i.Ru.addReference(r.key,e),OD(i,r)):r instanceof uw?(de(Kg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||mw(i,r.key)):we(19791,{wu:r})}function OD(i,e){const t=e.key,r=t.path.canonicalString();i.du.get(t)||i.Eu.has(r)||(de(Kg,"New document in limbo: "+t),i.Eu.add(r),Qg(i))}function Qg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new _e(rt.fromString(e)),r=i.fu.next();i.Au.set(r,new ED(t)),i.du=i.du.insert(t,r),ZT(i.remoteStore,new cr(Ui(Og(t.path)),r,"TargetPurposeLimboResolution",wf.ce))}}async function Fu(i,e,t){const r=Re(i),o=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,p)=>{c.push(r.pu(p,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Ug.As(p.targetId,g);l.push(_)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const _=Re(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>se.forEach(g,(w=>se.forEach(w.Es,(C=>_.persistence.referenceDelegate.addReference(v,w.targetId,C))).next((()=>se.forEach(w.ds,(C=>_.persistence.referenceDelegate.removeReference(v,w.targetId,C)))))))))}catch(v){if(!qo(v))throw v;de(jg,"Failed to update sequence numbers: "+v)}for(const v of g){const w=v.targetId;if(!v.fromCache){const C=_.Ms.get(w),V=C.snapshotVersion,j=C.withLastLimboFreeSnapshotVersion(V);_.Ms=_.Ms.insert(w,j)}}})(r.localStore,l))}async function kD(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){de(Kg,"User change. New user:",e.toKey());const r=await YT(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new ce(te.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fu(t,r.Ls)}}function DD(i,e){const t=Re(i),r=t.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let o=ze();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const d=t.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function pw(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=hw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CD.bind(null,e),e.Pu.H_=gD.bind(null,e.eventManager),e.Pu.yu=yD.bind(null,e.eventManager),e}function MD(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ID.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ND.bind(null,e),e}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Uk(this.persistence,new Vk,e.initialUser,this.serializer)}Cu(e){return new QT(Pg.mi,this.serializer)}Du(e){return new $k}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class VD extends ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Qe(this.persistence.referenceDelegate instanceof cf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ek(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new QT((r=>cf.mi(r,t)),this.serializer)}}class Qp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kD.bind(null,this.syncEngine),await dD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pD})()}createDatastore(e){const t=kf(e.databaseInfo.databaseId),r=(function(l){return new Xk(l)})(e.databaseInfo);return(function(l,c,d,p){return new eD(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,l,c,d){return new nD(r,o,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>E1(this.syncEngine,t,0)),(function(){return m1.v()?new m1:new Gk})())}createSyncEngine(e,t){return(function(o,l,c,d,p,g,_){const v=new bD(o,l,c,d,p,g);return _&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Re(t);de(_a,"RemoteStore shutting down."),r.Ea.add(5),await qu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qp.provider={build:()=>new Qp};class gw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const br="FirestoreClient";class LD{constructor(e,t,r,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{de(br,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(de(br,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=$g(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function dp(i,e){i.asyncQueue.verifyOperationInProgress(),de(br,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await YT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function T1(i,e){i.asyncQueue.verifyOperationInProgress();const t=await PD(i);de(br,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((r=>g1(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>g1(e.remoteStore,o))),i._onlineComponents=e}async function PD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(br,"Using user provided OfflineComponentProvider");try{await dp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await dp(i,new ff)}}else de(br,"Using default OfflineComponentProvider"),await dp(i,new VD(void 0));return i._offlineComponents}async function yw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(br,"Using user provided OnlineComponentProvider"),await T1(i,i._uninitializedComponentsProvider._online)):(de(br,"Using default OnlineComponentProvider"),await T1(i,new Qp))),i._onlineComponents}function UD(i){return yw(i).then((e=>e.syncEngine))}async function _w(i){const e=await yw(i),t=e.eventManager;return t.onListen=TD.bind(null,e.syncEngine),t.onUnlisten=AD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xD.bind(null,e.syncEngine),t}function jD(i,e,t={}){const r=new gs;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new gw({next:w=>{_.Nu(),c.enqueueAndForget((()=>aw(l,v)));const C=w.docs.has(d);!C&&w.fromCache?g.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&p&&p.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),v=new ow(Og(d.path),_,{includeMetadataChanges:!0,qa:!0});return rw(l,v)})(await _w(i),i.asyncQueue,e,t,r))),r.promise}function zD(i,e,t={}){const r=new gs;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new gw({next:w=>{_.Nu(),c.enqueueAndForget((()=>aw(l,v))),w.fromCache&&p.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),v=new ow(d,_,{includeMetadataChanges:!0,qa:!0});return rw(l,v)})(await _w(i),i.asyncQueue,e,t,r))),r.promise}function vw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const w1=new Map;const Ew="firestore.googleapis.com",S1=!0;class A1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ew,this.ssl=S1}else this.host=e.host,this.ssl=e.ssl??S1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_k)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vw(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new GN;switch(r.type){case"firstParty":return new XN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=w1.get(t);r&&(de("ComponentProvider","Removing Datastore"),w1.delete(t),r.terminate())})(this),Promise.resolve()}}function BD(i,e,t,r={}){i=Hi(i,Vf);const o=Uo(e),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},d=`${e}:${t}`;o&&(hb(`https://${d}`),fb("Firestore",!0)),l.host!==Ew&&l.host!==d&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:o,emulatorOptions:r};if(!da(p,c)&&(i._setSettings(p),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=tn.MOCK_USER;else{g=n2(r.mockUserToken,i._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new tn(v)}i._authCredentials=new KN(new rT(g,_))}}class wa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class Mt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(zu(t,Mt._jsonSchema))return new Mt(e,r||null,new _e(rt.fromString(t.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Dt("string",Mt._jsonSchemaVersion),referencePath:Dt("string")};class pr extends wa{constructor(e,t,r){super(e,t,Og(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new _e(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function us(i,e,...t){if(i=jt(i),aT("collection","path",e),i instanceof Vf){const r=rt.fromString(e,...t);return UE(r),new pr(i,null,r)}{if(!(i instanceof Mt||i instanceof pr))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(rt.fromString(e,...t));return UE(r),new pr(i.firestore,null,r)}}function Yp(i,e,...t){if(i=jt(i),arguments.length===1&&(e=Ag.newId()),aT("doc","path",e),i instanceof Vf){const r=rt.fromString(e,...t);return PE(r),new Mt(i,null,new _e(r))}{if(!(i instanceof Mt||i instanceof pr))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(rt.fromString(e,...t));return PE(r),new Mt(i.firestore,i instanceof pr?i.converter:null,new _e(r))}}const x1="AsyncQueue";class R1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WT(this,"async_queue_retry"),this._c=()=>{const r=fp();r&&de(x1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=fp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=fp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qo(e))throw e;de(x1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",C1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Fg.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:C1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function C1(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Sa extends Vf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new R1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R1(e),this._firestoreClient=void 0,await e}}}function HD(i,e){const t=typeof i=="object"?i:gb(),r=typeof i=="string"?i:sf,o=dg(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=e2("firestore");l&&BD(o,...l)}return o}function Lf(i){if(i._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||qD(i),i._firestoreClient}function qD(i){const e=i._freezeSettings(),t=(function(o,l,c,d){return new dO(o,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,vw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new LD(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(i._componentsProvider))}class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(Jt.fromBase64String(e))}catch(t){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Dt("string",Kn._jsonSchemaVersion),bytes:Dt("string")};class $u{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yg{constructor(e){this._methodName=e}}class zi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(zu(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Dt("string",zi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Bi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Bi(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Dt("string",Bi._jsonSchemaVersion),vectorValues:Dt("object")};const FD=/^__.*__$/;class $D{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Rr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}class bw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Rr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Tw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:i})}}class Xg{constructor(e,t,r,o,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return df(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Tw(this.Ac)&&FD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||kf(e)}Cc(e,t,r,o=!1){return new Xg({Ac:e,methodName:t,Dc:r,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pf(i){const e=i._freezeSettings(),t=kf(i._databaseId);return new GD(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ww(i,e,t,r,o,l={}){const c=i.Cc(l.merge||l.mergeFields?2:0,e,t,o);Wg("Data must be an object, but it was:",c,r);const d=xw(r,c);let p,g;if(l.merge)p=new kn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const v of l.mergeFields){const w=Xp(e,v,t);if(!c.contains(w))throw new ce(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Cw(_,w)||_.push(w)}p=new kn(_),g=c.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,g=c.fieldTransforms;return new $D(new _n(d),p,g)}class Uf extends Yg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uf}}function Sw(i,e,t,r){const o=i.Cc(1,e,t);Wg("Data must be an object, but it was:",o,r);const l=[],c=_n.empty();xr(r,((p,g)=>{const _=Jg(e,p,t);g=jt(g);const v=o.yc(_);if(g instanceof Uf)l.push(_);else{const w=Gu(g,v);w!=null&&(l.push(_),c.set(_,w))}}));const d=new kn(l);return new bw(c,d,o.fieldTransforms)}function Aw(i,e,t,r,o,l){const c=i.Cc(1,e,t),d=[Xp(e,r,t)],p=[o];if(l.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Xp(e,l[w])),p.push(l[w+1]);const g=[],_=_n.empty();for(let w=d.length-1;w>=0;--w)if(!Cw(g,d[w])){const C=d[w];let V=p[w];V=jt(V);const j=c.yc(C);if(V instanceof Uf)g.push(C);else{const U=Gu(V,j);U!=null&&(g.push(C),_.set(C,U))}}const v=new kn(g);return new bw(_,v,c.fieldTransforms)}function KD(i,e,t,r=!1){return Gu(t,i.Cc(r?4:3,e))}function Gu(i,e){if(Rw(i=jt(i)))return Wg("Unsupported field value:",e,i),xw(i,e);if(i instanceof Yg)return(function(r,o){if(!Tw(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const l=[];let c=0;for(const d of r){let p=Gu(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(i,e)}return(function(r,o){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=nt.fromDate(r);return{timestampValue:uf(o.serializer,l)}}if(r instanceof nt){const l=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(o.serializer,l)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:zT(o.serializer,r._byteString)};if(r instanceof Mt){const l=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Vg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Bi)return(function(c,d){return{mapValue:{fields:{[pT]:{stringValue:gT},[rf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return kg(d.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Tf(r)}`)})(i,e)}function xw(i,e){const t={};return uT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(i,((r,o)=>{const l=Gu(o,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function Rw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof nt||i instanceof zi||i instanceof Kn||i instanceof Mt||i instanceof Yg||i instanceof Bi)}function Wg(i,e,t){if(!Rw(t)||!oT(t)){const r=Tf(t);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Xp(i,e,t){if((e=jt(e))instanceof $u)return e._internalPath;if(typeof e=="string")return Jg(i,e);throw df("Field path arguments must be of type string or ",i,!1,void 0,t)}const QD=new RegExp("[~\\*/\\[\\]]");function Jg(i,e,t){if(e.search(QD)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new $u(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function df(i,e,t,r,o){const l=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new ce(te.INVALID_ARGUMENT,d+i+p)}function Cw(i,e){return i.some((t=>t.isEqual(e)))}class Iw{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class YD extends Iw{data(){return super.data()}}function jf(i,e){return typeof e=="string"?Jg(i,e):e instanceof $u?e._internalPath:e._delegate._internalPath}function XD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zg{}class Nw extends Zg{}function eu(i,e,...t){let r=[];e instanceof Zg&&r.push(e),r=r.concat(t),(function(l){const c=l.filter((p=>p instanceof ey)).length,d=l.filter((p=>p instanceof zf)).length;if(c>1||c>0&&d>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class zf extends Nw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new zf(e,t,r)}_apply(e){const t=this._parse(e);return Ow(e._query,t),new wa(e.firestore,e.converter,Up(e._query,t))}_parse(e){const t=Pf(e.firestore);return(function(l,c,d,p,g,_,v){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){N1(v,_);const V=[];for(const j of v)V.push(I1(p,l,j));w={arrayValue:{values:V}}}else w=I1(p,l,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||N1(v,_),w=KD(d,c,v,_==="in"||_==="not-in");return kt.create(g,_,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function tu(i,e,t){const r=e,o=jf("where",i);return zf._create(o,r,t)}class ey extends Zg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ey(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)Ow(c,p),c=Up(c,p)})(e._query,t),new wa(e.firestore,e.converter,Up(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ty extends Nw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ty(e,t)}_apply(e){const t=(function(o,l,c){if(o.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xu(l,c)})(e._query,this._field,this._direction);return new wa(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new Fo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function fM(i,e="asc"){const t=e,r=jf("orderBy",i);return ty._create(r,t)}function I1(i,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ST(e)&&t.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rt.fromString(t));if(!_e.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GE(i,new _e(r))}if(t instanceof Mt)return GE(i,t._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(t)}.`)}function N1(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ow(i,e){const t=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class WD{convertValue(e,t="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return xr(e,((o,l)=>{r[o]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[rf].arrayValue?.values?.map((r=>bt(r.doubleValue)));return new Bi(t)}convertGeoPoint(e){return new zi(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Af(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const t=yr(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);Qe(GT(r),9688,{name:e});const o=new Su(r.get(1),r.get(3)),l=new _e(r.popFirst(5));return o.isEqual(t)||Es(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function kw(i,e,t){let r;return r=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,r}class lu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends Iw{constructor(e,t,r,o,l,c){super(e,t,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ca._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Dt("string",ca._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Fh extends ca{data(e={}){return super.data(e)}}class Ro{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new lu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Fh(this._firestore,this._userDataWriter,r.key,r,new lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new Fh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new lu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new Fh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new lu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:JD(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:i})}}function ZD(i){i=Hi(i,Mt);const e=Hi(i.firestore,Sa);return jD(Lf(e),i._key).then((t=>e4(e,i,t)))}Ro._jsonSchemaVersion="firestore/querySnapshot/1.0",Ro._jsonSchema={type:Dt("string",Ro._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Dw extends WD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}function yo(i){i=Hi(i,wa);const e=Hi(i.firestore,Sa),t=Lf(e),r=new Dw(e);return XD(i._query),zD(t,i._query).then((o=>new Ro(e,r,i,o)))}function dM(i,e,t,...r){i=Hi(i,Mt);const o=Hi(i.firestore,Sa),l=Pf(o);let c;return c=typeof(e=jt(e))=="string"||e instanceof $u?Aw(l,"updateDoc",i._key,e,t,r):Sw(l,"updateDoc",i._key,e),Bf(o,[c.toMutation(i._key,En.exists(!0))])}function mM(i){return Bf(Hi(i.firestore,Sa),[new Nf(i._key,En.none())])}function O1(i,e){const t=Hi(i.firestore,Sa),r=Yp(i),o=kw(i.converter,e);return Bf(t,[ww(Pf(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,En.exists(!1))]).then((()=>r))}function Bf(i,e){return(function(r,o){const l=new gs;return r.asyncQueue.enqueueAndForget((async()=>RD(await UD(r),o,l))),l.promise})(Lf(i),e)}function e4(i,e,t){const r=t.docs.get(e._key),o=new Dw(i);return new ca(i,o,e._key,r,new lu(t.hasPendingWrites,t.fromCache),e.converter)}class t4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Pf(e)}set(e,t,r){this._verifyNotCommitted();const o=mp(e,this._firestore),l=kw(o.converter,t,r),c=ww(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,r);return this._mutations.push(c.toMutation(o._key,En.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=mp(e,this._firestore);let c;return c=typeof(t=jt(t))=="string"||t instanceof $u?Aw(this._dataReader,"WriteBatch.update",l._key,t,r,o):Sw(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,En.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mp(e,this._firestore);return this._mutations=this._mutations.concat(new Nf(t._key,En.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mp(i,e){if((i=jt(i)).firestore!==e)throw new ce(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function n4(i){return Lf(i=Hi(i,Sa)),new t4(i,(e=>Bf(i,e)))}(function(e,t=!0){(function(o){Bo=o})(jo),Io(new ma("firestore",((r,{instanceIdentifier:o,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Sa(new QN(r.getProvider("auth-internal")),new WN(c,r.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(g.options.projectId,_)})(c,o),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),dr(DE,ME,e),dr(DE,ME,"esm2020")})();const i4={apiKey:"AIzaSyCKg4ExR8A3TG_fANa_XOOYVRdTLK-H7pA",authDomain:"daemasjib.firebaseapp.com",projectId:"daemasjib",storageBucket:"daemasjib.firebasestorage.app",messagingSenderId:"555147984752",appId:"1:555147984752:web:486a6fca116dbf924759b5"},Mw=pb(i4),_o=HN(Mw),oi=HD(Mw),nu={async registerWithEmail(i,e){return(await RI(_o,i,e)).user},async loginWithEmail(i,e){return(await CI(_o,i,e)).user},async loginWithGoogle(){const i=new hs;return(await WI(_o,i)).user},async logout(){await OI(_o)},getCurrentUser(){return _o.currentUser},onAuthStateChanged(i){return _o.onAuthStateChanged(i)}},Cr=()=>{const[i,e]=P.useState(null),[t,r]=P.useState(!0),[o,l]=P.useState(null);return P.useEffect(()=>{const _=nu.onAuthStateChanged(v=>{e(v),r(!1)});return()=>{_()}},[]),{user:i,loading:t,error:o,register:async(_,v)=>{try{return l(null),r(!0),await nu.registerWithEmail(_,v)}catch(w){throw l(w.message),w}finally{r(!1)}},login:async(_,v)=>{try{return l(null),r(!0),await nu.loginWithEmail(_,v)}catch(w){throw console.error("[useAuth] Login error:",w),l(w.message),w}finally{r(!1)}},loginWithGoogle:async()=>{try{return l(null),r(!0),await nu.loginWithGoogle()}catch(_){throw l(_.message),_}finally{r(!1)}},logout:async()=>{try{l(null),r(!0),await nu.logout()}catch(_){throw l(_.message),_}finally{r(!1)}}}},Wp=({type:i,children:e,onClose:t,className:r=""})=>{const o={success:"alert-success",error:"alert-error",warning:"alert-warning",info:"alert-info"};return T.jsxs("div",{className:`alert ${o[i]} ${r}`,role:"alert",children:[T.jsx("span",{className:"text-sm md:text-base",children:e}),t&&T.jsx("button",{onClick:t,className:"btn btn-sm btn-ghost btn-circle","aria-label":"Close",children:""})]})};const s4=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r4=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),k1=i=>{const e=r4(i);return e.charAt(0).toUpperCase()+e.slice(1)},Vw=(...i)=>i.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),a4=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var o4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const l4=P.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...d},p)=>P.createElement("svg",{ref:p,...o4,width:e,height:e,stroke:i,strokeWidth:r?Number(t)*24/Number(e):t,className:Vw("lucide",o),...!l&&!a4(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,_])=>P.createElement(g,_)),...Array.isArray(l)?l:[l]]));const dt=(i,e)=>{const t=P.forwardRef(({className:r,...o},l)=>P.createElement(l4,{ref:l,iconNode:e,className:Vw(`lucide-${s4(k1(i))}`,`lucide-${i}`,r),...o}));return t.displayName=k1(i),t};const u4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],c4=dt("arrow-left",u4);const h4=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Iu=dt("bookmark",h4);const f4=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],d4=dt("cake",f4);const m4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],p4=dt("calendar",m4);const g4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],y4=dt("chevron-left",g4);const _4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],v4=dt("chevron-right",_4);const E4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Jp=dt("clock",E4);const b4=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],T4=dt("coffee",b4);const w4=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],S4=dt("earth",w4);const A4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Lw=dt("file-text",A4);const x4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],R4=dt("globe",x4);const C4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],I4=dt("house",C4);const N4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Co=dt("map-pin",N4);const O4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],k4=dt("pen",O4);const D4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Pw=dt("phone",D4);const M4=[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]],V4=dt("pizza",M4);const L4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],P4=dt("search",L4);const U4=[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]],j4=dt("soup",U4);const z4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Nu=dt("star",z4);const B4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Uw=dt("trash-2",B4);const H4=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],D1=dt("utensils-crossed",H4);const q4=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],On=dt("utensils",q4);const F4=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],$4=dt("wine",F4);const G4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zp=dt("x",G4),jw=()=>{const{i18n:i}=Ss(),e=()=>{const t=i.language==="ko"?"en":"ko";i.changeLanguage(t)};return T.jsxs("button",{onClick:e,className:"flex items-center gap-1.5 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors text-gray-700 font-medium","aria-label":"Switch language",children:[T.jsx(R4,{className:"w-4 h-4"}),T.jsx("span",{className:"text-sm",children:i.language==="ko"?"EN":"KO"})]})};function zw(i){var e,t,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(t=zw(i[e]))&&(r&&(r+=" "),r+=t)}else for(t in i)i[t]&&(r&&(r+=" "),r+=t);return r}function ha(){for(var i,e,t=0,r="",o=arguments.length;t<o;t++)(i=arguments[t])&&(e=zw(i))&&(r&&(r+=" "),r+=e);return r}function K4(i){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i))}K4(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ku=i=>typeof i=="number"&&!isNaN(i),va=i=>typeof i=="string",Ts=i=>typeof i=="function",Q4=i=>va(i)||Ku(i),eg=i=>va(i)||Ts(i)?i:null,Y4=(i,e)=>i===!1||Ku(i)&&i>0?i:e,tg=i=>P.isValidElement(i)||va(i)||Ts(i)||Ku(i);function X4(i,e,t=300){let{scrollHeight:r,style:o}=i;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function W4({enter:i,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:l,position:c,preventExitTransition:d,done:p,nodeRef:g,isIn:_,playToast:v}){let w=t?`${i}--${c}`:i,C=t?`${e}--${c}`:e,V=P.useRef(0);return P.useLayoutEffect(()=>{let j=g.current,U=w.split(" "),H=B=>{B.target===g.current&&(v(),j.removeEventListener("animationend",H),j.removeEventListener("animationcancel",H),V.current===0&&B.type!=="animationcancel"&&j.classList.remove(...U))};j.classList.add(...U),j.addEventListener("animationend",H),j.addEventListener("animationcancel",H)},[]),P.useEffect(()=>{let j=g.current,U=()=>{j.removeEventListener("animationend",U),r?X4(j,p,o):p()};_||(d?U():(V.current=1,j.className+=` ${C}`,j.addEventListener("animationend",U)))},[_]),lt.createElement(lt.Fragment,null,l)}}function M1(i,e){return{content:Bw(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:e}}function Bw(i,e,t=!1){return P.isValidElement(i)&&!va(i.type)?P.cloneElement(i,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Ts(i)?i({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):i}function J4({closeToast:i,theme:e,ariaLabel:t="close"}){return lt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),i(!0)},"aria-label":t},lt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},lt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Z4({delay:i,isRunning:e,closeToast:t,type:r="default",hide:o,className:l,controlledProgress:c,progress:d,rtl:p,isIn:g,theme:_}){let v=o||c&&d===0,w={animationDuration:`${i}ms`,animationPlayState:e?"running":"paused"};c&&(w.transform=`scaleX(${d})`);let C=ha("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":p}),V=Ts(l)?l({rtl:p,type:r,defaultClassName:C}):ha(C,l),j={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{g&&t()}};return lt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},lt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${r}`}),lt.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:V,style:w,...j}))}var e3=1,Hw=()=>`${e3++}`;function t3(i,e,t){let r=1,o=0,l=[],c=[],d=e,p=new Map,g=new Set,_=B=>(g.add(B),()=>g.delete(B)),v=()=>{c=Array.from(p.values()),g.forEach(B=>B())},w=({containerId:B,toastId:$,updateId:re})=>{let he=B?B!==i:i!==1,fe=p.has($)&&re==null;return he||fe},C=(B,$)=>{p.forEach(re=>{var he;($==null||$===re.props.toastId)&&((he=re.toggle)==null||he.call(re,B))})},V=B=>{var $,re;(re=($=B.props)==null?void 0:$.onClose)==null||re.call($,B.removalReason),B.isActive=!1},j=B=>{if(B==null)p.forEach(V);else{let $=p.get(B);$&&V($)}v()},U=()=>{o-=l.length,l=[]},H=B=>{var $,re;let{toastId:he,updateId:fe}=B.props,R=fe==null;B.staleId&&p.delete(B.staleId),B.isActive=!0,p.set(he,B),v(),t(M1(B,R?"added":"updated")),R&&((re=($=B.props).onOpen)==null||re.call($))};return{id:i,props:d,observe:_,toggle:C,removeToast:j,toasts:p,clearQueue:U,buildToast:(B,$)=>{if(w($))return;let{toastId:re,updateId:he,data:fe,staleId:R,delay:x}=$,I=he==null;I&&o++;let k={...d,style:d.toastStyle,key:r++,...Object.fromEntries(Object.entries($).filter(([z,N])=>N!=null)),toastId:re,updateId:he,data:fe,isIn:!1,className:eg($.className||d.toastClassName),progressClassName:eg($.progressClassName||d.progressClassName),autoClose:$.isLoading?!1:Y4($.autoClose,d.autoClose),closeToast(z){p.get(re).removalReason=z,j(re)},deleteToast(){let z=p.get(re);if(z!=null){if(t(M1(z,"removed")),p.delete(re),o--,o<0&&(o=0),l.length>0){H(l.shift());return}v()}}};k.closeButton=d.closeButton,$.closeButton===!1||tg($.closeButton)?k.closeButton=$.closeButton:$.closeButton===!0&&(k.closeButton=tg(d.closeButton)?d.closeButton:!0);let M={content:B,props:k,staleId:R};d.limit&&d.limit>0&&o>d.limit&&I?l.push(M):Ku(x)?setTimeout(()=>{H(M)},x):H(M)},setProps(B){d=B},setToggle:(B,$)=>{let re=p.get(B);re&&(re.toggle=$)},isToastActive:B=>{var $;return($=p.get(B))==null?void 0:$.isActive},getSnapshot:()=>c}}var ln=new Map,Ou=[],ng=new Set,n3=i=>ng.forEach(e=>e(i)),qw=()=>ln.size>0;function i3(){Ou.forEach(i=>$w(i.content,i.options)),Ou=[]}var s3=(i,{containerId:e})=>{var t;return(t=ln.get(e||1))==null?void 0:t.toasts.get(i)};function Fw(i,e){var t;if(e)return!!((t=ln.get(e))!=null&&t.isToastActive(i));let r=!1;return ln.forEach(o=>{o.isToastActive(i)&&(r=!0)}),r}function r3(i){if(!qw()){Ou=Ou.filter(e=>i!=null&&e.options.toastId!==i);return}if(i==null||Q4(i))ln.forEach(e=>{e.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let e=ln.get(i.containerId);e?e.removeToast(i.id):ln.forEach(t=>{t.removeToast(i.id)})}}var a3=(i={})=>{ln.forEach(e=>{e.props.limit&&(!i.containerId||e.id===i.containerId)&&e.clearQueue()})};function $w(i,e){tg(i)&&(qw()||Ou.push({content:i,options:e}),ln.forEach(t=>{t.buildToast(i,e)}))}function o3(i){var e;(e=ln.get(i.containerId||1))==null||e.setToggle(i.id,i.fn)}function Gw(i,e){ln.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(i,e?.id)})}function l3(i){let e=i.containerId||1;return{subscribe(t){let r=t3(e,i,n3);ln.set(e,r);let o=r.observe(t);return i3(),()=>{o(),ln.delete(e)}},setProps(t){var r;(r=ln.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=ln.get(e))==null?void 0:t.getSnapshot()}}}function u3(i){return ng.add(i),()=>{ng.delete(i)}}function c3(i){return i&&(va(i.toastId)||Ku(i.toastId))?i.toastId:Hw()}function Qu(i,e){return $w(i,e),e.toastId}function Hf(i,e){return{...e,type:e&&e.type||i,toastId:c3(e)}}function qf(i){return(e,t)=>Qu(e,Hf(i,t))}function Ee(i,e){return Qu(i,Hf("default",e))}Ee.loading=(i,e)=>Qu(i,Hf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function h3(i,{pending:e,error:t,success:r},o){let l;e&&(l=va(e)?Ee.loading(e,o):Ee.loading(e.render,{...o,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,_,v)=>{if(_==null){Ee.dismiss(l);return}let w={type:g,...c,...o,data:v},C=va(_)?{render:_}:_;return l?Ee.update(l,{...w,...C}):Ee(C.render,{...w,...C}),v},p=Ts(i)?i():i;return p.then(g=>d("success",r,g)).catch(g=>d("error",t,g)),p}Ee.promise=h3;Ee.success=qf("success");Ee.info=qf("info");Ee.error=qf("error");Ee.warning=qf("warning");Ee.warn=Ee.warning;Ee.dark=(i,e)=>Qu(i,Hf("default",{theme:"dark",...e}));function f3(i){r3(i)}Ee.dismiss=f3;Ee.clearWaitingQueue=a3;Ee.isActive=Fw;Ee.update=(i,e={})=>{let t=s3(i,e);if(t){let{props:r,content:o}=t,l={delay:100,...r,...e,toastId:e.toastId||i,updateId:Hw()};l.toastId!==i&&(l.staleId=i);let c=l.render||o;delete l.render,Qu(c,l)}};Ee.done=i=>{Ee.update(i,{progress:1})};Ee.onChange=u3;Ee.play=i=>Gw(!0,i);Ee.pause=i=>Gw(!1,i);function d3(i){var e;let{subscribe:t,getSnapshot:r,setProps:o}=P.useRef(l3(i)).current;o(i);let l=(e=P.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function c(d){if(!l)return[];let p=new Map;return i.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:_}=g.props;p.has(_)||p.set(_,[]),p.get(_).push(g)}),Array.from(p,g=>d(g[0],g[1]))}return{getToastToRender:c,isToastActive:Fw,count:l?.length}}function m3(i){let[e,t]=P.useState(!1),[r,o]=P.useState(!1),l=P.useRef(null),c=P.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:g,onClick:_,closeOnClick:v}=i;o3({id:i.toastId,containerId:i.containerId,fn:t}),P.useEffect(()=>{if(i.pauseOnFocusLoss)return w(),()=>{C()}},[i.pauseOnFocusLoss]);function w(){document.hasFocus()||H(),window.addEventListener("focus",U),window.addEventListener("blur",H)}function C(){window.removeEventListener("focus",U),window.removeEventListener("blur",H)}function V(R){if(i.draggable===!0||i.draggable===R.pointerType){B();let x=l.current;c.canCloseOnClick=!0,c.canDrag=!0,x.style.transition="none",i.draggableDirection==="x"?(c.start=R.clientX,c.removalDistance=x.offsetWidth*(i.draggablePercent/100)):(c.start=R.clientY,c.removalDistance=x.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function j(R){let{top:x,bottom:I,left:k,right:M}=l.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&i.pauseOnHover&&R.clientX>=k&&R.clientX<=M&&R.clientY>=x&&R.clientY<=I?H():U()}function U(){t(!0)}function H(){t(!1)}function B(){c.didMove=!1,document.addEventListener("pointermove",re),document.addEventListener("pointerup",he)}function $(){document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",he)}function re(R){let x=l.current;if(c.canDrag&&x){c.didMove=!0,e&&H(),i.draggableDirection==="x"?c.delta=R.clientX-c.start:c.delta=R.clientY-c.start,c.start!==R.clientX&&(c.canCloseOnClick=!1);let I=i.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;x.style.transform=`translate3d(${I},0)`,x.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function he(){$();let R=l.current;if(c.canDrag&&c.didMove&&R){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){o(!0),i.closeToast(!0),i.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let fe={onPointerDown:V,onPointerUp:j};return d&&p&&(fe.onMouseEnter=H,i.stacked||(fe.onMouseLeave=U)),v&&(fe.onClick=R=>{_&&_(R),c.canCloseOnClick&&g(!0)}),{playToast:U,pauseToast:H,isRunning:e,preventExitTransition:r,toastRef:l,eventHandlers:fe}}var p3=typeof window<"u"?P.useLayoutEffect:P.useEffect,Ff=({theme:i,type:e,isLoading:t,...r})=>lt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function g3(i){return lt.createElement(Ff,{...i},lt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function y3(i){return lt.createElement(Ff,{...i},lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function _3(i){return lt.createElement(Ff,{...i},lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function v3(i){return lt.createElement(Ff,{...i},lt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function E3(){return lt.createElement("div",{className:"Toastify__spinner"})}var ig={info:y3,warning:g3,success:_3,error:v3,spinner:E3},b3=i=>i in ig;function T3({theme:i,type:e,isLoading:t,icon:r}){let o=null,l={theme:i,type:e};return r===!1||(Ts(r)?o=r({...l,isLoading:t}):P.isValidElement(r)?o=P.cloneElement(r,l):t?o=ig.spinner():b3(e)&&(o=ig[e](l))),o}var w3=i=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:o,playToast:l}=m3(i),{closeButton:c,children:d,autoClose:p,onClick:g,type:_,hideProgressBar:v,closeToast:w,transition:C,position:V,className:j,style:U,progressClassName:H,updateId:B,role:$,progress:re,rtl:he,toastId:fe,deleteToast:R,isIn:x,isLoading:I,closeOnClick:k,theme:M,ariaLabel:z}=i,N=ha("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":he},{"Toastify__toast--close-on-click":k}),Oe=Ts(j)?j({rtl:he,position:V,type:_,defaultClassName:N}):ha(N,j),it=T3(i),X=!!re||!p,oe={closeToast:w,type:_,theme:M},me=null;return c===!1||(Ts(c)?me=c(oe):P.isValidElement(c)?me=P.cloneElement(c,oe):me=J4(oe)),lt.createElement(C,{isIn:x,done:R,position:V,preventExitTransition:t,nodeRef:r,playToast:l},lt.createElement("div",{id:fe,tabIndex:0,onClick:g,"data-in":x,className:Oe,...o,style:U,ref:r,...x&&{role:$,"aria-label":z}},it!=null&&lt.createElement("div",{className:ha("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},it),Bw(d,i,!e),me,!i.customProgressBar&&lt.createElement(Z4,{...B&&!X?{key:`p-${B}`}:{},rtl:he,theme:M,delay:p,isRunning:e,isIn:x,closeToast:w,hide:v,type:_,className:H,controlledProgress:X,progress:re||0})))},S3=(i,e=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:e}),A3=W4(S3("bounce",!0)),x3={position:"top-right",transition:A3,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function R3(i){let e={...x3,...i},t=i.stacked,[r,o]=P.useState(!0),l=P.useRef(null),{getToastToRender:c,isToastActive:d,count:p}=d3(e),{className:g,style:_,rtl:v,containerId:w,hotKeys:C}=e;function V(U){let H=ha("Toastify__toast-container",`Toastify__toast-container--${U}`,{"Toastify__toast-container--rtl":v});return Ts(g)?g({position:U,rtl:v,defaultClassName:H}):ha(H,eg(g))}function j(){t&&(o(!0),Ee.play())}return p3(()=>{var U;if(t){let H=l.current.querySelectorAll('[data-in="true"]'),B=12,$=(U=e.position)==null?void 0:U.includes("top"),re=0,he=0;Array.from(H).reverse().forEach((fe,R)=>{let x=fe;x.classList.add("Toastify__toast--stacked"),R>0&&(x.dataset.collapsed=`${r}`),x.dataset.pos||(x.dataset.pos=$?"top":"bot");let I=re*(r?.2:1)+(r?0:B*R);x.style.setProperty("--y",`${$?I:I*-1}px`),x.style.setProperty("--g",`${B}`),x.style.setProperty("--s",`${1-(r?he:0)}`),re+=x.offsetHeight,he+=.025})}},[r,p,t]),P.useEffect(()=>{function U(H){var B;let $=l.current;C(H)&&((B=$.querySelector('[tabIndex="0"]'))==null||B.focus(),o(!1),Ee.pause()),H.key==="Escape"&&(document.activeElement===$||$!=null&&$.contains(document.activeElement))&&(o(!0),Ee.play())}return document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}},[C]),lt.createElement("section",{ref:l,className:"Toastify",id:w,onMouseEnter:()=>{t&&(o(!1),Ee.pause())},onMouseLeave:j,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((U,H)=>{let B=H.length?{..._}:{..._,pointerEvents:"none"};return lt.createElement("div",{tabIndex:-1,className:V(U),"data-stacked":t,style:B,key:`c-${U}`},H.map(({content:$,props:re})=>lt.createElement(w3,{...re,stacked:t,collapseAll:j,isIn:d(re.toastId,re.containerId),key:`t-${re.key}`},$)))}))}const ny=()=>{const i=Tr(),e=ws(),{t}=Ss(),{user:r,loading:o,logout:l}=Cr(),c=g=>e.pathname===g,d=[{path:"/",label:t("home.title"),icon:I4},{path:"/visits",label:t("home.visitRecord"),icon:Nu},{path:"/bookmarks",label:t("home.bookmarks"),icon:Iu}],p=g=>{if(g!=="/"&&!r){Ee.warning(t("toast.loginRequired")),i("/auth");return}i(g)};return T.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[T.jsx(On,{className:"w-6 h-6 sm:w-8 sm:h-8 text-orange-500"}),T.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-800 whitespace-nowrap",children:t("app.title")})]}),T.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[d.map(({path:g,label:_,icon:v})=>T.jsxs("button",{onClick:()=>p(g),className:`hidden sm:flex items-center gap-1.5 px-3 py-2 rounded-lg transition-all font-medium min-w-[80px] justify-center ${c(g)?"bg-orange-500 text-white shadow-md":"text-gray-700 hover:bg-orange-50"}`,children:[T.jsx(v,{className:`w-4 h-4 ${c(g)?"text-white":"text-orange-500"}`}),T.jsx("span",{className:"text-sm",children:_})]},g)),T.jsx(jw,{}),o?T.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gray-200 animate-pulse"}):r?T.jsxs("div",{className:"dropdown dropdown-end",children:[T.jsx("label",{tabIndex:0,className:"cursor-pointer",children:T.jsx("div",{className:"bg-orange-500 text-white rounded-full w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center hover:bg-orange-600 transition-colors",children:T.jsx("span",{className:"text-base sm:text-lg font-semibold",children:r.email?.[0].toUpperCase()})})}),T.jsx("ul",{tabIndex:0,className:"mt-3 z-100 p-2 shadow-lg menu dropdown-content bg-white rounded-xl w-52 border border-gray-200",children:T.jsx("li",{children:T.jsx("a",{onClick:l,className:"text-sm text-red-500 hover:bg-red-50",children:t("auth.logout")})})})]}):T.jsx("button",{className:"flex items-center gap-1 sm:gap-1.5 px-3 sm:px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors font-medium",onClick:()=>i("/auth"),children:T.jsx("span",{className:"text-xs sm:text-sm",children:t("auth.login")})})]})]})})})},C3=()=>{const[i,e]=P.useState(""),[t,r]=P.useState(""),{login:o,loading:l,error:c}=Cr(),{t:d}=Ss(),p=async g=>{g.preventDefault();try{await o(i,t)}catch(_){console.error("[LoginForm] Login failed:",_)}};return T.jsxs(T.Fragment,{children:[c&&T.jsx(Wp,{type:"error",className:"mb-4",children:d("auth.errors.loginFailed")}),T.jsxs("form",{onSubmit:p,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d("auth.email")}),T.jsx("input",{type:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm sm:text-base text-gray-900 placeholder-gray-500",value:i,onChange:g=>e(g.target.value),required:!0,disabled:l,placeholder:d("auth.email")})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d("auth.password")}),T.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm sm:text-base text-gray-900 placeholder-gray-500",value:t,onChange:g=>r(g.target.value),required:!0,disabled:l,placeholder:d("auth.password")})]}),T.jsx("button",{type:"submit",className:"w-full py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm sm:text-base",disabled:l,children:l?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),d("auth.loggingIn")]}):d("auth.loginButton")})]})]})},I3=()=>{const[i,e]=P.useState(""),[t,r]=P.useState(""),[o,l]=P.useState(""),[c,d]=P.useState(!1),{register:p,loading:g,error:_}=Cr(),{t:v}=Ss(),w=async C=>{if(C.preventDefault(),d(!1),t!==o){d(!0);return}try{await p(i,t)}catch(V){console.error("Register failed:",V)}};return T.jsxs(T.Fragment,{children:[_&&T.jsx(Wp,{type:"error",className:"mb-4",children:v("auth.errors.registerFailed")}),c&&T.jsx(Wp,{type:"error",className:"mb-4",children:v("auth.errors.passwordMismatch")}),T.jsxs("form",{onSubmit:w,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:v("auth.email")}),T.jsx("input",{type:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm sm:text-base text-gray-900 placeholder-gray-500",value:i,onChange:C=>e(C.target.value),required:!0,disabled:g,placeholder:v("auth.email")})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:v("auth.password")}),T.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm sm:text-base text-gray-900 placeholder-gray-500",value:t,onChange:C=>r(C.target.value),required:!0,disabled:g,minLength:6,placeholder:v("auth.password")})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:v("auth.confirmPassword")}),T.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all text-sm sm:text-base text-gray-900 placeholder-gray-500",value:o,onChange:C=>l(C.target.value),required:!0,disabled:g,minLength:6,placeholder:v("auth.confirmPassword")})]}),T.jsx("button",{type:"submit",className:"w-full py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm sm:text-base",disabled:g,children:g?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),v("auth.registering")]}):v("auth.registerButton")})]})]})},N3=()=>{const[i,e]=P.useState("login"),{t}=Ss(),{user:r,loading:o}=Cr(),l=Tr();return P.useEffect(()=>{!o&&r&&l("/",{replace:!0})},[r,o,l]),T.jsx("div",{className:"min-h-screen bg-linear-to-b from-orange-50 to-white flex items-center justify-center p-4",children:T.jsxs("div",{className:"w-full max-w-md",children:[T.jsx("div",{className:"flex justify-end mb-4",children:T.jsx(jw,{})}),T.jsxs("div",{className:"text-center mb-8",children:[T.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[T.jsx(On,{className:"w-10 h-10 sm:w-12 sm:h-12 text-orange-500"}),T.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-800",children:t("app.title")})]}),T.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:t("app.subtitle")})]}),T.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[T.jsxs("div",{className:"flex border-b border-gray-200",children:[T.jsx("button",{className:`flex-1 py-3 sm:py-4 text-sm sm:text-base font-medium transition-colors ${i==="login"?"bg-orange-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,onClick:()=>e("login"),children:t("auth.login")}),T.jsx("button",{className:`flex-1 py-3 sm:py-4 text-sm sm:text-base font-medium transition-colors ${i==="register"?"bg-orange-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,onClick:()=>e("register"),children:t("auth.register")})]}),T.jsx("div",{className:"p-6 sm:p-8",children:i==="login"?T.jsx(C3,{}):T.jsx(I3,{})})]}),T.jsx("div",{className:"text-center mt-6",children:T.jsx("button",{onClick:()=>l("/"),className:"text-sm text-gray-600 hover:text-orange-500 transition-colors",children:t("auth.backToHome")})})]})})},O3="modulepreload",k3=function(i){return"/daemasjib/"+i},V1={},vn=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let p=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");o=p(t.map(g=>{if(g=k3(g),g in V1)return;V1[g]=!0;const _=g.endsWith(".css"),v=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const w=document.createElement("link");if(w.rel=_?"stylesheet":O3,_||(w.as="script"),w.crossOrigin="",w.href=g,d&&w.setAttribute("nonce",d),document.head.appendChild(w),_)return new Promise((C,V)=>{w.addEventListener("load",C),w.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},D3=["","","","","","","",""],M3=["/","","","","/"," ","",""],kh={"/":{gradient:"from-pink-400 to-pink-600",icon:d4,bgLight:"bg-pink-50",textColor:"text-pink-700"},:{gradient:"from-red-400 to-red-600",icon:D1,bgLight:"bg-red-50",textColor:"text-red-700"},:{gradient:"from-orange-400 to-orange-600",icon:j4,bgLight:"bg-orange-50",textColor:"text-orange-700"},:{gradient:"from-yellow-500 to-yellow-700",icon:D1,bgLight:"bg-yellow-50",textColor:"text-yellow-800"},"/":{gradient:"from-amber-500 to-amber-700",icon:T4,bgLight:"bg-amber-50",textColor:"text-amber-800"}," ":{gradient:"from-purple-400 to-purple-600",icon:$4,bgLight:"bg-purple-50",textColor:"text-purple-700"},:{gradient:"from-blue-400 to-blue-600",icon:V4,bgLight:"bg-blue-50",textColor:"text-blue-700"},:{gradient:"from-green-400 to-green-600",icon:S4,bgLight:"bg-green-50",textColor:"text-green-700"}},pp=28,V3=()=>{const{user:i}=Cr(),e=Tr(),{t}=Ss(),[r,o]=P.useState(""),[l,c]=P.useState([]),[d,p]=P.useState([]),[g,_]=P.useState(!0),[v,w]=P.useState([]),[C,V]=P.useState(1),[j,U]=P.useState(null),[H,B]=P.useState(!1),[$,re]=P.useState(!1),[he,fe]=P.useState(5),[R,x]=P.useState("");P.useEffect(()=>{I()},[]);const I=async()=>{try{_(!0);const{restaurantService:ie}=await vn(async()=>{const{restaurantService:J}=await Promise.resolve().then(()=>$f);return{restaurantService:J}},[]),O=await ie.getAllRestaurants();w(O)}catch(ie){console.error("Failed to load restaurants:",ie)}finally{_(!1)}},k=ie=>{c(O=>O.includes(ie)?O.filter(J=>J!==ie):[...O,ie])},M=ie=>{p(O=>O.includes(ie)?O.filter(J=>J!==ie):[...O,ie])},z=v.filter(ie=>{const O=!r||ie.name.toLowerCase().includes(r.toLowerCase()),J=l.length===0||l.includes(ie.region),ae=d.length===0||d.some(ue=>ie.category?.includes(ue));return O&&J&&ae}),N=Math.ceil(z.length/pp),Oe=(C-1)*pp,it=Oe+pp,X=z.slice(Oe,it);P.useEffect(()=>{V(1)},[r,l,d]);const oe=ie=>{if(!ie)return kh.;const O=Object.keys(kh).find(J=>ie.includes(J));return O?kh[O]:kh.},me=ie=>{U(ie),B(!0)},De=()=>{B(!1),setTimeout(()=>U(null),300)};return T.jsxs("div",{className:"min-h-screen bg-linear-to-b from-orange-50 to-white",children:[T.jsx(ny,{}),T.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[T.jsxs("div",{className:"mb-8",children:[T.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[T.jsxs("div",{className:"relative mb-6",children:[T.jsx(P4,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),T.jsx("input",{type:"text",placeholder:t("home.searchPlaceholder"),className:"w-full pl-12 pr-4 py-4 text-lg border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors text-gray-900 placeholder-gray-500",value:r,onChange:ie=>o(ie.target.value)})]}),T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[T.jsx(Co,{className:"w-5 h-5 text-orange-500"}),T.jsx("h3",{className:"font-semibold text-gray-700",children:t("home.region")})]}),T.jsx("div",{className:"flex flex-wrap gap-2",children:D3.map(ie=>T.jsx("button",{onClick:()=>k(ie),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${l.includes(ie)?"bg-orange-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ie},ie))})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[T.jsx(On,{className:"w-5 h-5 text-orange-500"}),T.jsx("h3",{className:"font-semibold text-gray-700",children:t("home.category")})]}),T.jsx("div",{className:"flex flex-wrap gap-2",children:M3.map(ie=>T.jsx("button",{onClick:()=>M(ie),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${d.includes(ie)?"bg-orange-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ie},ie))})]})]}),T.jsx("div",{className:"text-gray-600 mb-4",children:t("home.totalRestaurants",{count:z.length})})]}),g?T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-5",children:Array.from({length:8}).map((ie,O)=>T.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[T.jsx("div",{className:"h-32 sm:h-40 bg-gray-200 animate-pulse"}),T.jsxs("div",{className:"p-4 space-y-3",children:[T.jsx("div",{className:"h-5 bg-gray-200 rounded animate-pulse w-3/4"}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-full"}),T.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-5/6"}),T.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-4/6"})]}),T.jsx("div",{className:"h-6 bg-gray-200 rounded-full animate-pulse w-20"})]})]},O))}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-5",children:X.map(ie=>{const O=oe(ie.category),J=O.icon;return T.jsxs("div",{onClick:()=>me(ie),className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden group",children:[T.jsx("div",{className:`h-32 sm:h-40 bg-linear-to-br ${O.gradient} flex items-center justify-center`,children:T.jsx(J,{className:"w-12 h-12 sm:w-16 sm:h-16 text-white opacity-50 group-hover:scale-110 transition-transform"})}),T.jsxs("div",{className:"p-3 sm:p-4",children:[T.jsx("h3",{className:"font-bold text-base sm:text-lg mb-2 text-gray-800 line-clamp-1",children:ie.name}),T.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm text-gray-600",children:[ie.category&&T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(On,{className:`w-3 h-3 sm:w-4 sm:h-4 ${O.textColor}`}),T.jsx("span",{className:"line-clamp-1",children:ie.category})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(Co,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500"}),T.jsx("span",{className:"line-clamp-1",children:ie.address})]}),ie.businessHours&&T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(Jp,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500"}),T.jsx("span",{className:"line-clamp-1",children:ie.businessHours})]})]}),T.jsx("div",{className:"mt-2 sm:mt-3 flex gap-2",children:T.jsx("span",{className:`px-2 sm:px-3 py-0.5 sm:py-1 ${O.bgLight} ${O.textColor} text-xs font-medium rounded-full`,children:ie.region})})]})]},ie.id)})}),N>1&&T.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[T.jsx("button",{onClick:()=>V(ie=>Math.max(1,ie-1)),disabled:C===1,className:"p-2 rounded-lg bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",children:T.jsx(y4,{className:"w-5 h-5 text-gray-700"})}),T.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:Array.from({length:N},(ie,O)=>O+1).filter(ie=>ie===1||ie===N||Math.abs(C-ie)<=2).map((ie,O,J)=>T.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[O>0&&J[O-1]!==ie-1&&T.jsx("span",{className:"text-gray-400 text-sm",children:"..."}),T.jsx("button",{onClick:()=>V(ie),className:`w-8 h-8 sm:w-10 sm:h-10 rounded-lg text-sm sm:text-base font-medium transition-colors ${C===ie?"bg-orange-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:ie})]},ie))}),T.jsx("button",{onClick:()=>V(ie=>Math.min(N,ie+1)),disabled:C===N,className:"p-2 rounded-lg bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",children:T.jsx(v4,{className:"w-5 h-5 text-gray-700"})})]})]}),z.length===0&&!g&&T.jsxs("div",{className:"text-center py-12 sm:py-20",children:[T.jsx(On,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-500 text-base sm:text-lg",children:t("home.noResults")})]})]}),T.jsx("div",{className:`fixed top-0 right-0 h-full w-full sm:w-[500px] lg:w-[600px] bg-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out overflow-y-auto ${H?"translate-x-0":"translate-x-full"}`,children:j&&T.jsxs("div",{className:"p-6",children:[T.jsx("button",{onClick:De,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":t("home.close"),children:T.jsx(Zp,{className:"w-6 h-6 text-gray-600"})}),T.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-6 pr-12",children:j.name}),T.jsxs("div",{className:"space-y-5",children:[j.category&&T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(On,{className:"w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t("home.categoryLabel")}),T.jsx("p",{className:"text-gray-800",children:j.category})]})]}),T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(Co,{className:"w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t("home.address")}),T.jsx("p",{className:"text-gray-800",children:j.address})]})]}),j.phone&&T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(Pw,{className:"w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t("home.phone")}),T.jsx("a",{href:`tel:${j.phone}`,className:"text-gray-800 hover:text-orange-500 transition-colors",children:j.phone})]})]}),j.businessHours&&T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(Jp,{className:"w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t("home.businessHours")}),T.jsx("p",{className:"text-gray-800",children:j.businessHours})]})]}),j.menu&&T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(On,{className:"w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t("home.menu")}),T.jsx("div",{className:"text-gray-800",dangerouslySetInnerHTML:{__html:j.menu}})]})]}),j.description&&T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(Lw,{className:"w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t("home.description")}),T.jsx("div",{className:"text-gray-800",dangerouslySetInnerHTML:{__html:j.description}})]})]})]}),T.jsxs("div",{className:"flex flex-wrap gap-3 mt-8 pt-6 border-t border-gray-200",children:[T.jsxs("button",{onClick:()=>{if(!i){Ee.warning(t("toast.loginRequired")),e("/auth");return}re(!0)},className:"flex items-center gap-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors font-medium",children:[T.jsx(Nu,{className:"w-4 h-4"}),t("home.addVisit")]}),T.jsxs("button",{onClick:async()=>{if(!i){Ee.warning(t("toast.loginRequired")),e("/auth");return}try{const{bookmarkService:ie}=await vn(async()=>{const{bookmarkService:ae}=await import("./bookmarkService-BAHyJ3zF.js");return{bookmarkService:ae}},[]),O=await ie.getBookmarksByUserId(i.uid);if(O.some(ae=>ae.restaurantId===j.id)){const ae=O.find(ue=>ue.restaurantId===j.id);ae?.id&&(await ie.deleteBookmark(ae.id),Ee.success(t("toast.bookmarkRemoved")))}else{let ae=await ie.getBookmarkGroups(i.uid),ue=ae.find(be=>be.groupName===t("bookmarks.title"));if(!ue){const be=await ie.createGroup(i.uid,t("bookmarks.title"));ae=await ie.getBookmarkGroups(i.uid),ue=ae.find(Ce=>Ce.id===be)}ue?.id&&(await ie.addBookmark({userId:i.uid,groupId:ue.id,restaurantId:j.id,restaurantName:j.name,restaurantAddress:j.address,createdAt:new Date}),Ee.success(t("toast.bookmarkAdded")))}}catch(ie){console.error("Failed to toggle bookmark:",ie),Ee.error(t("toast.bookmarkFailed"))}},className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors font-medium",children:[T.jsx(Iu,{className:"w-4 h-4"}),t("home.addBookmark")]})]})]})}),$&&j&&T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)"},children:T.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[T.jsxs("div",{className:"flex items-center justify-between mb-6",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800",children:t("visitModal.addTitle")}),T.jsx("button",{onClick:()=>{re(!1),fe(5),x("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:T.jsx(Zp,{className:"w-6 h-6"})})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t("visitModal.restaurant")}),T.jsx("p",{className:"text-gray-800 font-medium",children:j.name})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{className:"block text-sm text-gray-500 mb-2",children:t("visitModal.rating")}),T.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(ie=>T.jsx("button",{type:"button",className:`text-4xl transition-all ${ie<=he?"text-yellow-500 scale-110":"text-gray-300"} hover:scale-125`,onClick:()=>fe(ie),children:""},ie))})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{className:"block text-sm text-gray-500 mb-2",children:t("visitModal.memo")}),T.jsx("textarea",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none text-gray-900",rows:4,placeholder:t("visitModal.memoPlaceholder"),value:R,onChange:ie=>x(ie.target.value)})]}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{onClick:()=>{re(!1),fe(5),x("")},className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors font-medium",children:t("common.cancel")}),T.jsx("button",{onClick:async()=>{if(!(!i||!j))try{const{visitService:ie}=await vn(async()=>{const{visitService:O}=await import("./visitService-CP4wX7kk.js");return{visitService:O}},[]);await ie.createVisit({userId:i.uid,restaurantId:j.id,restaurantName:j.name,visitedAt:new Date,rating:he,memo:R}),Ee.success(t("toast.visitAdded")),re(!1),fe(5),x("")}catch(ie){console.error("Failed to add visit:",ie),Ee.error(t("toast.visitAddFailed"))}},className:"flex-1 px-4 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors font-medium",children:t("visitModal.add")})]})]})})]})},L3=()=>{const{user:i}=Cr(),e=Tr(),{t}=Ss(),[r,o]=P.useState([]),[l,c]=P.useState(!0),[d,p]=P.useState(null),[g,_]=P.useState(5),[v,w]=P.useState("");P.useEffect(()=>{if(!i)return;(async()=>{try{c(!0);const{visitService:B}=await vn(async()=>{const{visitService:R}=await import("./visitService-CP4wX7kk.js");return{visitService:R}},[]),{restaurantService:$}=await vn(async()=>{const{restaurantService:R}=await Promise.resolve().then(()=>$f);return{restaurantService:R}},void 0),re=await B.getVisitsByUserId(i.uid),fe=(await Promise.all(re.map(async R=>{const x=await $.getRestaurantById(R.restaurantId);return x?{visit:R,restaurant:x}:null}))).filter(R=>R!==null);o(fe)}catch(B){console.error("Failed to load visits:",B),Ee.error(t("toast.visitLoadFailed"))}finally{c(!1)}})()},[i]);const C=H=>{p(H),_(H.rating||5),w(H.memo||"")},V=async()=>{if(!(!i||!d))try{const{visitService:H}=await vn(async()=>{const{visitService:B}=await import("./visitService-CP4wX7kk.js");return{visitService:B}},[]);await H.updateVisit(d.id,{rating:g,memo:v}),o(B=>B.map($=>$.visit.id===d.id?{...$,visit:{...$.visit,rating:g,memo:v}}:$)),Ee.success(t("toast.visitUpdated")),p(null),_(5),w("")}catch(H){console.error("Failed to update visit:",H),Ee.error(t("toast.visitUpdateFailed"))}},j=async H=>{if(i)try{const{visitService:B}=await vn(async()=>{const{visitService:$}=await import("./visitService-CP4wX7kk.js");return{visitService:$}},[]);await B.deleteVisit(H),o($=>$.filter(re=>re.visit.id!==H)),Ee.success(t("toast.visitRemoved"))}catch(B){console.error("Failed to remove visit:",B),Ee.error(t("toast.visitRemoveFailed"))}},U=H=>new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"long",day:"numeric"}).format(H);return i?T.jsxs("div",{className:"min-h-screen bg-linear-to-b from-orange-50 to-white",children:[T.jsx(ny,{}),T.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l?T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-5",children:Array.from({length:8}).map((H,B)=>T.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[T.jsx("div",{className:"h-32 sm:h-40 bg-gray-200 animate-pulse"}),T.jsxs("div",{className:"p-4 space-y-3",children:[T.jsx("div",{className:"h-5 bg-gray-200 rounded animate-pulse w-3/4"}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-full"}),T.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-5/6"})]})]})]},B))}):r.length===0?T.jsxs("div",{className:"text-center py-20",children:[T.jsx(Nu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-500 text-lg mb-6",children:t("visits.noVisits")}),T.jsx("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors",children:t("home.goButton")})]}):T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-5",children:r.map(({visit:H,restaurant:B})=>T.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[T.jsxs("div",{onClick:()=>e(`/restaurant/${B.id}`),className:"cursor-pointer",children:[T.jsx("div",{className:"h-32 sm:h-40 bg-linear-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:T.jsx(On,{className:"w-12 h-12 sm:w-16 sm:h-16 text-white opacity-50 group-hover:scale-110 transition-transform"})}),T.jsxs("div",{className:"p-3 sm:p-4",children:[T.jsx("h3",{className:"font-bold text-base sm:text-lg mb-2 text-gray-800 line-clamp-1",children:B.name}),T.jsxs("div",{className:"space-y-1.5 text-xs sm:text-sm text-gray-600",children:[B.category&&T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(On,{className:"w-3 h-3 sm:w-4 sm:h-4 text-orange-500"}),T.jsx("span",{className:"line-clamp-1",children:B.category})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(Co,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500"}),T.jsx("span",{className:"line-clamp-1",children:B.address})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(p4,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500"}),T.jsx("span",{className:"text-xs",children:U(H.visitedAt instanceof Date?H.visitedAt:new Date(H.visitedAt))})]}),H.rating&&T.jsx("div",{className:"flex items-center gap-1",children:T.jsx("div",{className:"flex",children:Array.from({length:5}).map(($,re)=>T.jsx("span",{className:`text-sm ${re<H.rating?"text-yellow-500":"text-gray-300"}`,children:""},re))})}),H.memo&&T.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-700 line-clamp-2",children:H.memo})]})]})]}),T.jsxs("div",{className:"px-3 pb-3 sm:px-4 sm:pb-4 flex gap-2",children:[T.jsxs("button",{onClick:$=>{$.stopPropagation(),C(H)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors text-sm font-medium",children:[T.jsx(k4,{className:"w-4 h-4"}),t("common.edit")]}),T.jsxs("button",{onClick:$=>{$.stopPropagation(),j(H.id)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors text-sm font-medium",children:[T.jsx(Uw,{className:"w-4 h-4"}),t("common.delete")]})]})]},H.id))})}),d&&T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)"},children:T.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[T.jsxs("div",{className:"flex items-center justify-between mb-6",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800",children:t("visitModal.editTitle")}),T.jsx("button",{onClick:()=>{p(null),_(5),w("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:T.jsx(Zp,{className:"w-6 h-6"})})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t("visitModal.restaurant")}),T.jsx("p",{className:"text-gray-800 font-medium",children:r.find(H=>H.visit.id===d.id)?.restaurant.name})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{className:"block text-sm text-gray-500 mb-2",children:t("visitModal.rating")}),T.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(H=>T.jsx("button",{type:"button",className:`text-4xl transition-all ${H<=g?"text-yellow-500 scale-110":"text-gray-300"} hover:scale-125`,onClick:()=>_(H),children:""},H))})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{className:"block text-sm text-gray-500 mb-2",children:t("visitModal.memo")}),T.jsx("textarea",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none text-gray-900",rows:4,placeholder:t("visitModal.memoPlaceholder"),value:v,onChange:H=>w(H.target.value)})]}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{onClick:()=>{p(null),_(5),w("")},className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors font-medium",children:t("common.cancel")}),T.jsx("button",{onClick:V,className:"flex-1 px-4 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors font-medium",children:t("visitModal.update")})]})]})})]}):T.jsx("div",{className:"min-h-screen bg-linear-to-b from-orange-50 to-white flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[T.jsx(Nu,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:t("auth.loginRequired")}),T.jsx("p",{className:"text-gray-600 mb-6",children:t("visits.loginMessage")}),T.jsx("button",{className:"w-full py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors mb-3",onClick:()=>e("/auth"),children:t("auth.login")}),T.jsx("button",{className:"w-full py-3 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium rounded-lg transition-colors",onClick:()=>e("/"),children:t("common.back")})]})})},P3=()=>{const{user:i}=Cr(),e=Tr(),{t}=Ss(),[r,o]=P.useState([]),[l,c]=P.useState(!0);P.useEffect(()=>{if(!i)return;(async()=>{try{c(!0);const{bookmarkService:g}=await vn(async()=>{const{bookmarkService:C}=await import("./bookmarkService-BAHyJ3zF.js");return{bookmarkService:C}},[]),{restaurantService:_}=await vn(async()=>{const{restaurantService:C}=await Promise.resolve().then(()=>$f);return{restaurantService:C}},void 0),v=await g.getBookmarksByUserId(i.uid),w=await Promise.all(v.map(C=>_.getRestaurantById(C.restaurantId)));o(w.filter(C=>C!==null))}catch(g){console.error("Failed to load bookmarks:",g),Ee.error(t("toast.bookmarkLoadFailed"))}finally{c(!1)}})()},[i]);const d=async p=>{if(i)try{const{bookmarkService:g}=await vn(async()=>{const{bookmarkService:w}=await import("./bookmarkService-BAHyJ3zF.js");return{bookmarkService:w}},[]),v=(await g.getBookmarksByUserId(i.uid)).find(w=>w.restaurantId===p);v?.id&&(await g.deleteBookmark(v.id),o(w=>w.filter(C=>C.id!==p)),Ee.success(t("toast.bookmarkRemoved")))}catch(g){console.error("Failed to remove bookmark:",g),Ee.error(t("toast.bookmarkRemoveFailed"))}};return i?T.jsxs("div",{className:"min-h-screen bg-linear-to-b from-orange-50 to-white",children:[T.jsx(ny,{}),T.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l?T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-5",children:Array.from({length:8}).map((p,g)=>T.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[T.jsx("div",{className:"h-32 sm:h-40 bg-gray-200 animate-pulse"}),T.jsxs("div",{className:"p-4 space-y-3",children:[T.jsx("div",{className:"h-5 bg-gray-200 rounded animate-pulse w-3/4"}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-full"}),T.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-5/6"})]})]})]},g))}):r.length===0?T.jsxs("div",{className:"text-center py-20",children:[T.jsx(Iu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-500 text-lg mb-6",children:t("bookmarks.noBookmarks")}),T.jsx("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors",children:t("bookmarks.exploreRestaurants")})]}):T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-5",children:r.map(p=>T.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[T.jsxs("div",{onClick:()=>e(`/restaurant/${p.id}`),className:"cursor-pointer",children:[T.jsx("div",{className:"h-32 sm:h-40 bg-linear-to-br from-blue-400 to-blue-600 flex items-center justify-center",children:T.jsx(On,{className:"w-12 h-12 sm:w-16 sm:h-16 text-white opacity-50 group-hover:scale-110 transition-transform"})}),T.jsxs("div",{className:"p-3 sm:p-4",children:[T.jsx("h3",{className:"font-bold text-base sm:text-lg mb-2 text-gray-800 line-clamp-1",children:p.name}),T.jsxs("div",{className:"space-y-1.5 text-xs sm:text-sm text-gray-600",children:[p.category&&T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(On,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-500"}),T.jsx("span",{className:"line-clamp-1",children:p.category})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(Co,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500"}),T.jsx("span",{className:"line-clamp-1",children:p.address})]})]})]})]}),T.jsx("div",{className:"px-3 pb-3 sm:px-4 sm:pb-4",children:T.jsxs("button",{onClick:()=>d(p.id),className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors text-sm font-medium",children:[T.jsx(Uw,{className:"w-4 h-4"}),t("bookmarks.removeBookmark")]})})]},p.id))})})]}):T.jsx("div",{className:"min-h-screen bg-linear-to-b from-orange-50 to-white flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[T.jsx(Iu,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:t("auth.loginRequired")}),T.jsx("p",{className:"text-gray-600 mb-6",children:t("bookmarks.loginMessage")}),T.jsx("button",{className:"w-full py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors mb-3",onClick:()=>e("/auth"),children:t("auth.login")}),T.jsx("button",{className:"w-full py-3 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium rounded-lg transition-colors",onClick:()=>e("/"),children:t("common.back")})]})})},U3=()=>{const{id:i}=cx(),e=Tr(),{t}=Ss(),{user:r}=Cr(),[o,l]=P.useState(null),[c,d]=P.useState(!0);P.useEffect(()=>{(async()=>{if(i)try{d(!0);const{restaurantService:v}=await vn(async()=>{const{restaurantService:C}=await Promise.resolve().then(()=>$f);return{restaurantService:C}},void 0),w=await v.getRestaurantById(i);l(w)}catch(v){console.error("Failed to load restaurant:",v),Ee.error(t("toast.restaurantLoadFailed")),e("/")}finally{d(!1)}})()},[i,e]),P.useEffect(()=>{if(!o||!window.kakao)return;const _=()=>{const v=document.getElementById("kakao-map");if(!v)return;new window.kakao.maps.services.Geocoder().addressSearch(o.address,(C,V)=>{if(V===window.kakao.maps.services.Status.OK){const j=new window.kakao.maps.LatLng(C[0].y,C[0].x),U={center:j,level:3},H=new window.kakao.maps.Map(v,U),B=new window.kakao.maps.Marker({map:H,position:j});new window.kakao.maps.InfoWindow({content:`<div style="padding:5px;font-size:12px;width:150px;text-align:center;">${o.name}</div>`}).open(H,B)}else console.error("Geocoding failed:",V)})};window.kakao&&window.kakao.maps?window.kakao.maps.load(_):_()},[o]);const p=async()=>{if(!r||!o){Ee.warning(t("toast.loginRequired")),e("/auth");return}try{const{visitService:_}=await vn(async()=>{const{visitService:v}=await import("./visitService-CP4wX7kk.js");return{visitService:v}},[]);await _.createVisit({userId:r.uid,restaurantId:o.id,restaurantName:o.name,visitedAt:new Date,rating:5,memo:""}),Ee.success(t("toast.visitAdded"))}catch(_){console.error("Failed to add visit:",_),Ee.error(t("toast.visitAddFailed"))}},g=async()=>{if(!r||!o){Ee.warning(t("toast.loginRequired")),e("/auth");return}try{const{bookmarkService:_}=await vn(async()=>{const{bookmarkService:C}=await import("./bookmarkService-BAHyJ3zF.js");return{bookmarkService:C}},[]),v=await _.getBookmarksByUserId(r.uid);if(v.some(C=>C.restaurantId===o.id)){const C=v.find(V=>V.restaurantId===o.id);C&&C.id&&(await _.deleteBookmark(C.id),Ee.success(t("toast.bookmarkRemoved")))}else{let C=await _.getGroupsByUserId(r.uid);C.length===0&&(await _.createGroup(r.uid,t("bookmarks.title")),C=await _.getGroupsByUserId(r.uid));const V=C[0];V&&V.id&&(await _.addBookmark({userId:r.uid,groupId:V.id,restaurantId:o.id,restaurantName:o.name,restaurantAddress:o.address,createdAt:new Date}),Ee.success(t("toast.bookmarkAdded")))}}catch(_){console.error("Failed to toggle bookmark:",_),Ee.error(t("toast.bookmarkFailed"))}};return c?T.jsx("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white",children:T.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:T.jsxs("div",{className:"animate-pulse",children:[T.jsx("div",{className:"h-8 bg-gray-200 rounded w-32 mb-6"}),T.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[T.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-6"}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),T.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),T.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]})]})})}):o?T.jsx("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white",children:T.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[T.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-gray-700 hover:text-orange-500 transition-colors mb-6",children:[T.jsx(c4,{className:"w-5 h-5"}),T.jsx("span",{className:"font-medium",children:t("restaurantDetail.back")})]}),T.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:T.jsxs("div",{className:"p-6 sm:p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:o.name}),T.jsxs("div",{className:"space-y-5",children:[o.category&&T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(On,{className:"w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t("restaurantDetail.category")}),T.jsx("p",{className:"text-gray-800",children:o.category})]})]}),T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(Co,{className:"w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t("restaurantDetail.address")}),T.jsx("p",{className:"text-gray-800",children:o.address})]})]}),T.jsx("div",{className:"w-full h-64 sm:h-80 bg-gray-100 rounded-lg overflow-hidden",children:T.jsx("div",{id:"kakao-map",className:"w-full h-full"})}),o.phone&&T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(Pw,{className:"w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t("restaurantDetail.phone")}),T.jsx("a",{href:`tel:${o.phone}`,className:"text-gray-800 hover:text-orange-500 transition-colors",children:o.phone})]})]}),o.businessHours&&T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(Jp,{className:"w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t("restaurantDetail.businessHours")}),T.jsx("p",{className:"text-gray-800",children:o.businessHours})]})]}),o.menu&&T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(On,{className:"w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t("restaurantDetail.menu")}),T.jsx("div",{className:"text-gray-800",dangerouslySetInnerHTML:{__html:o.menu}})]})]}),o.description&&T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(Lw,{className:"w-5 h-5 text-orange-500 mt-0.5 flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t("restaurantDetail.description")}),T.jsx("div",{className:"text-gray-800",dangerouslySetInnerHTML:{__html:o.description}})]})]})]}),T.jsxs("div",{className:"flex flex-wrap gap-3 mt-8 pt-6 border-t border-gray-200",children:[T.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors font-medium",children:[T.jsx(Nu,{className:"w-4 h-4"}),t("restaurantDetail.addVisit")]}),T.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors font-medium",children:[T.jsx(Iu,{className:"w-4 h-4"}),t("restaurantDetail.bookmark")]})]})]})})]})}):null},j3=()=>T.jsxs(xx,{children:[T.jsx(aa,{path:"/",element:T.jsx(V3,{})}),T.jsx(aa,{path:"/auth",element:T.jsx(N3,{})}),T.jsx(aa,{path:"/visits",element:T.jsx(L3,{})}),T.jsx(aa,{path:"/bookmarks",element:T.jsx(P3,{})}),"\\",T.jsx(aa,{path:"/restaurant/:id",element:T.jsx(U3,{})}),T.jsx(aa,{path:"*",element:T.jsx(Sx,{to:"/",replace:!0})})]}),z3={title:"",subtitle:"  "},B3={login:"",register:"",email:"",password:"",confirmPassword:" ",loginButton:"",registerButton:"",loggingIn:" ...",registering:" ...",logout:"",loginRequired:" ",backToHome:"  ",errors:{loginFailed:" ",registerFailed:" ",passwordMismatch:"  ",emailRequired:" ",passwordRequired:" "}},H3={title:"",searchPlaceholder:"  ...",region:"",category:" ",totalRestaurants:" {{count}} ",noResults:"  ",visitRecord:" ",bookmarks:"",close:"",categoryLabel:"",address:"",phone:"",businessHours:"",menu:"",description:"",addVisit:" ",addBookmark:"",visits:{title:" ",description:"    "},restaurants:{title:" ",description:"  "},goButton:""},q3={title:" ",noVisits:"   ",addVisit:"  ",loading:"   ...",error:"   ",loginMessage:"    ."},F3={title:"",noBookmarks:"  ",addBookmark:" ",loading:"  ...",error:"  ",loginMessage:"   .",removeBookmark:" ",exploreRestaurants:" "},$3={title:" ",search:"",searchPlaceholder:"  ",noResults:"  ",loading:" ...",error:" "},G3={loading:" ...",error:" ",success:"",cancel:"",confirm:"",save:"",delete:"",edit:"",back:"",retry:""},K3={loginRequired:"  ",visitAdded:"  ",visitAddFailed:"   ",visitUpdated:"  ",visitUpdateFailed:"   ",visitRemoved:"  ",visitRemoveFailed:"   ",visitLoadFailed:"    ",bookmarkAdded:" ",bookmarkRemoved:" ",bookmarkRemoveFailed:"  ",bookmarkLoadFailed:"   ",bookmarkFailed:"  ",restaurantLoadFailed:"    "},Q3={addTitle:"  ",editTitle:"  ",restaurant:"",rating:"",memo:" ()",memoPlaceholder:"    ...",update:"",add:""},Y3={back:"",category:"",address:"",phone:"",businessHours:"",menu:"",description:"",addVisit:" ",bookmark:""},X3={app:z3,auth:B3,home:H3,visits:q3,bookmarks:F3,restaurants:$3,common:G3,toast:K3,visitModal:Q3,restaurantDetail:Y3},W3={title:"Daemasjib",subtitle:"Record your favorite restaurants"},J3={login:"Login",register:"Sign Up",email:"Email",password:"Password",confirmPassword:"Confirm Password",loginButton:"Login",registerButton:"Sign Up",loggingIn:"Logging in...",registering:"Signing up...",logout:"Logout",loginRequired:"Login Required",backToHome:" Back to Home",errors:{loginFailed:"Login failed",registerFailed:"Sign up failed",passwordMismatch:"Passwords do not match",emailRequired:"Please enter your email",passwordRequired:"Please enter your password"}},Z3={title:"Home",searchPlaceholder:"Search by restaurant name...",region:"Region",category:"Food Category",totalRestaurants:"Total {{count}} restaurants",noResults:"No results found",visitRecord:"Visit History",bookmarks:"Bookmarks",close:"Close",categoryLabel:"Category",address:"Address",phone:"Phone",businessHours:"Business Hours",menu:"Menu",description:"Description",addVisit:"Add Visit",addBookmark:"Bookmark",visits:{title:"Visit History",description:"Record and manage your restaurant visits"},restaurants:{title:"Restaurant Search",description:"Discover new restaurants"},goButton:"Go"},eM={title:"Visit History",noVisits:"No visits yet",addVisit:"Add Visit",loading:"Loading visits...",error:"Failed to load visits",loginMessage:"Please login to manage your visit history."},tM={title:"Bookmarks",noBookmarks:"No bookmarks yet",addBookmark:"Add Bookmark",loading:"Loading bookmarks...",error:"Failed to load bookmarks",loginMessage:"Please login to manage your bookmarks.",removeBookmark:"Remove Bookmark",exploreRestaurants:"Explore Restaurants"},nM={title:"Restaurant Search",search:"Search",searchPlaceholder:"Enter restaurant name",noResults:"No results found",loading:"Searching...",error:"Search failed"},iM={loading:"Loading...",error:"An error occurred",success:"Success",cancel:"Cancel",confirm:"Confirm",save:"Save",delete:"Delete",edit:"Edit",back:"Back",retry:"Retry"},sM={loginRequired:"Login required",visitAdded:"Visit added successfully",visitAddFailed:"Failed to add visit",visitUpdated:"Visit updated successfully",visitUpdateFailed:"Failed to update visit",visitRemoved:"Visit removed successfully",visitRemoveFailed:"Failed to remove visit",visitLoadFailed:"Failed to load visit history",bookmarkAdded:"Bookmark added successfully",bookmarkRemoved:"Bookmark removed successfully",bookmarkRemoveFailed:"Failed to remove bookmark",bookmarkLoadFailed:"Failed to load bookmarks",bookmarkFailed:"Failed to process bookmark",restaurantLoadFailed:"Failed to load restaurant information"},rM={addTitle:"Add Visit",editTitle:"Edit Visit",restaurant:"Restaurant",rating:"Rating",memo:"Memo (Optional)",memoPlaceholder:"Leave a note about this restaurant...",update:"Update",add:"Add"},aM={back:"Back",category:"Category",address:"Address",phone:"Phone",businessHours:"Business Hours",menu:"Menu",description:"Description",addVisit:"Add Visit",bookmark:"Bookmark"},oM={app:W3,auth:J3,home:Z3,visits:eM,bookmarks:tM,restaurants:nM,common:iM,toast:sM,visitModal:rM,restaurantDetail:aM};un.use(PR).init({resources:{ko:{translation:X3},en:{translation:oM}},lng:"ko",fallbackLng:"ko",interpolation:{escapeValue:!1}});const L1={async searchByRegion(i){try{const e=`/api/daegu?mode=json&addr=${encodeURIComponent(i)}`,t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();if(r.status!=="DONE")throw new Error("API returned non-DONE status");return r.data||[]}catch(e){throw console.error("Daegu Food API Error:",e),e}},async searchAll(){const i=["","","","","","","","",""],e=[];for(const t of i)try{const r=await this.searchByRegion(t);e.push(...r)}catch(r){console.error(` ${t}  :`,r)}return e},convertToRestaurant(i){return{id:`daegu-${i.OPENDATA_ID}`,externalId:i.OPENDATA_ID,name:i.BZ_NM,address:i.GNG_CS,phone:i.TLNO,region:this.extractRegion(i.GNG_CS),category:i.FD_CS,businessHours:i.MBZ_HR,menu:i.MNU,description:i.SMPL_DESC,parking:i.PKPL,seatCount:i.SEAT_CNT,reservationAvailable:i.BKN_YN===""}},extractRegion(i){const e=i.match(/?\s*([\w-]+|[\w-]+)/);return e?e[1]:""}},ar="restaurants",P1="sync_metadata",cs={async cacheRestaurant(i){const e=await this.findByExternalId(i.externalId||i.id);return e?e.id:(await O1(us(oi,ar),{...i,cachedAt:nt.now()})).id},async bulkCacheRestaurants(i){let e=0;const t=500;for(let r=0;r<i.length;r+=t){const o=n4(oi),l=i.slice(r,r+t);for(const c of l)if(!await this.findByExternalId(c.externalId||c.id)){const p=Yp(us(oi,ar));o.set(p,{...c,cachedAt:nt.now()}),e++}if(e>0)try{await o.commit()}catch(c){throw console.error("  :",c),c}}return e},async updateSyncMetadata(){await O1(us(oi,P1),{syncedAt:nt.now(),type:"daegu_food_api"})},async getLastSyncTime(){const i=eu(us(oi,P1),tu("type","==","daegu_food_api")),e=await yo(i);if(e.empty)return null;const t=e.docs.map(r=>r.data()).sort((r,o)=>o.syncedAt.toMillis()-r.syncedAt.toMillis());return t.length===0?null:t[0].syncedAt.toDate()},async shouldSync(){const i=await this.getLastSyncTime();if(!i)return!0;const e=10080*60*1e3;return Date.now()-i.getTime()>e},async findByExternalId(i){let e=eu(us(oi,ar),tu("externalId","==",i)),t=await yo(e);if(!t.empty){const r=t.docs[0];return{id:r.id,...r.data()}}if(e=eu(us(oi,ar),tu("id","==",i)),t=await yo(e),!t.empty){const r=t.docs[0];return{id:r.id,...r.data()}}return null},async searchByRegion(i){const e=eu(us(oi,ar),tu("region","==",i));return(await yo(e)).docs.map(r=>({id:r.id,...r.data()}))},async searchByCategory(i){const e=eu(us(oi,ar),tu("category","==",i));return(await yo(e)).docs.map(r=>({id:r.id,...r.data()}))},async getRestaurantById(i){const e=Yp(oi,ar,i),t=await ZD(e);return t.exists()?{id:t.id,...t.data()}:await this.findByExternalId(i)},async getAllRestaurants(){return(await yo(us(oi,ar))).docs.map(e=>({id:e.id,...e.data()}))}},$f=Object.freeze(Object.defineProperty({__proto__:null,restaurantService:cs},Symbol.toStringTag,{value:"Module"})),lM={async syncAllRestaurants(){try{const i=await L1.searchAll(),e=i.map(r=>L1.convertToRestaurant(r)),t=await cs.bulkCacheRestaurants(e);return await cs.updateSyncMetadata(),{total:i.length,new:t}}catch(i){throw console.error(" :",i),i}},async syncIfNeeded(){return await cs.shouldSync()?{synced:!0,result:await this.syncAllRestaurants()}:(await cs.getLastSyncTime(),{synced:!1})},async getRestaurantsByRegion(i,e=!1){return(e||await cs.shouldSync())&&await this.syncIfNeeded(),cs.searchByRegion(i)},async getAllCachedRestaurants(i=!1){return(i||await cs.shouldSync())&&await this.syncIfNeeded(),cs.getAllRestaurants()}};function uM(){const i=P.useRef(!1);return P.useEffect(()=>{if(i.current)return;i.current=!0,(async()=>{try{await lM.syncIfNeeded()}catch(t){console.error("  :",t)}})()},[]),T.jsxs(Yx,{children:[T.jsx(j3,{}),T.jsx(R3,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}function cM(i={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:o,onRegisteredSW:l,onRegisterError:c}=i;let d,p;const g=async(v=!0)=>{await p};async function _(){if("serviceWorker"in navigator){if(d=await vn(async()=>{const{Workbox:v}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:v}},[]).then(({Workbox:v})=>new v("/daemasjib/sw.js",{scope:"/daemasjib/",type:"classic"})).catch(v=>{c?.(v)}),!d)return;d.addEventListener("activated",v=>{(v.isUpdate||v.isExternal)&&window.location.reload()}),d.addEventListener("installed",v=>{v.isUpdate||r?.()}),d.register({immediate:e}).then(v=>{l?l("/daemasjib/sw.js",v):o?.(v)}).catch(v=>{c?.(v)})}}return p=_(),g}cM({onNeedRefresh(){console.log("  .")},onOfflineReady(){console.log("  .")}});DA.createRoot(document.getElementById("root")).render(T.jsx(P.StrictMode,{children:T.jsx(uM,{})}));export{nt as T,mM as a,oi as b,us as c,Yp as d,O1 as e,ZD as f,yo as g,fM as o,eu as q,dM as u,tu as w};
